var e,t;"undefined"==typeof globalThis&&void("undefined"!=typeof window?window.globalThis=window:"undefined"!=typeof global?global.globalThis=global:"undefined"!=typeof self&&(self.globalThis=self)),void(void 0!==globalThis.iSalesWidget&&globalThis.iSalesWidget.version),e=this,t=function(e){"use strict";!function(){function t(e,t){for(var i in t)e[i]=t[i];return e}function i(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function n(e,t,i){var n,s,o,r={};for(o in t)"key"==o?n=t[o]:"ref"==o?s=t[o]:r[o]=t[o];if(arguments.length>2&&(r.children=arguments.length>3?Xt.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===r[o]&&(r[o]=e.defaultProps[o]);return a(e,r,n,s,null)}function a(e,t,i,n,a){var s={type:e,props:t,key:i,ref:n,m:null,p:null,C:0,S:null,M:null,constructor:void 0,k:null==a?++$t:a,T:-1,N:0};return null==a&&null!=Yt.vnode&&Yt.vnode(s),s}function s(){return{current:null}}function o(e){return e.children}function r(e,t){this.props=e,this.context=t}function c(e,t){if(null==t)return e.p?c(e.p,e.T+1):null;for(var i;t<e.m.length;t++)if(null!=(i=e.m[t])&&null!=i.S)return i.S;return"function"==typeof e.type?c(e):null}function l(e){var t,i;if(null!=(e=e.p)&&null!=e.M){for(e.S=e.M.base=null,t=0;t<e.m.length;t++)if(null!=(i=e.m[t])&&null!=i.S){e.S=e.M.base=i.S;break}return l(e)}}function d(e){(!e.A&&(e.A=!0)&&Pe.push(e)&&!u._++||Oe!=Yt.debounceRendering)&&((Oe=Yt.debounceRendering)||ze)(u)}function u(){for(var e,i,n,a,s,o,r,d=1;Pe.length;)Pe.length>d&&Pe.sort(Le),e=Pe.shift(),d=Pe.length,e.A&&(n=void 0,a=void 0,s=(a=(i=e).k).S,o=[],r=[],i.I&&((n=t({},a)).k=a.k+1,Yt.vnode&&Yt.vnode(n),y(i.I,n,a,i.R,i.I.namespaceURI,32&a.N?[s]:null,o,null==s?c(a):s,!!(32&a.N),r),n.k=a.k,n.p.m[n.T]=n,C(o,n,r),a.S=a.p=null,n.S!=s&&l(n)));u._=0}function h(e,t,i,n,s,r,l,d,u,h,g){var p,f,v,b,C,S,T,N=n&&n.m||Gt,A=t.length;for(u=function(e,t,i,n,s){var r,l,d,u,h,m=i.length,g=m,p=0;for(e.m=new Array(s),r=0;r<s;r++)null!=(l=t[r])&&"boolean"!=typeof l&&"function"!=typeof l?("string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?l=e.m[r]=a(null,l,null,null,null):Qt(l)?l=e.m[r]=a(o,{children:l},null,null,null):void 0===l.constructor&&l.C>0?l=e.m[r]=a(l.type,l.props,l.key,l.ref?l.ref:null,l.k):e.m[r]=l,u=r+p,l.p=e,l.C=e.C+1,d=null,-1!=(h=l.T=w(l,i,u,g))&&(g--,(d=i[h])&&(d.N|=2)),null==d||null==d.k?(-1==h&&(s>m?p--:s<m&&p++),"function"!=typeof l.type&&(l.N|=4)):h!=u&&(h==u-1?p--:h==u+1?p++:(h>u?p--:p++,l.N|=4))):e.m[r]=null;if(g)for(r=0;r<m;r++)null!=(d=i[r])&&!(2&d.N)&&(d.S==n&&(n=c(d)),k(d,d));return n}(i,t,N,u,A),p=0;p<A;p++)null!=(v=i.m[p])&&(f=-1==v.T?Zt:N[v.T]||Zt,v.T=p,S=y(e,v,f,s,r,l,d,u,h,g),b=v.S,v.ref&&f.ref!=v.ref&&(f.ref&&M(f.ref,null,v),g.push(v.ref,v.M||b,v)),null==C&&null!=b&&(C=b),(T=!!(4&v.N))||f.m===v.m?u=m(v,u,e,T):"function"==typeof v.type&&void 0!==S?u=S:b&&(u=b.nextSibling),v.N&=-7);return i.S=C,u}function m(e,t,i,n){var a,s;if("function"==typeof e.type){for(a=e.m,s=0;a&&s<a.length;s++)a[s]&&(a[s].p=e,t=m(a[s],t,i,n));return t}e.S!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=c(e)),i.insertBefore(e.S,t||null)),t=e.S);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function g(e,t){return t=t||[],null==e||"boolean"==typeof e||(Qt(e)?e.some(function(e){g(e,t)}):t.push(e)),t}function w(e,t,i,n){var a,s,o,r=e.key,c=e.type,l=t[i],d=null!=l&&!(2&l.N);if(null===l&&null==r||d&&r==l.key&&c==l.type)return i;if(n>(d?1:0))for(a=i-1,s=i+1;a>=0||s<t.length;)if(null!=(l=t[o=a>=0?a--:s++])&&!(2&l.N)&&r==l.key&&c==l.type)return o;return-1}function p(e,t,i){"-"==t[0]?e.setProperty(t,null==i?"":i):e[t]=null==i?"":"number"!=typeof i||Jt.test(t)?i:i+"px"}function f(e,t,i,n,a){var s,o;e:if("style"==t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||p(e.style,t,"");if(i)for(t in i)n&&i[t]==n[t]||p(e.style,t,i[t])}else if("o"==t[0]&&"n"==t[1])s=t!=(t=t.replace(Ve,"$1")),o=t.toLowerCase(),t=o in e||"onFocusOut"==t||"onFocusIn"==t?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=i,i?n?i.u=n.u:(i.u=je,e.addEventListener(t,s?We:Be,s)):e.removeEventListener(t,s?We:Be,s);else{if("http://www.w3.org/2000/svg"==a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==i?"":i;break e}catch(r){}"function"==typeof i||(null==i||!1===i&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==i?"":i))}}function v(e){return function(t){if(this.l){var i=this.l[t.type+e];if(null==t.t)t.t=je++;else if(t.t<i.u)return;return i(Yt.event?Yt.event(t):t)}}}function y(e,n,a,s,l,d,u,m,g,w){var p,v,y,C,M,k,N,A,E,_,I,x,R,D,U,P,O,z=n.type;if(void 0!==n.constructor)return null;128&a.N&&(g=!!(32&a.N),d=[m=n.S=a.S]),(p=Yt.C)&&p(n);e:if("function"==typeof z)try{if(A=n.props,E="prototype"in z&&z.prototype.render,_=(p=z.contextType)&&s[p.M],I=p?_?_.props.value:p.p:s,a.M?N=(v=n.M=a.M).p=v.D:(E?n.M=v=new z(A,I):(n.M=v=new r(A,I),v.constructor=z,v.render=T),_&&_.sub(v),v.state||(v.state={}),v.R=s,y=v.A=!0,v.U=[],v.P=[]),E&&null==v.O&&(v.O=v.state),E&&null!=z.getDerivedStateFromProps&&(v.O==v.state&&(v.O=t({},v.O)),t(v.O,z.getDerivedStateFromProps(A,v.O))),C=v.props,M=v.state,v.k=n,y)E&&null==z.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),E&&null!=v.componentDidMount&&v.U.push(v.componentDidMount);else{if(E&&null==z.getDerivedStateFromProps&&A!==C&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(A,I),n.k==a.k||!v.S&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(A,v.O,I)){for(n.k!=a.k&&(v.props=A,v.state=v.O,v.A=!1),n.S=a.S,n.m=a.m,n.m.some(function(e){e&&(e.p=n)}),x=0;x<v.P.length;x++)v.U.push(v.P[x]);v.P=[],v.U.length&&u.push(v);break e}null!=v.componentWillUpdate&&v.componentWillUpdate(A,v.O,I),E&&null!=v.componentDidUpdate&&v.U.push(function(){v.componentDidUpdate(C,M,k)})}if(v.context=I,v.props=A,v.I=e,v.S=!1,R=Yt._,D=0,E){for(v.state=v.O,v.A=!1,R&&R(n),p=v.render(v.props,v.state,v.context),U=0;U<v.P.length;U++)v.U.push(v.P[U]);v.P=[]}else do{v.A=!1,R&&R(n),p=v.render(v.props,v.state,v.context),v.state=v.O}while(v.A&&++D<25);v.state=v.O,null!=v.getChildContext&&(s=t(t({},s),v.getChildContext())),E&&!y&&null!=v.getSnapshotBeforeUpdate&&(k=v.getSnapshotBeforeUpdate(C,M)),P=p,null!=p&&p.type===o&&null==p.key&&(P=S(p.props.children)),m=h(e,Qt(P)?P:[P],n,a,s,l,d,u,m,g,w),v.base=n.S,n.N&=-161,v.U.length&&u.push(v),N&&(v.D=v.p=null)}catch(L){if(n.k=null,g||null!=d)if(L.then){for(n.N|=g?160:128;m&&8==m.nodeType&&m.nextSibling;)m=m.nextSibling;d[d.indexOf(m)]=null,n.S=m}else{for(O=d.length;O--;)i(d[O]);b(n)}else n.S=a.S,n.m=a.m,L.then||b(n);Yt.S(L,n,a)}else null==d&&n.k==a.k?(n.m=a.m,n.S=a.S):m=n.S=function(e,t,n,a,s,o,r,l,d){var u,m,g,w,p,v,y,b=n.props||Zt,C=t.props,S=t.type;if("svg"==S?s="http://www.w3.org/2000/svg":"math"==S?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!S&&(S?p.localName==S:3==p.nodeType)){e=p,o[u]=null;break}if(null==e){if(null==S)return document.createTextNode(C);e=document.createElementNS(s,S,C.is&&C),l&&(Yt.L&&Yt.L(t,o),l=!1),o=null}if(null==S)b===C||l&&e.data==C||(e.data=C);else{if(o=o&&Xt.call(e.childNodes),!l&&null!=o)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],"children"==u);else if("dangerouslySetInnerHTML"==u)g=p;else if(!(u in C)){if("value"==u&&"defaultValue"in C||"checked"==u&&"defaultChecked"in C)continue;f(e,u,null,p,s)}for(u in C)p=C[u],"children"==u?w=p:"dangerouslySetInnerHTML"==u?m=p:"value"==u?v=p:"checked"==u?y=p:l&&"function"!=typeof p||b[u]===p||f(e,u,p,b[u],s);if(m)l||g&&(m.V==g.V||m.V==e.innerHTML)||(e.innerHTML=m.V),t.m=[];else if(g&&(e.innerHTML=""),h("template"==t.type?e.content:e,Qt(w)?w:[w],t,n,a,"foreignObject"==S?"http://www.w3.org/1999/xhtml":s,o,r,o?o[0]:n.m&&c(n,0),l,d),null!=o)for(u=o.length;u--;)i(o[u]);l||(u="value","progress"==S&&null==v?e.removeAttribute("value"):null!=v&&(v!==e[u]||"progress"==S&&!v||"option"==S&&v!=b[u])&&f(e,u,v,b[u],s),u="checked",null!=y&&y!=e[u]&&f(e,u,y,b[u],s))}return e}(a.S,n,a,s,l,d,u,g,w);return(p=Yt.diffed)&&p(n),128&n.N?void 0:m}function b(e){e&&e.M&&(e.M.S=!0),e&&e.m&&e.m.forEach(b)}function C(e,t,i){for(var n=0;n<i.length;n++)M(i[n],i[++n],i[++n]);Yt.M&&Yt.M(t,e),e.some(function(t){try{e=t.U,t.U=[],e.some(function(e){e.call(t)})}catch(i){Yt.S(i,t.k)}})}function S(e){return"object"!=typeof e||null==e||e.C&&e.C>0?e:Qt(e)?e.map(S):t({},e)}function M(e,t,i){try{if("function"==typeof e){var n="function"==typeof e.N;n&&e.N(),n&&null==t||(e.N=e(t))}else e.current=t}catch(a){Yt.S(a,i)}}function k(e,t,n){var a,s;if(Yt.unmount&&Yt.unmount(e),(a=e.ref)&&(a.current&&a.current!=e.S||M(a,null,t)),null!=(a=e.M)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(o){Yt.S(o,t)}a.base=a.I=null}if(a=e.m)for(s=0;s<a.length;s++)a[s]&&k(a[s],t,n||"function"!=typeof e.type);n||i(e.S),e.M=e.p=e.S=void 0}function T(e,t,i){return this.constructor(e,i)}function N(e,t,i){var a,s,r,c;t==document&&(t=document.documentElement),Yt.p&&Yt.p(e,t),s=(a="function"==typeof i)?null:i&&i.m||t.m,r=[],c=[],y(t,e=(!a&&i||t).m=n(o,null,[e]),s||Zt,Zt,t.namespaceURI,!a&&i?[i]:s?null:t.firstChild?Xt.call(t.childNodes):null,r,!a&&i?i:s?s.S:t.firstChild,a,c),C(r,e,c)}function A(e,t){N(e,t,A)}function E(e,i,n){var s,o,r,c,l=t({},e.props);for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),i)"key"==r?s=i[r]:"ref"==r?o=i[r]:l[r]=void 0===i[r]&&null!=c?c[r]:i[r];return arguments.length>2&&(l.children=arguments.length>3?Xt.call(arguments,2):n),a(e.type,l,s||e.key,o||e.ref,null)}function _(e){function t(e){var i,n;return this.getChildContext||(i=/* @__PURE__ */new Set,(n={})[t.M]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&i.forEach(function(e){e.S=!0,d(e)})},this.sub=function(e){i.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i&&i.delete(e),t&&t.call(e)}}),e.children}return t.M="__cC"+He++,t.p=e,t.Provider=t.j=(t.Consumer=function(e,t){return e.children(t)}).contextType=t,t}function I(){return ii||(ii=new ti),ii}function x(e,t){Qe.U&&Qe.U(qe,e,Ge||t),Ge=0;var i=qe.B||(qe.B={p:[],U:[]});return e>=i.p.length&&i.p.push({}),i.p[e]}function R(e){return Ge=1,D(G,e)}function D(e,t,i){var n,a,s,o=x(Fe++,2);return o.t=e,o.M||(o.p=[i?i(t):G(void 0,t),function(e){var t=o.W?o.W[0]:o.p[0],i=o.t(t,e);t!==i&&(o.W=[i,o.p[1]],o.M.setState({}))}],o.M=qe,qe.H)||(n=function(e,t,i){var n,s;return!o.M.B||((n=o.M.B.p.filter(function(e){return!!e.M})).every(function(e){return!e.W})?!a||a.call(this,e,t,i):(s=o.M.props!==e,n.forEach(function(e){if(e.W){var t=e.p[0];e.p=e.W,e.W=void 0,t!==e.p[0]&&(s=!0)}}),a&&a.call(this,e,t,i)||s))},qe.H=!0,a=qe.shouldComponentUpdate,s=qe.componentWillUpdate,qe.componentWillUpdate=function(e,t,i){if(this.S){var o=a;a=void 0,n(e,t,i),a=o}s&&s.call(this,e,t,i)},qe.shouldComponentUpdate=n),o.W||o.p}function U(e,t){var i=x(Fe++,3);!Qe.O&&Z(i.B,t)&&(i.p=e,i.u=t,qe.B.U.push(i))}function P(e,t){var i=x(Fe++,4);!Qe.O&&Z(i.B,t)&&(i.p=e,i.u=t,qe.U.push(i))}function O(e){return Ge=5,L(function(){return{current:e}},[])}function z(e,t,i){Ge=6,P(function(){if("function"==typeof e){var i=e(t());return function(){e(null),i&&"function"==typeof i&&i()}}if(e)return e.current=t(),function(){return e.current=null}},null==i?i:i.concat(e))}function L(e,t){var i=x(Fe++,7);return Z(i.B,t)&&(i.p=e(),i.B=t,i.U=e),i.p}function V(e,t){return Ge=8,L(function(){return e},t)}function j(e){var t=qe.context[e.M],i=x(Fe++,9);return i.c=e,t?(null==i.p&&(i.p=!0,t.sub(qe)),t.props.value):e.p}function B(e,t){Qe.useDebugValue&&Qe.useDebugValue(t?t(e):e)}function W(){var e,t,i=x(Fe++,11);if(!i.p){for(e=qe.k;null!==e&&!e.L&&null!==e.p;)e=e.p;t=e.L||(e.L=[0,0]),i.p="P"+t[0]+"-"+t[1]++}return i.p}function H(){for(var e;e=Je.shift();)if(e.I&&e.B)try{e.B.U.forEach(q),e.B.U.forEach(K),e.B.U=[]}catch(t){e.B.U=[],Qe.S(t,e.k)}}function F(e){var t,i=function(){clearTimeout(n),nt&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,35);nt&&(t=requestAnimationFrame(i))}function q(e){var t=qe,i=e.M;"function"==typeof i&&(e.M=void 0,i()),qe=t}function K(e){var t=qe;e.M=e.p(),qe=t}function Z(e,t){return!e||e.length!==t.length||t.some(function(t,i){return t!==e[i]})}function G(e,t){return"function"==typeof t?t(e):t}function J(e,t){for(var i in t)e[i]=t[i];return e}function Q(e,t){var i,n;for(i in e)if("__source"!==i&&!(i in t))return!0;for(n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function X(e,t){var i=t(),n=R({t:{p:i,u:t}}),a=n[0].t,s=n[1];return P(function(){a.p=i,a.u=t,Y(a)&&s({t:a})},[e,i,t]),U(function(){return Y(a)&&s({t:a}),e(function(){Y(a)&&s({t:a})})},[e]),i}function Y(e){var t,i,n,a=e.u,s=e.p;try{return n=a(),!((t=s)===(i=n)&&(0!==t||1/t==1/i)||t!=t&&i!=i)}catch(o){return!0}}function $(e){e()}function ee(e){return e}function te(){return[!1,$]}function ie(e,t){this.props=e,this.context=t}function ne(e,t){function i(e){var i=this.props.ref,n=i==e.ref;return!n&&i&&(i.call?i(null):i.current=null),t?!t(this.props,e)||!n:Q(this.props,e)}function a(t){return this.shouldComponentUpdate=i,n(e,t)}return a.displayName="Memo("+(e.displayName||e.name)+")",a.prototype.isReactComponent=!0,a.H=!0,a.type=e,a}function ae(e){function t(t){var i=J({},t);return delete i.ref,e(i,t.ref||null)}return t.$$typeof=ot,t.render=e,t.prototype.isReactComponent=t.H=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}function se(e,t,i){return e&&(e.M&&e.M.B&&(e.M.B.p.forEach(function(e){"function"==typeof e.M&&e.M()}),e.M.B=null),null!=(e=J({},e)).M&&(e.M.I===i&&(e.M.I=t),e.M.S=!0,e.M=null),e.m=e.m&&e.m.map(function(e){return se(e,t,i)})),e}function oe(e,t,i){return e&&i&&(e.k=null,e.m=e.m&&e.m.map(function(e){return oe(e,t,i)}),e.M&&e.M.I===t&&(e.S&&i.appendChild(e.S),e.M.S=!0,e.M.I=i)),e}function re(){this.N=0,this.o=null,this.C=null}function ce(e){var t=e.p.M;return t&&t.F&&t.F(e)}function le(e){function t(t){if(i||(i=e()).then(function(e){e&&(o=e.default||e),s=!0},function(e){a=e,s=!0}),a)throw a;if(!s)throw i;return o?n(o,t):null}var i,a,s,o=null;return t.displayName="Lazy",t.H=!0,t}function de(){this.i=null,this.l=null}function ue(e){return this.getChildContext=function(){return e.context},e.children}function he(e){var t,i=this,a=e.h;if(i.componentWillUnmount=function(){N(null,i.v),i.v=null,i.h=null},i.h&&i.h!==a&&i.componentWillUnmount(),!i.v){for(t=i.k;null!==t&&!t.L&&null!==t.p;)t=t.p;i.h=a,i.v={nodeType:1,parentNode:a,childNodes:[],m:{L:t.L},contains:function(){return!0},insertBefore:function(e,t){this.childNodes.push(e),i.h.insertBefore(e,t)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),i.h.removeChild(e)}}}N(n(ue,{context:i.context},e.k),i.v)}function me(e,t){var i=n(he,{k:e,h:t});return i.containerInfo=t,i}function ge(e,t,i){return null==t.m&&(t.textContent=""),N(e,t),"function"==typeof i&&i(),e?e.M:null}function we(e,t,i){return A(e,t),"function"==typeof i&&i(),e?e.M:null}function pe(){}function fe(){return this.cancelBubble}function ve(){return this.defaultPrevented}function ye(e){return n.bind(null,e)}function be(e){return!!e&&e.$$typeof===ht}function Ce(e){return be(e)&&e.type===o}function Se(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Me(e){return be(e)?E.apply(null,arguments):e}function ke(e){return!!e.m&&(N(null,e),!0)}function Te(e){return e&&(e.base||1===e.nodeType&&e)||null}function Ne(e,t){let i;return(...n)=>{clearTimeout(i),i=setTimeout(async()=>{try{!1,await e(...n)}catch(t){}},t)}}function Ae(e){return/^G-[A-Z0-9]{10}$/.test(e)}function Ee(e){return/^GTM-[A-Z0-9]{7}$/.test(e)}async function _e(){if(window.html2canvas)return window.html2canvas;try{const e="html2canvas",t=await import(e);return t.default||t}catch(e){return null}}function Ie(e,t,i,n,a,s){var o,r,c,l;if(t||(t={}),"ref"in(c=t))for(r in c={},t)"ref"==r?o=t[r]:c[r]=t[r];if(l={type:e,props:c,key:i,ref:o,m:null,p:null,C:0,S:null,M:null,constructor:void 0,k:--Lt,T:-1,N:0,q:a,K:s},"function"==typeof e&&(o=e.defaultProps))for(r in o)void 0===c[r]&&(c[r]=o[r]);return Yt.vnode&&Yt.vnode(l),l}function xe(e){var t,i,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=e.length,t=0;t<n;t++)e[t]&&(i=xe(e[t]))&&(a&&(a+=" "),a+=i);else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function Re(){for(var e,t,i=0,n="",a=arguments.length;i<a;i++)(e=arguments[i])&&(t=xe(e))&&(n&&(n+=" "),n+=t);return n}function De(e,t){switch(t.type){case"SET_STATUS":return{...e,status:t.payload,error:"connected"===t.payload?null:e.error,agentMode:"disconnected"===t.payload?"listening":e.agentMode,operation:"connected"===t.payload||"disconnected"===t.payload||"error"===t.payload?"idle":e.operation};case"SET_AGENT_MODE":return{...e,agentMode:t.payload};case"SET_OPERATION":return{...e,operation:t.payload};case"SET_ERROR":return{...e,error:t.payload,status:t.payload?"error":e.status,operation:t.payload?"idle":e.operation};case"SET_AVAILABILITY":return{...e,isSupported:t.payload.isSupported,isConfigured:t.payload.isConfigured};case"CLEAR_ERROR":return{...e,error:null};case"INCREMENT_RETRY":return{...e,retryCount:e.retryCount+1};case"RESET_RETRY":return{...e,retryCount:0};default:return e}}function Ue(e,t){switch(t.type){case"SET_STATUS":return{...e,status:t.payload,error:"connected"===t.payload?null:e.error,agentMode:"disconnected"===t.payload?"listening":e.agentMode,operation:"connected"===t.payload||"disconnected"===t.payload||"error"===t.payload?"idle":e.operation};case"SET_AGENT_MODE":return{...e,agentMode:t.payload};case"SET_OPERATION":return{...e,operation:t.payload};case"SET_ERROR":return{...e,error:t.payload,status:t.payload?"error":e.status,operation:t.payload?"idle":e.operation};case"SET_AVAILABILITY":return{...e,isSupported:t.payload.isSupported,isConfigured:t.payload.isConfigured};case"CLEAR_ERROR":return{...e,error:null};case"INCREMENT_RETRY":return{...e,retryCount:e.retryCount+1};case"RESET_RETRY":return{...e,retryCount:0};default:return e}}var Pe,Oe,ze,Le,Ve,je,Be,We,He,Fe,qe,Ke,Ze,Ge,Je,Qe,Xe,Ye,$e,et,tt,it,nt,at,st,ot,rt,ct,lt,dt,ut,ht,mt,gt,wt,pt,ft,vt,yt,bt,Ct,St,Mt,kt,Tt,Nt,At,Et,_t,It,xt,Rt,Dt,Ut,Pt,Ot,zt,Lt,Vt,jt,Bt,Wt,Ht,Ft,qt,Kt,Zt={},Gt=[],Jt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qt=Array.isArray,Xt=Gt.slice,Yt={S:function(e,t,i,n){for(var a,s,o;t=t.p;)if((a=t.M)&&!a.p)try{if((s=a.constructor)&&null!=s.getDerivedStateFromError&&(a.setState(s.getDerivedStateFromError(e)),o=a.A),null!=a.componentDidCatch&&(a.componentDidCatch(e,n||{}),o=a.A),o)return a.D=a}catch(r){e=r}throw e}},$t=0;r.prototype.setState=function(e,i){var n;n=null!=this.O&&this.O!=this.state?this.O:this.O=t({},this.state),"function"==typeof e&&(e=e(t({},n),this.props)),e&&t(n,e),null!=e&&this.k&&(i&&this.P.push(i),d(this))},r.prototype.forceUpdate=function(e){this.k&&(this.S=!0,e&&this.U.push(e),d(this))},r.prototype.render=o,Pe=[],ze="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Le=function(e,t){return e.k.C-t.k.C},u._=0,Ve=/(PointerCapture)$|Capture$/i,je=0,Be=v(!1),We=v(!0),He=0;const ei=class e{constructor(){this.currentTheme="auto",this.systemTheme="light",this.mediaQuery=null,this.root=null,this.listeners=/* @__PURE__ */new Set,this.handleSystemThemeChange=e=>{const t=this.systemTheme;if(this.systemTheme=e.matches?"dark":"light","auto"===this.currentTheme){const e=this.getEffectiveTheme(this.currentTheme,t),i=this.getEffectiveTheme();e!==i&&(this.applyTheme(),this.notifyListeners(e,i,!1),this.persistTheme())}else this.persistTheme()},this.initializeMediaQuery(),this.loadPersistedTheme()}initializeMediaQuery(){try{this.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),this.systemTheme=this.mediaQuery.matches?"dark":"light",this.mediaQuery.addEventListener("change",this.handleSystemThemeChange.bind(this))}catch(e){void 0,this.systemTheme="light",this.mediaQuery=null}}initializeRoot(){this.root=document.querySelector(e.ROOT_SELECTOR),this.root}setTheme(e,t=!0){const i=this.currentTheme,n=this.getEffectiveTheme();this.currentTheme=e;const a=this.getEffectiveTheme();n===a&&i===e||(this.applyTheme(t),this.notifyListeners(n,a,!0),this.persistTheme())}getTheme(){return this.currentTheme}getEffectiveTheme(e,t){const i=null!=e?e:this.currentTheme,n=null!=t?t:this.systemTheme;return"auto"===i?n:i}getSystemTheme(){return this.systemTheme}isAutoMode(){return"auto"===this.currentTheme}toggleTheme(){const e="light"===this.getEffectiveTheme()?"dark":"light";this.setTheme(e)}resetToAuto(){this.setTheme("auto")}addListener(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}clearListeners(){this.listeners.clear()}applyTheme(t=!0){const i=this.getEffectiveTheme();if(this.root||this.initializeRoot(),!this.root)return setTimeout(()=>{this.applyTheme(t)},100),void 0;this.root?(t&&(this.root.setAttribute(e.SWITCHING_ATTRIBUTE,"true"),setTimeout(()=>{var t;null==(t=this.root)?void 0:t.removeAttribute(e.SWITCHING_ATTRIBUTE)},50)),this.root.setAttribute(e.THEME_ATTRIBUTE,i),this.root.style.setProperty("--isw-effective-theme",i),this.dispatchThemeChangeEvent(i)):void 0}dispatchThemeChangeEvent(e){var t;try{const i=new CustomEvent("isw-theme-change",{detail:{theme:e},bubbles:!1,cancelable:!1});null==(t=this.root)?void 0:t.dispatchEvent(i)}catch(i){void 0}}notifyListeners(e,t,i){e!==t&&this.listeners.forEach(e=>{try{e(t)}catch(i){void 0}})}persistTheme(){try{const t={theme:this.currentTheme,lastChanged:Date.now(),systemTheme:this.systemTheme},i={version:e.STORAGE_VERSION,preferences:t};localStorage.setItem(e.STORAGE_KEY,JSON.stringify(i))}catch(t){void 0}}loadPersistedTheme(){try{const t=localStorage.getItem(e.STORAGE_KEY);if(!t)return;const i=JSON.parse(t);if(i.version!==e.STORAGE_VERSION)return void 0,this.clearPersistedTheme(),void 0;const n=i.preferences;if(["light","dark","auto"].includes(n.theme)&&(this.currentTheme=n.theme),n.systemTheme&&["light","dark"].includes(n.systemTheme)){const e=Date.now()-36e5;n.lastChanged>e&&(this.systemTheme=n.systemTheme)}}catch(t){void 0,this.clearPersistedTheme()}}clearPersistedTheme(){try{localStorage.removeItem(e.STORAGE_KEY)}catch(t){void 0}}getThemeStats(){return{current:this.currentTheme,effective:this.getEffectiveTheme(),system:this.systemTheme,isAuto:this.isAutoMode(),listenerCount:this.listeners.size,hasRoot:!!this.root,supportsMediaQuery:!!this.mediaQuery}}destroy(){this.mediaQuery&&this.mediaQuery.removeEventListener("change",this.handleSystemThemeChange),this.clearListeners(),this.root=null}reinitialize(){this.initializeRoot(),this.applyTheme(!1)}notifyRootReady(){this.initializeRoot(),this.root&&this.applyTheme(!1)}validateAndFix(){return this.root||this.initializeRoot(),!(!this.root||this.root.getAttribute(e.THEME_ATTRIBUTE)===this.getEffectiveTheme()||(void 0,this.applyTheme(!1),0))}};ei.STORAGE_KEY="isw_theme_preferences",ei.STORAGE_VERSION="1.0",ei.THEME_ATTRIBUTE="data-theme",ei.SWITCHING_ATTRIBUTE="data-theme-switching",ei.ROOT_SELECTOR="#isales-widget-root";let ti=ei,ii=null;const ni=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ThemeManager:ti,getThemeManager:I},Symbol.toStringTag,{value:"Module"})),ai=()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,e=>e.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}return void 0,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};class si{constructor(e={}){this.cspNonce=null,this.storagePrefix="isw_",this.widgetNamespace=e.widgetNamespace||"iSalesWidget",this.baseZIndex=e.baseZIndex||2147483e3,this.cspNonce=this.generateNonce(),this.config={level:"permissive",maxMessageLength:5e3,enableContentFiltering:!1,baseZIndex:this.baseZIndex,widgetNamespace:this.widgetNamespace,...e},this.initializeNamespaceProtection()}static getInstance(e){return si.instance||(si.instance=new si(e)),si.instance}initializeNamespaceProtection(){try{const e=window;e[this.widgetNamespace]||(e[this.widgetNamespace]={version:"1.0.0",initialized:/* @__PURE__ */(new Date).toISOString(),securityManager:this})}catch(e){void 0}}getSafeZIndex(e=0){return this.baseZIndex+e}createFocusTrap(e){const t=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(","),i=i=>{if("Tab"!==i.key)return;const n=Array.from(e.querySelectorAll(t)).filter(e=>!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden"));if(0===n.length)return;const a=n[0],s=n[n.length-1];i.shiftKey?document.activeElement===a&&(i.preventDefault(),s.focus()):document.activeElement===s&&(i.preventDefault(),a.focus())};return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i)}}createIsolatedEventHandler(e,t=!0){return i=>{t&&i.stopPropagation();const n=i.target;n&&n.closest('[data-widget="isales"]')&&e(i)}}validatePostMessage(e,t=[]){return e.origin&&"null"!==e.origin?t.length>0&&!t.includes(e.origin)?{isValid:!1,error:"Origin not in allowed list"}:e.data&&"object"==typeof e.data?"isales-widget"!==e.data.source&&"isales-widget"!==e.data.target?{isValid:!1,error:"Message not for widget"}:{isValid:!0,sanitizedInput:e.data}:{isValid:!1,error:"Invalid message data"}:{isValid:!1,error:"Invalid message origin"}}getIsolatedSessionStorage(){return{setItem:(e,t)=>{try{sessionStorage.setItem("".concat(this.storagePrefix).concat(e),t)}catch(i){void 0}},getItem:e=>{try{return sessionStorage.getItem("".concat(this.storagePrefix).concat(e))}catch(t){return void 0,null}},removeItem:e=>{try{sessionStorage.removeItem("".concat(this.storagePrefix).concat(e))}catch(t){void 0}},clear:()=>{try{Object.keys(sessionStorage).forEach(e=>{e.startsWith(this.storagePrefix)&&sessionStorage.removeItem(e)})}catch(e){void 0}},key:e=>{try{return Object.keys(sessionStorage).filter(e=>e.startsWith(this.storagePrefix))[e]||null}catch(t){return void 0,null}},get length(){try{return Object.keys(sessionStorage).filter(e=>e.startsWith(this.storagePrefix)).length}catch(e){return void 0,0}}}}applyCSSIsolation(e){e.style.contain="layout style",e.style.isolation="isolate",e.style.position="relative",e.style.zIndex=this.getSafeZIndex().toString(),e.style.userSelect="auto",e.style.fontFamily="system-ui, -apple-system, sans-serif",e.style.fontSize="14px",e.style.lineHeight="1.5",e.style.color="#333",e.setAttribute("data-widget","isales"),e.setAttribute("data-widget-version","1.0.0")}validateApiKey(e){if(!e||"string"!=typeof e)return{isValid:!1,error:"API key is required"};const t=e.trim();return/^widget_[a-zA-Z0-9]{16}$/.test(t)?{isValid:!0,sanitizedInput:t}:{isValid:!1,error:"Invalid API key format"}}validateMessage(e){if(!e||"string"!=typeof e)return{isValid:!1,error:"Message is required"};const t=e.trim();return 0===t.length?{isValid:!1,error:"Message cannot be empty"}:t.length>this.config.maxMessageLength?{isValid:!1,error:"Message too long (max ".concat(this.config.maxMessageLength," characters)")}:{isValid:!0,sanitizedInput:this.config.customSanitization?this.config.customSanitization(t):this.sanitizeInput(t)}}sanitizeInput(e){return e&&"string"==typeof e?e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/javascript:/gi,"").replace(/on\w+\s*=\s*["'][^"']*["']/gi,"").trim():""}sanitizeHTML(e){if(!e||"string"!=typeof e)return"";let t=e.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"");t=t.replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,""),t=t.replace(/javascript:/gi,"");const i=["b","i","em","strong","a","br","p","div","span","img","ul","ol","li"];return t=t.replace(/<\/?([a-zA-Z0-9]+)([^>]*)>/g,(e,t)=>{const n=t.toLowerCase();return i.includes(n)?e:""}),t}escapeHTML(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}validateURL(e){if(!e||"string"!=typeof e)return{isValid:!1,error:"URL is required"};try{const t=new URL(e,window.location.origin);return["javascript:","data:","vbscript:"].includes(t.protocol)?{isValid:!1,error:"Unsafe protocol"}:{isValid:!0,sanitizedInput:t.toString()}}catch(t){return{isValid:!1,error:"Invalid URL format"}}}validateOrigin(){const e=window.location.origin;return e?"null"===e||e.startsWith("file://")?{isValid:!1,error:"Insecure origin detected"}:{isValid:!0,sanitizedInput:e}:{isValid:!1,error:"Invalid origin detected"}}isSecureContext(){return window.isSecureContext||"https:"===location.protocol}generateNonce(){try{if("undefined"!=typeof crypto&&crypto.getRandomValues){const e=new Uint8Array(16);return crypto.getRandomValues(e),btoa(String.fromCharCode(...e))}const e=new Array(16);for(let t=0;t<16;t++)e[t]=Math.floor(256*Math.random());return btoa(String.fromCharCode(...e))}catch(e){return void 0,btoa(Date.now().toString()+Math.random().toString(36))}}getNonce(){return this.cspNonce||""}validateVoiceCallCompatibility(){const e=[],t=[];return this.isSecureContext()||(e.push("Secure context required for WebRTC"),t.push("Use HTTPS for voice call functionality")),window.RTCPeerConnection||(e.push("WebRTC not supported"),t.push("Use a modern browser with WebRTC support")),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||(e.push("Media devices not accessible"),t.push("Enable microphone permissions")),{isCompatible:0===e.length,issues:e,recommendations:t.length>0?t:["Voice calls should work normally"]}}getWidgetCookies(){try{const e=document.cookie.split(";"),t={};return e.forEach(e=>{const[i,n]=e.split("=").map(e=>e.trim());i&&(i.startsWith("isw_")||i.startsWith("isales_"))&&(t[i]=n||"")}),t}catch(e){return void 0,{}}}setWidgetCookie(e,t,i={}){try{const n=e.startsWith("isw_")||e.startsWith("isales_")?e:"isw_".concat(e),a={path:"/",secure:"https:"===window.location.protocol,sameSite:"lax",...i};let s="".concat(n,"=").concat(encodeURIComponent(t));a.maxAge&&(s+="; Max-Age=".concat(a.maxAge)),s+="; Path=".concat(a.path),a.secure&&(s+="; Secure"),s+="; SameSite=".concat(a.sameSite),document.cookie=s}catch(n){void 0}}getSecureHeaders(){return{"Content-Type":"application/json",Origin:window.location.origin,"X-Widget-Version":"1.0.0","X-Request-ID":ai()}}getIsolatedStorage(){return{setItem:(e,t)=>{try{localStorage.setItem("".concat(this.storagePrefix).concat(e),t)}catch(i){void 0}},getItem:e=>{try{return localStorage.getItem("".concat(this.storagePrefix).concat(e))}catch(t){return void 0,null}},removeItem:e=>{try{localStorage.removeItem("".concat(this.storagePrefix).concat(e))}catch(t){void 0}},clear:()=>{try{Object.keys(localStorage).forEach(e=>{e.startsWith(this.storagePrefix)&&localStorage.removeItem(e)})}catch(e){void 0}},key:e=>{try{return Object.keys(localStorage).filter(e=>e.startsWith(this.storagePrefix))[e]||null}catch(t){return void 0,null}},get length(){try{return Object.keys(localStorage).filter(e=>e.startsWith(this.storagePrefix)).length}catch(e){return void 0,0}}}}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}}const oi=si.getInstance(),ri=e=>"string"==typeof e,ci=(e,t,i)=>ri(e)&&t.includes(e)?e:i,li=e=>{if(null!=e&&ri(e)&&""!==e.trim())try{return new URL(e),e.trim()}catch(t){return void 0,void 0}},di=e=>{if(null!=e&&ri(e)&&""!==e.trim())return e.trim()},ui=e=>{if(null!=e&&ri(e)&&""!==e.trim())return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e.trim())?e.trim():(void 0,void 0)},hi=e=>{if(null==e)return;if(!ri(e)||""===e.trim())return;const t=e.replace(/[^0-9]/g,"");return!/^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/.test(e.trim())||t.length<7?(void 0,void 0):e.trim()};class mi{constructor(){this.defaultConfig={position:"bottom-right",theme:"light",locale:"en-US",primaryColor:"#000000",features:{voiceCall:!1},api:{baseUrl:"https://api.isales.ai",timeout:3e4,retryAttempts:3},analytics:{enabled:!0},security:{sanitizeHtml:!0},instagram:void 0,telegram:void 0,whatsapp:void 0,wechat:void 0,line:void 0,facebook:void 0,discord:void 0,email:void 0,phone:void 0,elevenlabs_agent_id:void 0,calendar_embedding_code:void 0},this.config=this.defaultConfig}static getInstance(){return mi.instance||(mi.instance=new mi),mi.instance}validate(e){if(!ri(e.apiKey)||""===e.apiKey.trim())throw new Error("Configuration validation failed: apiKey is required");const t=oi.validateApiKey(e.apiKey);if(!t.isValid)throw new Error("Configuration validation failed: ".concat(t.error));const i=di(e.calendar_embedding_code),n=ci(e.widgetMode,["classic","modern"],"classic"),a=Array.isArray(e.suggestedQuestions)?e.suggestedQuestions.filter(e=>"string"==typeof e&&""!==e.trim()).slice(0,6):[];var s;return{apiKey:e.apiKey.trim(),position:ci(e.position,["bottom-right","bottom-left"],"bottom-right"),theme:ci(e.theme,["light","dark","auto"],"light"),primaryColor:(s=e.primaryColor,(ri(s)&&/^#[0-9A-F]{6}$/i.test(s)?s:"#000000")||"#000000"),locale:ri(e.locale)?e.locale:"en-US",instagram:li(e.instagram),telegram:li(e.telegram),whatsapp:li(e.whatsapp),wechat:di(e.wechat),line:di(e.line),facebook:li(e.facebook),discord:li(e.discord),email:ui(e.email),phone:hi(e.phone),elevenlabs_agent_id:di(e.elevenlabs_agent_id),calendar_embedding_code:i,widgetMode:n,suggestedQuestions:a,logo_url:li(e.logo_url),features:this.defaultConfig.features,api:e.api?{...this.defaultConfig.api,baseUrl:li(e.api.baseUrl)||this.defaultConfig.api.baseUrl}:this.defaultConfig.api,analytics:this.defaultConfig.analytics,security:this.defaultConfig.security,customStyles:void 0}}set(e){this.config=this.validate(e),this.config.theme&&I().setTheme(this.config.theme,!1),this.applyCSSVariables()}get(){return this.config}update(e){this.config=this.validate({...this.config,...e}),e.theme&&I().setTheme(e.theme),this.applyCSSVariables()}applyCSSVariables(){const e=document.documentElement,{primaryColor:t,customStyles:i}=this.config;t&&(e.style.setProperty("--isw-primary-color",t),e.style.setProperty("--isw-primary-hover",this.darkenColor(t,.1)),e.style.setProperty("--isw-primary-light",this.lightenColor(t,.9))),i&&Object.entries(i).forEach(([t,i])=>{if(i){const n="--isw-".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase());e.style.setProperty(n,i)}})}darkenColor(e,t){const i=parseInt(e.replace("#",""),16),n=Math.max(0,(i>>16)*(1-t)),a=Math.max(0,(i>>8&255)*(1-t)),s=Math.max(0,(255&i)*(1-t));return"#".concat(Math.round(n).toString(16).padStart(2,"0")).concat(Math.round(a).toString(16).padStart(2,"0")).concat(Math.round(s).toString(16).padStart(2,"0"))}lightenColor(e,t){const i=parseInt(e.replace("#",""),16),n=Math.min(255,(i>>16)+(255-(i>>16))*t),a=Math.min(255,(i>>8&255)+(255-(i>>8&255))*t),s=Math.min(255,(255&i)+(255-(255&i))*t);return"#".concat(Math.round(n).toString(16).padStart(2,"0")).concat(Math.round(a).toString(16).padStart(2,"0")).concat(Math.round(s).toString(16).padStart(2,"0"))}}const gi=mi.getInstance(),wi=class e{constructor(e){var t,i,n;this.sentry=null,this.isInitialized=!1,this.initPromise=null,this.operationQueue=[],this.maxQueueSize=50,this.initTimeout=1e4,this.config={dsn:e.dsn||"https://a2bfb117449c28e80480c0becf8586b1@o1095910.ingest.us.sentry.io/4509562871087104",environment:e.environment||"production",enabled:null==(t=e.enabled)||t,debug:null!=(i=e.debug)?i:"undefined"!=typeof process&&!1,sampleRate:null!=(n=e.sampleRate)?n:.1,projectName:e.projectName||"isales-widget"},this.config.enabled&&this.initialize()}static getInstance(t={}){return e.instance||(e.instance=new e(t)),e.instance}static reset(){e.instance&&(e.instance.destroy(),e.instance=null)}async initialize(){this.initPromise||(this.initPromise=this.performInitialization(),setTimeout(()=>{this.isInitialized||this.handleInitializationFailure()},this.initTimeout))}async performInitialization(){try{if("undefined"==typeof window||"undefined"==typeof document)return!1;if(!(await this.loadSentrySDK()))throw new Error("Failed to load Sentry SDK");return this.configureSentry(),this.processQueue(),this.isInitialized=!0,this.config.debug,!0}catch(e){return this.handleInitializationFailure(),!1}}async loadSentrySDK(){return new Promise(e=>{if(window.Sentry&&this.isValidSentrySDK(window.Sentry))return this.sentry=window.Sentry,window.iSalesLoaderSentryInit?(void 0,this.sentry.addBreadcrumb({category:"sentry",message:"Widget using Sentry instance from loader",level:"info",data:{loader_initialized:!0,widget_reusing:!0,timestamp:Date.now()}})):(void 0,this.sentry.addBreadcrumb({category:"sentry",message:"Widget using external Sentry instance",level:"info",data:{external_sentry:!0,widget_reusing:!0,timestamp:Date.now()}})),this.ensureWidgetIsolation(),e(!0),void 0;const t=document.createElement("script");t.src="https://js.sentry-cdn.com/a2bfb117449c28e80480c0becf8586b1.min.js",t.crossOrigin="anonymous",t.async=!0;const i=setTimeout(()=>{t.remove(),this.loadFallbackSDK().then(e)},5e3);t.onload=()=>{clearTimeout(i),window.Sentry&&this.isValidSentrySDK(window.Sentry)?(this.sentry=window.Sentry,e(!0)):this.loadFallbackSDK().then(e)},t.onerror=()=>{clearTimeout(i),t.remove(),this.loadFallbackSDK().then(e)},document.head.appendChild(t)})}async loadFallbackSDK(){return new Promise(e=>{const t=document.createElement("script");t.src="https://browser.sentry-cdn.com/8.42.0/bundle.min.js",t.crossOrigin="anonymous",t.async=!0;const i=setTimeout(()=>{t.remove(),e(!1)},5e3);t.onload=()=>{clearTimeout(i),window.Sentry&&this.isValidSentrySDK(window.Sentry)?(this.sentry=window.Sentry,e(!0)):e(!1)},t.onerror=()=>{clearTimeout(i),t.remove(),e(!1)},document.head.appendChild(t)})}isValidSentrySDK(e){return!(!e||"object"!=typeof e)&&["init","captureException","captureMessage","addBreadcrumb","setUser","setTag","setContext"].every(t=>"function"==typeof e[t])}ensureWidgetIsolation(){this.sentry&&(this.setTag("widget.name",this.config.projectName),this.setTag("widget.version","1.0.0"),this.setTag("widget.environment",this.config.environment),this.setContext("widget",{name:this.config.projectName,version:"1.0.0",environment:this.config.environment,url:window.location.href,timestamp:Date.now()}))}configureSentry(){if(!this.sentry)return;const e={dsn:this.config.dsn,environment:this.config.environment,release:"".concat(this.config.projectName,"@").concat("1.0.0"),sampleRate:this.config.sampleRate,debug:this.config.debug,maxBreadcrumbs:50,beforeSend:this.beforeSendFilter.bind(this),beforeBreadcrumb:this.beforeBreadcrumbFilter.bind(this),ignoreErrors:["Script error","Non-Error exception captured","ResizeObserver loop limit exceeded","ChunkLoadError","Loading chunk","NetworkError",/Loading CSS chunk/,/Loading chunk \d+ failed/]};try{this.sentry.init(e),this.ensureWidgetIsolation()}catch(t){void 0,this.handleInitializationFailure()}}beforeSendFilter(e){return"development"!==this.config.environment||this.config.debug?(e.contexts||(e.contexts={}),e.tags||(e.tags={}),e.tags["widget.name"]=this.config.projectName,e.tags["widget.environment"]=this.config.environment,e.contexts.widget_state={timestamp:Date.now(),url:window.location.href,referrer:document.referrer,viewport:{width:window.innerWidth,height:window.innerHeight}},e):null}beforeBreadcrumbFilter(e){return"console"===e.category&&"debug"===e.level?null:(e.timestamp=e.timestamp||Date.now()/1e3,e)}processQueue(){if(!this.sentry||!this.isInitialized)return;const e=[...this.operationQueue];this.operationQueue=[];for(const i of e)try{switch(i.type){case"breadcrumb":this.sentry.addBreadcrumb(i.data.args[0]);break;case"user":this.sentry.setUser(i.data.args[0]);break;case"tag":this.sentry.setTag(i.data.args[0],i.data.args[1]);break;case"context":this.sentry.setContext(i.data.args[0],i.data.args[1]);break;case"exception":this.sentry.captureException(i.data.args[0],i.data.context);break;case"message":this.sentry.captureMessage(i.data.args[0],i.data.args[1],i.data.context)}}catch(t){void 0}}queueOperation(e,t,i){this.operationQueue.length>=this.maxQueueSize&&this.operationQueue.shift(),this.operationQueue.push({type:e,data:{args:t,context:i},timestamp:Date.now()})}handleInitializationFailure(){this.operationQueue=[],this.config.debug}captureException(e,t){if(!this.isInitialized||!this.sentry)return this.queueOperation("exception",[e],t),null;try{return this.sentry.captureException(e,t)}catch(i){return void 0,null}}captureMessage(e,t="info",i){if(!this.isInitialized||!this.sentry)return this.queueOperation("message",[e,t],i),null;try{return this.sentry.captureMessage(e,t,i)}catch(n){return void 0,null}}addBreadcrumb(e){if(!this.isInitialized||!this.sentry)return this.queueOperation("breadcrumb",[e]),void 0;try{this.sentry.addBreadcrumb(e)}catch(t){void 0}}setUser(e){if(!this.isInitialized||!this.sentry)return this.queueOperation("user",[e]),void 0;try{this.sentry.setUser(e)}catch(t){void 0}}setTag(e,t){if(!this.isInitialized||!this.sentry)return this.queueOperation("tag",[e,t]),void 0;try{this.sentry.setTag(e,t)}catch(i){void 0}}setContext(e,t){if(!this.isInitialized||!this.sentry)return this.queueOperation("context",[e,t]),void 0;try{this.sentry.setContext(e,t)}catch(i){void 0}}withScope(e){if(!this.isInitialized||!this.sentry)return this.config.debug,0,void 0;try{this.sentry.withScope(e)}catch(t){void 0}}trackApiError(e,t,i){const n={tags:{error_code:e.code,error_status:e.status.toString(),error_severity:i.severity,widget_component:t.component||"unknown",widget_action:t.action||"unknown"},contexts:{api_error:{code:e.code,message:e.message,status:e.status,requestId:e.requestId,canRetry:i.canRetry,timestamp:Date.now()},user_context:{userId:t.userId,conversationId:t.conversationId,messageLength:t.messageLength}},level:this.mapSeverityToLevel(i.severity)},a=new Error("Widget API Error: ".concat(e.code," - ").concat(e.message));a.name="WidgetApiError",this.captureException(a,n)}trackSecurityEvent(e){this.captureMessage("Widget Security Event: ".concat(e.event),"warning",{tags:{security_event:e.event,security_severity:e.severity,widget_security:"true"},contexts:{security_details:{event:e.event,severity:e.severity,origin:e.origin,userAgent:e.userAgent.substring(0,100),timestamp:e.timestamp}}})}trackPerformanceMetric(e,t,i="ms"){this.addBreadcrumb({category:"performance",message:"Widget Performance: ".concat(e," = ").concat(t).concat(i),level:"info",data:{metric:e,value:t,unit:i,timestamp:Date.now()}})}trackRequestMetrics(e){this.addBreadcrumb({category:"http",message:"Widget API Request: ".concat(e.status),level:"success"===e.status?"info":"warning",data:{requestId:e.requestId,duration:e.duration,status:e.status,errorCode:e.errorCode,retryCount:e.retryCount||0,timestamp:Date.now()}})}trackUserInteraction(e,t,i={}){this.addBreadcrumb({category:"user",message:"Widget User Action: ".concat(e," in ").concat(t),level:"info",data:{action:e,component:t,timestamp:Date.now(),...i}})}mapSeverityToLevel(e){switch(e){case"info":return"info";case"warning":return"warning";case"error":default:return"error";case"critical":return"fatal"}}isReady(){return this.isInitialized&&null!==this.sentry}getStatus(){return{enabled:this.config.enabled,initialized:this.isInitialized,ready:this.isReady(),queueSize:this.operationQueue.length,environment:this.config.environment,projectName:this.config.projectName}}destroy(){this.operationQueue=[],this.sentry=null,this.isInitialized=!1,this.initPromise=null}};wi.instance=null;let pi=wi;const fi=function(e={}){return pi.getInstance(e)}({environment:"production",projectName:"isales-widget",enabled:!0}),vi={"en-US":{"chat.placeholder":"Type your message...","chat.send":"Send","chat.typing":"Assistant is typing...","chat.typingSimple":"Typing","chat.welcome.title":"Hi there! ðŸ‘‹","chat.welcome.subtitle":"We're here to help. Ask us anything!","chat.welcome.cta":"Start a conversation","chat.instructions":"Press Enter to send, Shift+Enter for new line","chat.characterCount":"{count}/{limit}","chat.loading":"Loading messages...","chat.welcome.instruction":"Start a conversation by typing below","message.status.sending":"Sending...","message.status.sent":"Sent","message.status.delivered":"Delivered","message.status.read":"Read","message.status.failed":"Failed to send","message.image.alt":"Uploaded image","message.unsupported":"Unsupported message type","message.aria.send":"Send message","time.justNow":"Just now","time.minutesAgo":"{n}m ago","time.hoursAgo":"{n}h ago","time.yesterday":"Yesterday","time.daysAgo":"{n}d ago","time.weekAgo":"1 week ago","time.weeksAgo":"{n} weeks ago","time.monthAgo":"1 month ago","time.monthsAgo":"{n} months ago","time.yearAgo":"1 year ago","time.yearsAgo":"{n} years ago","status.online":"Online","voice.start":"Start voice call","voice.end":"End call","voice.muted":"Muted","voice.unmuted":"Unmuted","call.title":"Voice Assistant","call.connecting":"Connecting...","call.start":"Start Conversation","call.end":"End Conversation","call.connected":"Having a conversation with our AI assistant.","call.instructions":"Click 'Start Conversation' to connect with our AI assistant. Make sure your microphone is enabled.","call.transcript.title":"Conversation","call.transcript.you":"You","call.transcript.agent":"Assistant","navigation.messages":"Messages","navigation.call":"Call Us","navigation.schedule":"Schedule","error.connection":"Connection error. Please try again.","error.generic":"Something went wrong. Please try again.","error.fileSize":"File size exceeds 10MB limit","error.fileType":"File type not supported","error.noResponse":"I didn't receive a response. Please try again.","error.connectionTrouble":"I'm having trouble connecting right now. Please try again in a moment.","error.loadMessagesFailed":"Unable to load messages after multiple attempts","error.autoRetryProgress":"Auto-retry in progress ({retryCount}/3)","errors.microphonePermission":"Microphone permission required. Please allow microphone access and try again.","errors.notConfigured":"Voice assistant not configured. Please contact support.","errors.connectionFailed":"Connection failed. Please try again.","errors.unsupported":"Your device does not support voice calls. Please try on a different device.","action.minimize":"Minimize chat","action.close":"Close chat","action.refresh":"Refresh","action.retry":"Retry","action.retrying":"Retrying...","action.goBack":"Go back","main.greeting.primary":"Hi there","main.greeting.question":"How can we help?","main.action.chat.title":"Send us a message","main.action.chat.subtitle":"We will reply instantly to you","main.action.call.title":"Call us now","main.action.call.subtitle":"You can speak with our virtual assistant","main.action.schedule.title":"Schedule a call or meeting","main.action.schedule.subtitle":"Book convenient time on our calendar","support.title":"Client Support","schedule.title":"Schedule call with our team","schedule.loading":"Setting up calendar...","schedule.error.title":"Unable to Load Calendar","schedule.action.contactSupport":"Contact Support","schedule.action.tryAgain":"Try Again","tooltip.chatWithUs":"Chat with us","tooltip.newMessage":"{n} new message","tooltip.newMessages":"{n} new messages","footer.poweredBy":"Powered by iSales.ai","notification.newUser.welcome1":"Hey there! Welcome.","notification.newUser.welcome2":"ðŸ‘‹ Hi, how are you","notification.newUser.welcome3":"If you have any questions, just ask me here. ðŸ˜Š","notification.recurringUser.welcome1":"Welcome! Glad to see You again. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Hi! Welcome back!","notification.recurringUser.welcome3":"If you have any questions, just ask me here. ðŸ˜Š","modern.input.placeholder":"Ask me anything...","modern.chat.title":"Support Chat","modern.chat.support_title":"Client Support","modern.tooltip.minimize":"Minimize chat","modern.tooltip.close":"Close chat","modern.tooltip.send":"Send message","modern.tooltip.call":"Start voice call","modern.input.aria_label":"Chat message input"},"es-ES":{"chat.placeholder":"Escribe tu mensaje...","chat.send":"Enviar","chat.typing":"El asistente estÃ¡ escribiendo...","chat.typingSimple":"Escribiendo","chat.welcome.title":"Â¡Hola! ðŸ‘‹","chat.welcome.subtitle":"Estamos aquÃ­ para ayudarte. Â¡PregÃºntanos lo que quieras!","chat.welcome.cta":"Iniciar conversaciÃ³n","chat.instructions":"Presiona Enter para enviar, Shift+Enter para nueva lÃ­nea","chat.characterCount":"{count}/{limit}","chat.loading":"Cargando mensajes...","chat.welcome.instruction":"Inicia una conversaciÃ³n escribiendo abajo","message.status.sending":"Enviando...","message.status.sent":"Enviado","message.status.delivered":"Entregado","message.status.read":"LeÃ­do","message.status.failed":"Error al enviar","message.image.alt":"Imagen subida","message.unsupported":"Tipo de mensaje no soportado","message.aria.send":"Enviar mensaje","time.justNow":"Ahora mismo","time.minutesAgo":"hace {n}m","time.hoursAgo":"hace {n}h","time.yesterday":"Ayer","time.daysAgo":"hace {n}d","time.weekAgo":"hace 1 semana","time.weeksAgo":"hace {n} semanas","time.monthAgo":"hace 1 mes","time.monthsAgo":"hace {n} meses","time.yearAgo":"hace 1 aÃ±o","time.yearsAgo":"hace {n} aÃ±os","status.online":"En lÃ­nea","voice.start":"Iniciar llamada de voz","voice.end":"Finalizar llamada","voice.muted":"Silenciado","voice.unmuted":"Audio activado","call.title":"Asistente de Voz","call.connecting":"Conectando...","call.start":"Iniciar ConversaciÃ³n","call.end":"Finalizar ConversaciÃ³n","call.connected":"Teniendo una conversaciÃ³n con nuestro asistente IA.","call.instructions":"Haz clic en 'Iniciar ConversaciÃ³n' para conectarte con nuestro asistente IA. AsegÃºrate de que tu micrÃ³fono estÃ© habilitado.","call.transcript.title":"ConversaciÃ³n","call.transcript.you":"TÃº","call.transcript.agent":"Asistente","navigation.messages":"Mensajes","navigation.call":"Llamar","navigation.schedule":"Programar","schedule.title":"Programar llamada con nuestro equipo","schedule.loading":"Configurando calendario...","schedule.error.title":"No se pudo cargar el calendario","schedule.action.contactSupport":"Contactar soporte","schedule.action.tryAgain":"Intentar de nuevo","error.connection":"Error de conexiÃ³n. IntÃ©ntalo de nuevo.","error.generic":"Algo saliÃ³ mal. Por favor, intÃ©ntalo de nuevo.","error.fileSize":"El archivo excede el lÃ­mite de 10MB","error.fileType":"Tipo de archivo no soportado","error.noResponse":"No recibÃ­ una respuesta. Por favor, intÃ©ntalo de nuevo.","error.connectionTrouble":"Tengo problemas de conexiÃ³n ahora mismo. Por favor, intÃ©ntalo en un momento.","error.loadMessagesFailed":"No se pudieron cargar los mensajes despuÃ©s de mÃºltiples intentos","error.autoRetryProgress":"Reintento automÃ¡tico en progreso ({retryCount}/3)","errors.microphonePermission":"Se requiere permiso de micrÃ³fono. Por favor, permite el acceso al micrÃ³fono e intenta de nuevo.","errors.notConfigured":"Asistente de voz no configurado. Por favor, contacta a soporte.","errors.connectionFailed":"Error de conexiÃ³n. Por favor, intÃ©ntalo de nuevo.","errors.unsupported":"Tu dispositivo no soporta llamadas de voz. Por favor, intenta en un dispositivo diferente.","action.minimize":"Minimizar chat","action.close":"Cerrar chat","action.refresh":"Actualizar","action.retry":"Reintentar","action.retrying":"Reintentando...","action.goBack":"Volver","main.greeting.primary":"Hola","main.greeting.question":"Â¿CÃ³mo podemos ayudarte?","main.action.chat.title":"EnvÃ­anos un mensaje","main.action.chat.subtitle":"Te responderemos al instante","main.action.call.title":"LlÃ¡manos ahora","main.action.call.subtitle":"Puedes hablar con nuestro asistente virtual","main.action.schedule.title":"Programar una llamada o reuniÃ³n","main.action.schedule.subtitle":"Reserva un horario conveniente en nuestro calendario","support.title":"Soporte al Cliente","tooltip.chatWithUs":"Chatea con nosotros","tooltip.newMessage":"{n} mensaje nuevo","tooltip.newMessages":"{n} mensajes nuevos","footer.poweredBy":"Desarrollado por iSales.ai","notification.newUser.welcome1":"Â¡Hola! Bienvenido.","notification.newUser.welcome2":"ðŸ‘‹ Hola, Â¿cÃ³mo estÃ¡s?","notification.newUser.welcome3":"Si tienes alguna pregunta, solo pregÃºntame aquÃ­. ðŸ˜Š","notification.recurringUser.welcome1":"Â¡Bienvenido! Me alegra verte de nuevo. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Â¡Hola! Â¡Bienvenido de vuelta!","notification.recurringUser.welcome3":"Si tienes alguna pregunta, solo pregÃºntame aquÃ­. ðŸ˜Š","modern.input.placeholder":"Escribe tu mensaje...","modern.chat.title":"Chat de soporte","modern.chat.support_title":"AtenciÃ³n al cliente","modern.tooltip.minimize":"Minimizar chat","modern.tooltip.close":"Cerrar chat","modern.tooltip.send":"Enviar mensaje","modern.tooltip.call":"Iniciar llamada de voz","modern.input.aria_label":"Entrada de mensaje de chat"},"fr-FR":{"chat.placeholder":"Tapez votre message...","chat.send":"Envoyer","chat.typing":"L'assistant est en train d'Ã©crire...","chat.typingSimple":"Saisie en cours","chat.welcome.title":"Bonjour ! ðŸ‘‹","chat.welcome.subtitle":"Nous sommes lÃ  pour vous aider. Demandez-nous tout !","chat.welcome.cta":"Commencer une conversation","chat.instructions":"Appuyez sur EntrÃ©e pour envoyer, Maj+EntrÃ©e pour nouvelle ligne","chat.characterCount":"{count}/{limit}","chat.loading":"Chargement des messages...","chat.welcome.instruction":"Commencez une conversation en Ã©crivant ci-dessous","message.status.sending":"Envoi...","message.status.sent":"EnvoyÃ©","message.status.delivered":"LivrÃ©","message.status.read":"Lu","message.status.failed":"Ã‰chec de l'envoi","message.image.alt":"Image tÃ©lÃ©chargÃ©e","message.unsupported":"Type de message non pris en charge","message.aria.send":"Envoyer le message","time.justNow":"Ã€ l'instant","time.minutesAgo":"il y a {n}m","time.hoursAgo":"il y a {n}h","time.yesterday":"Hier","time.daysAgo":"il y a {n}j","time.weekAgo":"il y a 1 semaine","time.weeksAgo":"il y a {n} semaines","time.monthAgo":"il y a 1 mois","time.monthsAgo":"il y a {n} mois","time.yearAgo":"il y a 1 an","time.yearsAgo":"il y a {n} ans","status.online":"En ligne","voice.start":"DÃ©marrer l'appel vocal","voice.end":"Terminer l'appel","voice.muted":"Muet","voice.unmuted":"Audio activÃ©","call.title":"Assistant Vocal","call.connecting":"Connexion...","call.start":"DÃ©marrer la Conversation","call.end":"Terminer la Conversation","call.connected":"Conversation en cours avec notre assistant IA.","call.instructions":"Cliquez sur 'DÃ©marrer la Conversation' pour vous connecter Ã  notre assistant IA. Assurez-vous que votre microphone est activÃ©.","call.transcript.title":"Conversation","call.transcript.you":"Vous","call.transcript.agent":"Assistant","navigation.messages":"Messages","navigation.call":"Nous appeler","navigation.schedule":"Planifier","error.connection":"Erreur de connexion. Veuillez rÃ©essayer.","error.generic":"Une erreur s'est produite. Veuillez rÃ©essayer.","error.fileSize":"Le fichier dÃ©passe la limite de 10MB","error.fileType":"Type de fichier non pris en charge","error.noResponse":"Je n'ai pas reÃ§u de rÃ©ponse. Veuillez rÃ©essayer.","error.connectionTrouble":"J'ai des problÃ¨mes de connexion en ce moment. Veuillez rÃ©essayer dans un moment.","error.loadMessagesFailed":"Impossible de charger les messages aprÃ¨s plusieurs tentatives","error.autoRetryProgress":"Nouvelle tentative automatique en cours ({retryCount}/3)","errors.microphonePermission":"Autorisation du microphone requise. Veuillez autoriser l'accÃ¨s au microphone et rÃ©essayer.","errors.notConfigured":"Assistant vocal non configurÃ©. Veuillez contacter le support.","errors.connectionFailed":"Ã‰chec de la connexion. Veuillez rÃ©essayer.","errors.unsupported":"Votre appareil ne prend pas en charge les appels vocaux. Veuillez essayer sur un autre appareil.","action.minimize":"RÃ©duire le chat","action.close":"Fermer le chat","action.refresh":"Actualiser","action.retry":"RÃ©essayer","action.retrying":"Nouvelle tentative...","action.goBack":"Retour","main.greeting.primary":"Bonjour","main.greeting.question":"Comment pouvons-nous vous aider ?","main.action.chat.title":"Envoyez-nous un message","main.action.chat.subtitle":"Nous vous rÃ©pondrons instantanÃ©ment","main.action.call.title":"Appelez-nous maintenant","main.action.call.subtitle":"Vous pouvez parler avec notre assistant virtuel","main.action.schedule.title":"Planifier un appel ou une rÃ©union","main.action.schedule.subtitle":"RÃ©servez un crÃ©neau pratique dans notre calendrier","support.title":"Support Client","schedule.title":"Planifier un appel avec notre Ã©quipe","schedule.loading":"Configuration du calendrier...","schedule.error.title":"Impossible de charger le calendrier","schedule.action.contactSupport":"Contacter le support","schedule.action.tryAgain":"RÃ©essayer","tooltip.chatWithUs":"Discutez avec nous","tooltip.newMessage":"{n} nouveau message","tooltip.newMessages":"{n} nouveaux messages","footer.poweredBy":"PropulsÃ© par iSales.ai","notification.newUser.welcome1":"Salut ! Bienvenue.","notification.newUser.welcome2":"ðŸ‘‹ Salut, comment allez-vous ?","notification.newUser.welcome3":"Si vous avez des questions, demandez-moi simplement ici. ðŸ˜Š","notification.recurringUser.welcome1":"Bienvenue ! Ravi de vous revoir. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Salut ! Content de vous revoir !","notification.recurringUser.welcome3":"Si vous avez des questions, demandez-moi simplement ici. ðŸ˜Š","modern.input.placeholder":"Tapez votre message...","modern.chat.title":"Chat de support","modern.chat.support_title":"Support client","modern.tooltip.minimize":"RÃ©duire le chat","modern.tooltip.close":"Fermer le chat","modern.tooltip.send":"Envoyer le message","modern.tooltip.call":"DÃ©marrer un appel vocal","modern.input.aria_label":"Saisie de message"},"de-DE":{"chat.placeholder":"Geben Sie Ihre Nachricht ein...","chat.send":"Senden","chat.typing":"Assistent tippt...","chat.typingSimple":"Tippt","chat.welcome.title":"Hallo! ðŸ‘‹","chat.welcome.subtitle":"Wir sind hier, um zu helfen. Fragen Sie uns alles!","chat.welcome.cta":"GesprÃ¤ch beginnen","chat.instructions":"Enter zum Senden, Shift+Enter fÃ¼r neue Zeile","chat.characterCount":"{count}/{limit}","chat.loading":"Nachrichten werden geladen...","chat.welcome.instruction":"Starten Sie eine Unterhaltung, indem Sie unten tippen","message.status.sending":"Wird gesendet...","message.status.sent":"Gesendet","message.status.delivered":"Zugestellt","message.status.read":"Gelesen","message.status.failed":"Senden fehlgeschlagen","message.image.alt":"Hochgeladenes Bild","message.unsupported":"Nicht unterstÃ¼tzter Nachrichtentyp","message.aria.send":"Nachricht senden","time.justNow":"Gerade eben","time.minutesAgo":"vor {n}m","time.hoursAgo":"vor {n}h","time.yesterday":"Gestern","time.daysAgo":"vor {n}d","time.weekAgo":"vor 1 Woche","time.weeksAgo":"vor {n} Wochen","time.monthAgo":"vor 1 Monat","time.monthsAgo":"vor {n} Monaten","time.yearAgo":"vor 1 Jahr","time.yearsAgo":"vor {n} Jahren","status.online":"Online","voice.start":"Sprachanruf starten","voice.end":"Anruf beenden","voice.muted":"Stumm","voice.unmuted":"Ton an","call.title":"Sprachassistent","call.connecting":"Verbindung wird hergestellt...","call.start":"GesprÃ¤ch Starten","call.end":"GesprÃ¤ch Beenden","call.connected":"FÃ¼hre ein GesprÃ¤ch mit unserem KI-Assistenten.","call.instructions":"Klicken Sie auf 'GesprÃ¤ch Starten', um sich mit unserem KI-Assistenten zu verbinden. Stellen Sie sicher, dass Ihr Mikrofon aktiviert ist.","call.transcript.title":"GesprÃ¤ch","call.transcript.you":"Sie","call.transcript.agent":"Assistent","navigation.messages":"Nachrichten","navigation.call":"Anrufen","navigation.schedule":"Terminieren","error.connection":"Verbindungsfehler. Bitte versuchen Sie es erneut.","error.generic":"Etwas ist schief gelaufen. Bitte versuchen Sie es erneut.","error.fileSize":"DateigrÃ¶ÃŸe Ã¼berschreitet 10MB Limit","error.fileType":"Dateityp wird nicht unterstÃ¼tzt","error.noResponse":"Ich habe keine Antwort erhalten. Bitte versuchen Sie es erneut.","error.connectionTrouble":"Ich habe gerade Verbindungsprobleme. Bitte versuchen Sie es in einem Moment erneut.","error.loadMessagesFailed":"Nachrichten konnten nach mehreren Versuchen nicht geladen werden","error.autoRetryProgress":"Automatischer Wiederholungsversuch lÃ¤uft ({retryCount}/3)","errors.microphonePermission":"Mikrofonberechtigung erforderlich. Bitte erlauben Sie den Mikrofonzugang und versuchen Sie es erneut.","errors.notConfigured":"Sprachassistent nicht konfiguriert. Bitte kontaktieren Sie den Support.","errors.connectionFailed":"Verbindung fehlgeschlagen. Bitte versuchen Sie es erneut.","errors.unsupported":"Ihr GerÃ¤t unterstÃ¼tzt keine Sprachanrufe. Bitte versuchen Sie es mit einem anderen GerÃ¤t.","action.minimize":"Chat minimieren","action.close":"Chat schlieÃŸen","action.refresh":"Aktualisieren","action.retry":"Wiederholen","action.retrying":"Wiederholung lÃ¤uft...","action.goBack":"ZurÃ¼ck","main.greeting.primary":"Hallo","main.greeting.question":"Wie kÃ¶nnen wir Ihnen helfen?","main.action.chat.title":"Senden Sie uns eine Nachricht","main.action.chat.subtitle":"Wir antworten Ihnen sofort","main.action.call.title":"Rufen Sie uns jetzt an","main.action.call.subtitle":"Sie kÃ¶nnen mit unserem virtuellen Assistenten sprechen","main.action.schedule.title":"Anruf oder Meeting planen","main.action.schedule.subtitle":"Buchen Sie einen passenden Termin in unserem Kalender","support.title":"Kundensupport","schedule.title":"Termin mit unserem Team vereinbaren","schedule.loading":"Kalender wird eingerichtet...","schedule.error.title":"Kalender konnte nicht geladen werden","schedule.action.contactSupport":"Support kontaktieren","schedule.action.tryAgain":"Erneut versuchen","tooltip.chatWithUs":"Schreiben Sie uns","tooltip.newMessage":"{n} neue Nachricht","tooltip.newMessages":"{n} neue Nachrichten","footer.poweredBy":"Powered by iSales.ai","notification.newUser.welcome1":"Hallo! Willkommen.","notification.newUser.welcome2":"ðŸ‘‹ Hallo, wie geht es dir?","notification.newUser.welcome3":"Falls du Fragen hast, frag mich einfach hier. ðŸ˜Š","notification.recurringUser.welcome1":"Willkommen! SchÃ¶n, dich wiederzusehen. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Hallo! Willkommen zurÃ¼ck!","notification.recurringUser.welcome3":"Falls du Fragen hast, frag mich einfach hier. ðŸ˜Š","modern.input.placeholder":"Geben Sie Ihre Nachricht ein...","modern.chat.title":"Support-Chat","modern.chat.support_title":"Kundensupport","modern.tooltip.minimize":"Chat minimieren","modern.tooltip.close":"Chat schlieÃŸen","modern.tooltip.send":"Nachricht senden","modern.tooltip.call":"Sprachanruf starten","modern.input.aria_label":"Chat-Eingabe"},"pt-BR":{"chat.placeholder":"Digite sua mensagem...","chat.send":"Enviar","chat.typing":"Assistente estÃ¡ digitando...","chat.typingSimple":"Digitando","chat.welcome.title":"OlÃ¡! ðŸ‘‹","chat.welcome.subtitle":"Estamos aqui para ajudar. Pergunte qualquer coisa!","chat.welcome.cta":"Iniciar conversa","chat.instructions":"Pressione Enter para enviar, Shift+Enter para nova linha","chat.characterCount":"{count}/{limit}","chat.loading":"Carregando mensagens...","chat.welcome.instruction":"Inicie uma conversa digitando abaixo","message.status.sending":"Enviando...","message.status.sent":"Enviado","message.status.delivered":"Entregue","message.status.read":"Lido","message.status.failed":"Falha ao enviar","message.image.alt":"Imagem enviada","message.unsupported":"Tipo de mensagem nÃ£o suportado","message.aria.send":"Enviar mensagem","time.justNow":"Agora","time.minutesAgo":"{n}m atrÃ¡s","time.hoursAgo":"{n}h atrÃ¡s","time.yesterday":"Ontem","time.daysAgo":"{n}d atrÃ¡s","time.weekAgo":"1 semana atrÃ¡s","time.weeksAgo":"{n} semanas atrÃ¡s","time.monthAgo":"1 mÃªs atrÃ¡s","time.monthsAgo":"{n} meses atrÃ¡s","time.yearAgo":"1 ano atrÃ¡s","time.yearsAgo":"{n} anos atrÃ¡s","status.online":"Online","voice.start":"Iniciar chamada de voz","voice.end":"Encerrar chamada","voice.muted":"Silenciado","voice.unmuted":"Som ativado","call.title":"Assistente de Voz","call.connecting":"Conectando...","call.start":"Iniciar Conversa","call.end":"Encerrar Conversa","call.connected":"Conversando com nosso assistente de IA.","call.instructions":"Clique em 'Iniciar Conversa' para se conectar com nosso assistente de IA. Certifique-se de que seu microfone esteja habilitado.","call.transcript.title":"Conversa","call.transcript.you":"VocÃª","call.transcript.agent":"Assistente","navigation.messages":"Mensagens","navigation.call":"Ligar","navigation.schedule":"Agendar","error.connection":"Erro de conexÃ£o. Tente novamente.","error.generic":"Algo deu errado. Tente novamente.","error.fileSize":"Arquivo excede o limite de 10MB","error.fileType":"Tipo de arquivo nÃ£o suportado","error.noResponse":"NÃ£o recebi uma resposta. Tente novamente.","error.connectionTrouble":"Estou com problemas de conexÃ£o no momento. Tente novamente em um momento.","error.loadMessagesFailed":"NÃ£o foi possÃ­vel carregar mensagens apÃ³s vÃ¡rias tentativas","error.autoRetryProgress":"Nova tentativa automÃ¡tica em andamento ({retryCount}/3)","errors.microphonePermission":"PermissÃ£o do microfone necessÃ¡ria. Por favor, permita o acesso ao microfone e tente novamente.","errors.notConfigured":"Assistente de voz nÃ£o configurado. Entre em contato com o suporte.","errors.connectionFailed":"Falha na conexÃ£o. Tente novamente.","errors.unsupported":"Seu dispositivo nÃ£o suporta chamadas de voz. Tente em um dispositivo diferente.","action.minimize":"Minimizar chat","action.close":"Fechar chat","action.refresh":"Atualizar","action.retry":"Tentar novamente","action.retrying":"Tentando novamente...","action.goBack":"Voltar","main.greeting.primary":"OlÃ¡","main.greeting.question":"Como podemos ajudar?","main.action.chat.title":"Envie-nos uma mensagem","main.action.chat.subtitle":"Responderemos instantaneamente","main.action.call.title":"Ligue para nÃ³s agora","main.action.call.subtitle":"VocÃª pode falar com nosso assistente virtual","main.action.schedule.title":"Agendar uma ligaÃ§Ã£o ou reuniÃ£o","main.action.schedule.subtitle":"Reserve um horÃ¡rio conveniente em nossa agenda","support.title":"Suporte ao Cliente","schedule.title":"Agendar ligaÃ§Ã£o com nossa equipe","schedule.loading":"Configurando calendÃ¡rio...","schedule.error.title":"NÃ£o foi possÃ­vel carregar o calendÃ¡rio","schedule.action.contactSupport":"Contatar suporte","schedule.action.tryAgain":"Tentar novamente","tooltip.chatWithUs":"Converse conosco","tooltip.newMessage":"{n} nova mensagem","tooltip.newMessages":"{n} novas mensagens","footer.poweredBy":"Desenvolvido por iSales.ai","notification.newUser.welcome1":"OlÃ¡! Bem-vindo.","notification.newUser.welcome2":"ðŸ‘‹ Oi, como vocÃª estÃ¡?","notification.newUser.welcome3":"Se vocÃª tiver alguma pergunta, apenas me pergunte aqui. ðŸ˜Š","notification.recurringUser.welcome1":"Bem-vindo! Que bom te ver novamente. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Oi! Bem-vindo de volta!","notification.recurringUser.welcome3":"Se vocÃª tiver alguma pergunta, apenas me pergunte aqui. ðŸ˜Š","modern.input.placeholder":"Pergunte-me qualquer coisa...","modern.chat.title":"Chat de suporte","modern.chat.support_title":"Suporte ao cliente","modern.tooltip.minimize":"Minimizar chat","modern.tooltip.close":"Fechar chat","modern.tooltip.send":"Enviar mensagem","modern.tooltip.call":"Iniciar chamada de voz","modern.input.aria_label":"Entrada de mensagem de chat"},"it-IT":{"chat.placeholder":"Scrivi il tuo messaggio...","chat.send":"Invia","chat.typing":"L'assistente sta scrivendo...","chat.welcome.title":"Ciao! ðŸ‘‹","chat.welcome.subtitle":"Siamo qui per aiutare. Chiedi qualsiasi cosa!","chat.welcome.cta":"Inizia una conversazione","message.status.sending":"Invio...","message.status.sent":"Inviato","message.status.delivered":"Consegnato","message.status.read":"Letto","message.status.failed":"Invio fallito","time.justNow":"Proprio ora","time.minutesAgo":"{n}m fa","time.hoursAgo":"{n}h fa","time.yesterday":"Ieri","time.daysAgo":"{n}g fa","time.weekAgo":"1 settimana fa","time.weeksAgo":"{n} settimane fa","time.monthAgo":"1 mese fa","time.monthsAgo":"{n} mesi fa","time.yearAgo":"1 anno fa","time.yearsAgo":"{n} anni fa","status.online":"Online","voice.start":"Inizia chiamata vocale","voice.end":"Termina chiamata","voice.muted":"Silenziato","voice.unmuted":"Audio attivo","call.title":"Assistente Vocale","call.connecting":"Connessione...","call.start":"Inizia Conversazione","call.end":"Termina Conversazione","call.connected":"Conversazione in corso con il nostro assistente IA.","call.instructions":"Clicca su 'Inizia Conversazione' per connetterti al nostro assistente IA. Assicurati che il tuo microfono sia abilitato.","call.transcript.title":"Conversazione","call.transcript.you":"Tu","call.transcript.agent":"Assistente","navigation.messages":"Messaggi","navigation.call":"Chiamaci","navigation.schedule":"Programma","error.connection":"Errore di connessione. Riprova.","error.generic":"Qualcosa Ã¨ andato storto. Riprova.","error.fileSize":"Il file supera il limite di 10MB","error.fileType":"Tipo di file non supportato","error.noResponse":"Non ho ricevuto una risposta. Riprova.","error.connectionTrouble":"Sto avendo problemi di connessione al momento. Riprova tra un momento.","error.loadMessagesFailed":"Impossibile caricare i messaggi dopo diversi tentativi","error.autoRetryProgress":"Nuovo tentativo automatico in corso ({retryCount}/3)","errors.microphonePermission":"Autorizzazione microfono richiesta. Consenti l'accesso al microfono e riprova.","errors.notConfigured":"Assistente vocale non configurato. Contatta il supporto.","errors.connectionFailed":"Connessione fallita. Riprova.","errors.unsupported":"Il tuo dispositivo non supporta chiamate vocali. Prova su un dispositivo diverso.","action.minimize":"Riduci chat","action.close":"Chiudi chat","action.refresh":"Aggiorna","action.retry":"Riprova","action.retrying":"Nuovo tentativo...","action.goBack":"Indietro","main.greeting.primary":"Ciao","main.greeting.question":"Come possiamo aiutarti?","main.action.chat.title":"Inviaci un messaggio","main.action.chat.subtitle":"Ti risponderemo immediatamente","main.action.call.title":"Chiamaci ora","main.action.call.subtitle":"Puoi parlare con il nostro assistente virtuale","main.action.schedule.title":"Programma una chiamata o meeting","main.action.schedule.subtitle":"Prenota un orario conveniente sul nostro calendario","chat.typingSimple":"Digitando","chat.instructions":"Premi Invio per inviare, Shift+Invio per nuova riga","chat.characterCount":"{count}/{limit}","chat.loading":"Caricamento messaggi...","chat.welcome.instruction":"Inizia una conversazione scrivendo qui sotto","message.image.alt":"Immagine caricata","message.unsupported":"Tipo di messaggio non supportato","message.aria.send":"Invia messaggio","support.title":"Supporto Clienti","schedule.title":"Programma una chiamata con il nostro team","schedule.loading":"Configurazione calendario...","schedule.error.title":"Impossibile caricare il calendario","schedule.action.contactSupport":"Contatta supporto","schedule.action.tryAgain":"Riprova","tooltip.chatWithUs":"Chatta con noi","tooltip.newMessage":"{n} nuovo messaggio","tooltip.newMessages":"{n} nuovi messaggi","footer.poweredBy":"Powered by iSales.ai","notification.newUser.welcome1":"Ciao! Benvenuto.","notification.newUser.welcome2":"ðŸ‘‹ Ciao, come stai?","notification.newUser.welcome3":"Se hai domande, chiedimi pure qui. ðŸ˜Š","notification.recurringUser.welcome1":"Benvenuto! Sono felice di rivederti. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Ciao! Bentornato!","notification.recurringUser.welcome3":"Se hai domande, chiedimi pure qui. ðŸ˜Š","modern.input.placeholder":"Chiedimi qualsiasi cosa...","modern.chat.title":"Chat di supporto","modern.chat.support_title":"Supporto clienti","modern.tooltip.minimize":"Riduci a icona","modern.tooltip.close":"Chiudi chat","modern.tooltip.send":"Invia messaggio","modern.tooltip.call":"Avvia chiamata vocale","modern.input.aria_label":"Input messaggio chat"},"ja-JP":{"chat.placeholder":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„...","chat.send":"é€ä¿¡","chat.typing":"ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒå…¥åŠ›ä¸­...","chat.welcome.title":"ã“ã‚“ã«ã¡ã¯ï¼ ðŸ‘‹","chat.welcome.subtitle":"ãŠæ‰‹ä¼ã„ã—ã¾ã™ã€‚ä½•ã§ã‚‚ãŠèžããã ã•ã„ï¼","chat.welcome.cta":"ä¼šè©±ã‚’å§‹ã‚ã‚‹","message.status.sending":"é€ä¿¡ä¸­...","message.status.sent":"é€ä¿¡æ¸ˆã¿","message.status.delivered":"é…ä¿¡æ¸ˆã¿","message.status.read":"æ—¢èª­","message.status.failed":"é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸ","time.justNow":"ãŸã£ãŸä»Š","time.minutesAgo":"{n}åˆ†å‰","time.hoursAgo":"{n}æ™‚é–“å‰","time.yesterday":"æ˜¨æ—¥","time.daysAgo":"{n}æ—¥å‰","time.weekAgo":"1é€±é–“å‰","time.weeksAgo":"{n}é€±é–“å‰","time.monthAgo":"1ãƒ¶æœˆå‰","time.monthsAgo":"{n}ãƒ¶æœˆå‰","time.yearAgo":"1å¹´å‰","time.yearsAgo":"{n}å¹´å‰","status.online":"ã‚ªãƒ³ãƒ©ã‚¤ãƒ³","voice.start":"éŸ³å£°é€šè©±ã‚’é–‹å§‹","voice.end":"é€šè©±ã‚’çµ‚äº†","voice.muted":"ãƒŸãƒ¥ãƒ¼ãƒˆ","voice.unmuted":"ãƒŸãƒ¥ãƒ¼ãƒˆè§£é™¤","call.title":"éŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ","call.connecting":"æŽ¥ç¶šä¸­...","call.start":"ä¼šè©±ã‚’é–‹å§‹","call.end":"ä¼šè©±ã‚’çµ‚äº†","call.connected":"AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨ä¼šè©±ä¸­ã§ã™ã€‚","call.instructions":"ã€Œé€šè©±é–‹å§‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã«æŽ¥ç¶šã—ã¦ãã ã•ã„ã€‚ãƒžã‚¤ã‚¯ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚","call.transcript.title":"ä¼šè©±","call.transcript.you":"ã‚ãªãŸ","call.transcript.agent":"ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ","navigation.messages":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸","navigation.call":"é€šè©±","navigation.schedule":"äºˆç´„","error.connection":"æŽ¥ç¶šã‚¨ãƒ©ãƒ¼ã§ã™ã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","error.generic":"ä½•ã‹å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","error.fileSize":"ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ10MBã®åˆ¶é™ã‚’è¶…ãˆã¦ã„ã¾ã™","error.fileType":"ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™","errors.microphonePermission":"ãƒžã‚¤ã‚¯ã®è¨±å¯ãŒå¿…è¦ã§ã™ã€‚ãƒžã‚¤ã‚¯ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¦ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","errors.notConfigured":"ãƒœã‚¤ã‚¹ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚µãƒãƒ¼ãƒˆã«ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚","errors.connectionFailed":"æŽ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","errors.unsupported":"ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹ã¯éŸ³å£°é€šè©±ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“ã€‚åˆ¥ã®ãƒ‡ãƒã‚¤ã‚¹ã§ãŠè©¦ã—ãã ã•ã„ã€‚","action.minimize":"ãƒãƒ£ãƒƒãƒˆã‚’æœ€å°åŒ–","action.close":"ãƒãƒ£ãƒƒãƒˆã‚’é–‰ã˜ã‚‹","action.refresh":"æ›´æ–°","action.retry":"ãƒªãƒˆãƒ©ã‚¤","action.retrying":"ãƒªãƒˆãƒ©ã‚¤ä¸­...","action.goBack":"æˆ»ã‚‹","main.greeting.primary":"ã“ã‚“ã«ã¡ã¯","main.greeting.question":"ã„ã‹ãŒãŠæ‰‹ä¼ã„ã§ãã¾ã™ã‹ï¼Ÿ","main.action.chat.title":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡","main.action.chat.subtitle":"ã™ãã«ãŠè¿”äº‹ã„ãŸã—ã¾ã™","main.action.call.title":"ä»Šã™ããŠé›»è©±","main.action.call.subtitle":"ãƒãƒ¼ãƒãƒ£ãƒ«ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã¨ãŠè©±ã—ã§ãã¾ã™","main.action.schedule.title":"é€šè©±ã¾ãŸã¯ä¼šè­°ã®äºˆç´„","main.action.schedule.subtitle":"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§éƒ½åˆã®è‰¯ã„æ™‚é–“ã‚’äºˆç´„ã—ã¦ãã ã•ã„","chat.typingSimple":"å…¥åŠ›ä¸­","chat.instructions":"é€ä¿¡ã™ã‚‹ã«ã¯Enterã€æ”¹è¡Œã™ã‚‹ã«ã¯Shift+Enter","chat.characterCount":"{count}/{limit}","chat.loading":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã¿ä¸­...","chat.welcome.instruction":"ä¸‹ã«å…¥åŠ›ã—ã¦ä¼šè©±ã‚’å§‹ã‚ã¦ãã ã•ã„","message.image.alt":"ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸç”»åƒ","message.unsupported":"ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—","message.aria.send":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡","error.noResponse":"å¿œç­”ã‚’å—ä¿¡ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","error.connectionTrouble":"ç¾åœ¨æŽ¥ç¶šã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ã—ã°ã‚‰ãã—ã¦ã‹ã‚‰ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚","error.loadMessagesFailed":"è¤‡æ•°å›žã®è©¦è¡Œå¾Œã‚‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“ã§ã—ãŸ","error.autoRetryProgress":"è‡ªå‹•å†è©¦è¡Œä¸­ ({retryCount}/3)","support.title":"ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µãƒãƒ¼ãƒˆ","schedule.title":"ãƒãƒ¼ãƒ ã¨ã®é€šè©±ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«","schedule.loading":"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’è¨­å®šä¸­...","schedule.error.title":"ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’èª­ã¿è¾¼ã‚ã¾ã›ã‚“","schedule.action.contactSupport":"ã‚µãƒãƒ¼ãƒˆã«é€£çµ¡","schedule.action.tryAgain":"å†è©¦è¡Œ","tooltip.chatWithUs":"ãƒãƒ£ãƒƒãƒˆã™ã‚‹","tooltip.newMessage":"{n}ä»¶ã®æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸","tooltip.newMessages":"{n}ä»¶ã®æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸","footer.poweredBy":"iSales.aiãŒæä¾›","notification.newUser.welcome1":"ã“ã‚“ã«ã¡ã¯ï¼ã‚ˆã†ã“ãã€‚","notification.newUser.welcome2":"ðŸ‘‹ ã“ã‚“ã«ã¡ã¯ã€å…ƒæ°—ã§ã™ã‹ï¼Ÿ","notification.newUser.welcome3":"ã”è³ªå•ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ã“ã¡ã‚‰ã§ãŠæ°—è»½ã«ãŠèžããã ã•ã„ã€‚ðŸ˜Š","notification.recurringUser.welcome1":"ã‚ˆã†ã“ãï¼ã¾ãŸãŠä¼šã„ã§ãã¦å¬‰ã—ã„ã§ã™ã€‚ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ ã“ã‚“ã«ã¡ã¯ï¼ãŠå¸°ã‚Šãªã•ã„ï¼","notification.recurringUser.welcome3":"ã”è³ªå•ãŒã”ã–ã„ã¾ã—ãŸã‚‰ã€ã“ã¡ã‚‰ã§ãŠæ°—è»½ã«ãŠèžããã ã•ã„ã€‚ðŸ˜Š","modern.input.placeholder":"ä½•ã§ã‚‚èžã„ã¦ãã ã•ã„...","modern.chat.title":"ã‚µãƒãƒ¼ãƒˆãƒãƒ£ãƒƒãƒˆ","modern.chat.support_title":"ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µãƒãƒ¼ãƒˆ","modern.tooltip.minimize":"ãƒãƒ£ãƒƒãƒˆã‚’æœ€å°åŒ–","modern.tooltip.close":"ãƒãƒ£ãƒƒãƒˆã‚’é–‰ã˜ã‚‹","modern.tooltip.send":"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡","modern.tooltip.call":"éŸ³å£°é€šè©±ã‚’é–‹å§‹","modern.input.aria_label":"ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›"},"zh-CN":{"chat.placeholder":"è¾“å…¥æ‚¨çš„æ¶ˆæ¯...","chat.send":"å‘é€","chat.typing":"åŠ©æ‰‹æ­£åœ¨è¾“å…¥...","chat.welcome.title":"æ‚¨å¥½ï¼ ðŸ‘‹","chat.welcome.subtitle":"æˆ‘ä»¬åœ¨è¿™é‡Œä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨çš„å—ï¼","chat.welcome.cta":"å¼€å§‹å¯¹è¯","message.status.sending":"å‘é€ä¸­...","message.status.sent":"å·²å‘é€","message.status.delivered":"å·²é€è¾¾","message.status.read":"å·²è¯»","message.status.failed":"å‘é€å¤±è´¥","time.justNow":"åˆšåˆš","time.minutesAgo":"{n}åˆ†é’Ÿå‰","time.hoursAgo":"{n}å°æ—¶å‰","time.yesterday":"æ˜¨å¤©","time.daysAgo":"{n}å¤©å‰","time.weekAgo":"1å‘¨å‰","time.weeksAgo":"{n}å‘¨å‰","time.monthAgo":"1ä¸ªæœˆå‰","time.monthsAgo":"{n}ä¸ªæœˆå‰","time.yearAgo":"1å¹´å‰","time.yearsAgo":"{n}å¹´å‰","status.online":"åœ¨çº¿","voice.start":"å¼€å§‹è¯­éŸ³é€šè¯","voice.end":"ç»“æŸé€šè¯","voice.muted":"é™éŸ³","voice.unmuted":"å–æ¶ˆé™éŸ³","call.title":"è¯­éŸ³åŠ©æ‰‹","call.connecting":"è¿žæŽ¥ä¸­...","call.start":"å¼€å§‹å¯¹è¯","call.end":"ç»“æŸå¯¹è¯","call.connected":"æ­£åœ¨ä¸Žæˆ‘ä»¬çš„AIåŠ©æ‰‹å¯¹è¯ã€‚","call.instructions":'ç‚¹å‡»"å¼€å§‹é€šè¯"è¿žæŽ¥æˆ‘ä»¬çš„AIåŠ©æ‰‹ã€‚è¯·ç¡®ä¿æ‚¨çš„éº¦å…‹é£Žå·²å¯ç”¨ã€‚',"call.transcript.title":"å¯¹è¯","call.transcript.you":"æ‚¨","call.transcript.agent":"åŠ©æ‰‹","navigation.messages":"æ¶ˆæ¯","navigation.call":"é€šè¯","navigation.schedule":"é¢„çº¦","error.connection":"è¿žæŽ¥é”™è¯¯ã€‚è¯·é‡è¯•ã€‚","error.generic":"å‡ºçŽ°äº†é—®é¢˜ã€‚è¯·é‡è¯•ã€‚","error.fileSize":"æ–‡ä»¶å¤§å°è¶…è¿‡10MBé™åˆ¶","error.fileType":"ä¸æ”¯æŒçš„æ–‡ä»¶ç±»åž‹","errors.microphonePermission":"éœ€è¦éº¦å…‹é£Žæƒé™ã€‚è¯·å…è®¸è®¿é—®éº¦å…‹é£Žå¹¶é‡è¯•ã€‚","errors.notConfigured":"è¯­éŸ³åŠ©æ‰‹æœªé…ç½®ã€‚è¯·è”ç³»æ”¯æŒã€‚","errors.connectionFailed":"è¿žæŽ¥å¤±è´¥ã€‚è¯·é‡è¯•ã€‚","errors.unsupported":"æ‚¨çš„è®¾å¤‡ä¸æ”¯æŒè¯­éŸ³é€šè¯ã€‚è¯·åœ¨å…¶ä»–è®¾å¤‡ä¸Šå°è¯•ã€‚","action.minimize":"æœ€å°åŒ–èŠå¤©","action.close":"å…³é—­èŠå¤©","action.refresh":"åˆ·æ–°","action.retry":"é‡è¯•","action.retrying":"é‡è¯•ä¸­...","action.goBack":"è¿”å›ž","main.greeting.primary":"æ‚¨å¥½","main.greeting.question":"æˆ‘ä»¬å¦‚ä½•ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼Ÿ","main.action.chat.title":"ç»™æˆ‘ä»¬å‘æ¶ˆæ¯","main.action.chat.subtitle":"æˆ‘ä»¬ä¼šç«‹å³å›žå¤æ‚¨","main.action.call.title":"ç«‹å³è‡´ç”µ","main.action.call.subtitle":"æ‚¨å¯ä»¥ä¸Žæˆ‘ä»¬çš„è™šæ‹ŸåŠ©æ‰‹äº¤è°ˆ","main.action.schedule.title":"é¢„çº¦é€šè¯æˆ–ä¼šè®®","main.action.schedule.subtitle":"åœ¨æˆ‘ä»¬çš„æ—¥åŽ†ä¸Šé¢„è®¢åˆé€‚çš„æ—¶é—´","chat.typingSimple":"æ­£åœ¨è¾“å…¥","chat.instructions":"æŒ‰ Enter å‘é€ï¼ŒShift+Enter æ¢è¡Œ","chat.characterCount":"{count}/{limit}","chat.loading":"æ­£åœ¨åŠ è½½æ¶ˆæ¯...","chat.welcome.instruction":"åœ¨ä¸‹æ–¹è¾“å…¥å¼€å§‹å¯¹è¯","message.image.alt":"ä¸Šä¼ çš„å›¾ç‰‡","message.unsupported":"ä¸æ”¯æŒçš„æ¶ˆæ¯ç±»åž‹","message.aria.send":"å‘é€æ¶ˆæ¯","error.noResponse":"æˆ‘æ²¡æœ‰æ”¶åˆ°å›žå¤ã€‚è¯·é‡è¯•ã€‚","error.connectionTrouble":"æˆ‘çŽ°åœ¨è¿žæŽ¥æœ‰é—®é¢˜ã€‚è¯·ç¨åŽé‡è¯•ã€‚","error.loadMessagesFailed":"å¤šæ¬¡å°è¯•åŽæ— æ³•åŠ è½½æ¶ˆæ¯","error.autoRetryProgress":"è‡ªåŠ¨é‡è¯•è¿›è¡Œä¸­ ({retryCount}/3)","support.title":"å®¢æˆ·æ”¯æŒ","schedule.title":"ä¸Žæˆ‘ä»¬çš„å›¢é˜Ÿå®‰æŽ’é€šè¯","schedule.loading":"æ­£åœ¨è®¾ç½®æ—¥åŽ†...","schedule.error.title":"æ— æ³•åŠ è½½æ—¥åŽ†","schedule.action.contactSupport":"è”ç³»æ”¯æŒ","schedule.action.tryAgain":"é‡è¯•","tooltip.chatWithUs":"ä¸Žæˆ‘ä»¬èŠå¤©","tooltip.newMessage":"{n}æ¡æ–°æ¶ˆæ¯","tooltip.newMessages":"{n}æ¡æ–°æ¶ˆæ¯","footer.poweredBy":"ç”± iSales.ai æä¾›æ”¯æŒ","notification.newUser.welcome1":"ä½ å¥½ï¼æ¬¢è¿Žã€‚","notification.newUser.welcome2":"ðŸ‘‹ å—¨ï¼Œä½ å¥½å—ï¼Ÿ","notification.newUser.welcome3":"å¦‚æžœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨è¿™é‡Œé—®æˆ‘ã€‚ðŸ˜Š","notification.recurringUser.welcome1":"æ¬¢è¿Žï¼å¾ˆé«˜å…´å†æ¬¡è§åˆ°æ‚¨ã€‚ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ å—¨ï¼æ¬¢è¿Žå›žæ¥ï¼","notification.recurringUser.welcome3":"å¦‚æžœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨è¿™é‡Œé—®æˆ‘ã€‚ðŸ˜Š","modern.input.placeholder":"éšä¾¿é—®æˆ‘...","modern.chat.title":"æ”¯æŒèŠå¤©","modern.chat.support_title":"å®¢æˆ·æ”¯æŒ","modern.tooltip.minimize":"æœ€å°åŒ–èŠå¤©","modern.tooltip.close":"å…³é—­èŠå¤©","modern.tooltip.send":"å‘é€æ¶ˆæ¯","modern.tooltip.call":"å¼€å§‹è¯­éŸ³é€šè¯","modern.input.aria_label":"èŠå¤©æ¶ˆæ¯è¾“å…¥"},"ko-KR":{"chat.placeholder":"ë©”ì‹œì§€ë¥¼ ìž…ë ¥í•˜ì„¸ìš”...","chat.send":"ì „ì†¡","chat.typing":"ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ìž…ë ¥ ì¤‘...","chat.welcome.title":"ì•ˆë…•í•˜ì„¸ìš”! ðŸ‘‹","chat.welcome.subtitle":"ë„ì›€ì„ ë“œë¦¬ê¸° ìœ„í•´ ì—¬ê¸° ìžˆìŠµë‹ˆë‹¤. ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”!","chat.welcome.cta":"ëŒ€í™” ì‹œìž‘","message.status.sending":"ì „ì†¡ ì¤‘...","message.status.sent":"ì „ì†¡ë¨","message.status.delivered":"ë°°ë‹¬ë¨","message.status.read":"ì½ìŒ","message.status.failed":"ì „ì†¡ ì‹¤íŒ¨","time.justNow":"ë°©ê¸ˆ","time.minutesAgo":"{n}ë¶„ ì „","time.hoursAgo":"{n}ì‹œê°„ ì „","time.yesterday":"ì–´ì œ","time.daysAgo":"{n}ì¼ ì „","time.weekAgo":"1ì£¼ ì „","time.weeksAgo":"{n}ì£¼ ì „","time.monthAgo":"1ê°œì›” ì „","time.monthsAgo":"{n}ê°œì›” ì „","time.yearAgo":"1ë…„ ì „","time.yearsAgo":"{n}ë…„ ì „","status.online":"ì˜¨ë¼ì¸","voice.start":"ìŒì„± í†µí™” ì‹œìž‘","voice.end":"í†µí™” ì¢…ë£Œ","voice.muted":"ìŒì†Œê±°","voice.unmuted":"ìŒì†Œê±° í•´ì œ","call.title":"ìŒì„± ì–´ì‹œìŠ¤í„´íŠ¸","call.connecting":"ì—°ê²° ì¤‘...","call.start":"ëŒ€í™” ì‹œìž‘","call.end":"ëŒ€í™” ì¢…ë£Œ","call.connected":"AI ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™” ì¤‘ìž…ë‹ˆë‹¤.","call.instructions":'AI ì–´ì‹œìŠ¤í„´íŠ¸ì— ì—°ê²°í•˜ë ¤ë©´ "í†µí™” ì‹œìž‘"ì„ í´ë¦­í•˜ì„¸ìš”. ë§ˆì´í¬ê°€ í™œì„±í™”ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.',"call.transcript.title":"ëŒ€í™”","call.transcript.you":"ë‹¹ì‹ ","call.transcript.agent":"ì–´ì‹œìŠ¤í„´íŠ¸","navigation.messages":"ë©”ì‹œì§€","navigation.call":"í†µí™”","navigation.schedule":"ì˜ˆì•½","error.connection":"ì—°ê²° ì˜¤ë¥˜ìž…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","error.generic":"ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","error.fileSize":"íŒŒì¼ í¬ê¸°ê°€ 10MB ì œí•œì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤","error.fileType":"ì§€ì›ë˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ìž…ë‹ˆë‹¤","errors.microphonePermission":"ë§ˆì´í¬ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤. ë§ˆì´í¬ ì ‘ê·¼ì„ í—ˆìš©í•˜ê³  ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","errors.notConfigured":"ìŒì„± ì–´ì‹œìŠ¤í„´íŠ¸ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì§€ì›íŒ€ì— ë¬¸ì˜í•˜ì„¸ìš”.","errors.connectionFailed":"ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","errors.unsupported":"ê·€í•˜ì˜ ê¸°ê¸°ëŠ” ìŒì„± í†µí™”ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ê¸°ê¸°ì—ì„œ ì‹œë„í•´ ì£¼ì„¸ìš”.","action.minimize":"ì±„íŒ… ìµœì†Œí™”","action.close":"ì±„íŒ… ë‹«ê¸°","action.refresh":"ìƒˆë¡œê³ ì¹¨","action.retry":"ë‹¤ì‹œ ì‹œë„","action.retrying":"ìž¬ì‹œë„ ì¤‘...","action.goBack":"ë’¤ë¡œ","main.greeting.primary":"ì•ˆë…•í•˜ì„¸ìš”","main.greeting.question":"ì–´ë–»ê²Œ ë„ì™€ë“œë¦´ê¹Œìš”?","main.action.chat.title":"ë©”ì‹œì§€ ë³´ë‚´ê¸°","main.action.chat.subtitle":"ì¦‰ì‹œ ë‹µë³€ë“œë¦¬ê² ìŠµë‹ˆë‹¤","main.action.call.title":"ì§€ê¸ˆ ì „í™”í•˜ê¸°","main.action.call.subtitle":"ê°€ìƒ ì–´ì‹œìŠ¤í„´íŠ¸ì™€ ëŒ€í™”í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤","main.action.schedule.title":"í†µí™” ë˜ëŠ” íšŒì˜ ì˜ˆì•½","main.action.schedule.subtitle":"íŽ¸ë¦¬í•œ ì‹œê°„ì„ ìº˜ë¦°ë”ì—ì„œ ì˜ˆì•½í•˜ì„¸ìš”","chat.typingSimple":"ìž…ë ¥ ì¤‘","chat.instructions":"ì „ì†¡í•˜ë ¤ë©´ Enter, ì¤„ë°”ê¿ˆí•˜ë ¤ë©´ Shift+Enter","chat.characterCount":"{count}/{limit}","chat.loading":"ë©”ì‹œì§€ ë¡œë”© ì¤‘...","chat.welcome.instruction":"ì•„ëž˜ì— ìž…ë ¥í•˜ì—¬ ëŒ€í™”ë¥¼ ì‹œìž‘í•˜ì„¸ìš”","message.image.alt":"ì—…ë¡œë“œëœ ì´ë¯¸ì§€","message.unsupported":"ì§€ì›ë˜ì§€ ì•ŠëŠ” ë©”ì‹œì§€ ìœ í˜•","message.aria.send":"ë©”ì‹œì§€ ë³´ë‚´ê¸°","error.noResponse":"ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","error.connectionTrouble":"í˜„ìž¬ ì—°ê²°ì— ë¬¸ì œê°€ ìžˆìŠµë‹ˆë‹¤. ìž ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.","error.loadMessagesFailed":"ì—¬ëŸ¬ ë²ˆ ì‹œë„ í›„ì—ë„ ë©”ì‹œì§€ë¥¼ ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤","error.autoRetryProgress":"ìžë™ ìž¬ì‹œë„ ì§„í–‰ ì¤‘ ({retryCount}/3)","support.title":"ê³ ê° ì§€ì›","schedule.title":"íŒ€ê³¼ í†µí™” ì¼ì • ìž¡ê¸°","schedule.loading":"ìº˜ë¦°ë” ì„¤ì • ì¤‘...","schedule.error.title":"ìº˜ë¦°ë”ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤","schedule.action.contactSupport":"ì§€ì›íŒ€ ì—°ë½","schedule.action.tryAgain":"ë‹¤ì‹œ ì‹œë„","tooltip.chatWithUs":"ì €í¬ì™€ ì±„íŒ…í•˜ì„¸ìš”","tooltip.newMessage":"{n}ê°œì˜ ìƒˆ ë©”ì‹œì§€","tooltip.newMessages":"{n}ê°œì˜ ìƒˆ ë©”ì‹œì§€","footer.poweredBy":"iSales.ai ì œê³µ","notification.newUser.welcome1":"ì•ˆë…•í•˜ì„¸ìš”! í™˜ì˜í•©ë‹ˆë‹¤.","notification.newUser.welcome2":"ðŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, ì–´ë–»ê²Œ ì§€ë‚´ì„¸ìš”?","notification.newUser.welcome3":"ê¶ê¸ˆí•œ ì ì´ ìžˆìœ¼ì‹œë©´ ì—¬ê¸°ì„œ ì–¸ì œë“ ì§€ ë¬¼ì–´ë³´ì„¸ìš”. ðŸ˜Š","notification.recurringUser.welcome1":"í™˜ì˜í•©ë‹ˆë‹¤! ë‹¤ì‹œ ë§Œë‚˜ì„œ ë°˜ê°‘ìŠµë‹ˆë‹¤. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”! ë‹¤ì‹œ ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!","notification.recurringUser.welcome3":"ê¶ê¸ˆí•œ ì ì´ ìžˆìœ¼ì‹œë©´ ì—¬ê¸°ì„œ ì–¸ì œë“ ì§€ ë¬¼ì–´ë³´ì„¸ìš”. ðŸ˜Š","modern.input.placeholder":"ë¬´ì—‡ì´ë“  ë¬¼ì–´ë³´ì„¸ìš”...","modern.chat.title":"ì§€ì› ì±„íŒ…","modern.chat.support_title":"ê³ ê° ì§€ì›","modern.tooltip.minimize":"ì±„íŒ… ìµœì†Œí™”","modern.tooltip.close":"ì±„íŒ… ë‹«ê¸°","modern.tooltip.send":"ë©”ì‹œì§€ ì „ì†¡","modern.tooltip.call":"ìŒì„± í†µí™” ì‹œìž‘","modern.input.aria_label":"ì±„íŒ… ë©”ì‹œì§€ ìž…ë ¥"},"ru-RU":{"chat.placeholder":"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð²Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ...","chat.send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","chat.typing":"ÐÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚ Ð¿ÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚...","chat.welcome.title":"Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ! ðŸ‘‹","chat.welcome.subtitle":"Ð§ÐµÐ¼ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ?","chat.welcome.cta":"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€","message.status.sending":"ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ°...","message.status.sent":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾","message.status.delivered":"Ð”Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¾","message.status.read":"ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾","message.status.failed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ","time.justNow":"Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾","time.minutesAgo":"{n}Ð¼ Ð½Ð°Ð·Ð°Ð´","time.hoursAgo":"{n}Ñ‡ Ð½Ð°Ð·Ð°Ð´","time.yesterday":"Ð’Ñ‡ÐµÑ€Ð°","time.daysAgo":"{n}Ð´ Ð½Ð°Ð·Ð°Ð´","time.weekAgo":"1 Ð½ÐµÐ´ÐµÐ»ÑŽ Ð½Ð°Ð·Ð°Ð´","time.weeksAgo":"{n} Ð½ÐµÐ´ÐµÐ»ÑŒ Ð½Ð°Ð·Ð°Ð´","time.monthAgo":"1 Ð¼ÐµÑÑÑ† Ð½Ð°Ð·Ð°Ð´","time.monthsAgo":"{n} Ð¼ÐµÑÑÑ†ÐµÐ² Ð½Ð°Ð·Ð°Ð´","time.yearAgo":"1 Ð³Ð¾Ð´ Ð½Ð°Ð·Ð°Ð´","time.yearsAgo":"{n} Ð»ÐµÑ‚ Ð½Ð°Ð·Ð°Ð´","status.online":"Ð’ ÑÐµÑ‚Ð¸","voice.start":"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð²Ñ‹Ð·Ð¾Ð²","voice.end":"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð²Ñ‹Ð·Ð¾Ð²","voice.muted":"ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾","voice.unmuted":"Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾","call.title":"Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ ÐÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚","call.connecting":"ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ...","call.start":"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€","call.end":"Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€","call.connected":"Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€ Ñ Ð½Ð°ÑˆÐ¸Ð¼ Ð˜Ð˜-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð¾Ð¼.","call.instructions":'ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ "ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€", Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ðº Ð½Ð°ÑˆÐµÐ¼Ñƒ Ð˜Ð˜-Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ñƒ. Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ, Ñ‡Ñ‚Ð¾ Ð²Ð°Ñˆ Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½.',"call.transcript.title":"Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€","call.transcript.you":"Ð’Ñ‹","call.transcript.agent":"ÐÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚","navigation.messages":"ÐœÐµÑÑÐµÐ½Ð´Ð¶ÐµÑ€","navigation.call":"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚ÑŒ","navigation.schedule":"Ð—Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ","error.connection":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.","error.generic":"Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.","error.fileSize":"Ð Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐ°ÐµÑ‚ Ð»Ð¸Ð¼Ð¸Ñ‚ Ð² 10ÐœÐ‘","error.fileType":"ÐÐµÐ¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‚Ð¸Ð¿ Ñ„Ð°Ð¹Ð»Ð°","errors.microphonePermission":"Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ñ€Ð°Ð·Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð½Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½Ð°. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½Ñƒ Ð¸ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÑƒ.","errors.notConfigured":"Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½. Ð¡Ð²ÑÐ¶Ð¸Ñ‚ÐµÑÑŒ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹.","errors.connectionFailed":"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ. ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÑƒ.","errors.unsupported":"Ð’Ð°ÑˆÐµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð¾ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ñ‹Ðµ Ð²Ñ‹Ð·Ð¾Ð²Ñ‹. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¼ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ðµ.","action.minimize":"Ð¡Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ñ‡Ð°Ñ‚","action.close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ‡Ð°Ñ‚","action.refresh":"ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ","action.retry":"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ","action.retrying":"ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ°...","action.goBack":"ÐÐ°Ð·Ð°Ð´","main.greeting.primary":"Ð—Ð´Ñ€Ð°Ð²ÑÑ‚Ð²ÑƒÐ¹Ñ‚Ðµ!","main.greeting.question":"Ð§ÐµÐ¼ Ð¼Ñ‹ Ð¼Ð¾Ð¶ÐµÐ¼ Ð¿Ð¾Ð¼Ð¾Ñ‡ÑŒ?","main.action.chat.title":"ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð½Ð°Ð¼","main.action.chat.subtitle":"ÐœÑ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ð¼ Ð¼Ð³Ð½Ð¾Ð²ÐµÐ½Ð½Ð¾","main.action.call.title":"ÐŸÐ¾Ð·Ð²Ð¾Ð½Ð¸Ñ‚Ðµ Ð½Ð°Ð¼ ÑÐµÐ¹Ñ‡Ð°Ñ","main.action.call.subtitle":"Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¿Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒ Ñ Ð½Ð°ÑˆÐ¸Ð¼ AI Ð°ÑÑÐ¸ÑÑ‚ÐµÐ½Ñ‚Ð¾Ð¼","main.action.schedule.title":"Ð—Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð²Ð¾Ð½Ð¾Ðº Ð¸Ð»Ð¸ Ð²ÑÑ‚Ñ€ÐµÑ‡Ñƒ","main.action.schedule.subtitle":"Ð—Ð°Ð±Ñ€Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð² Ð½Ð°ÑˆÐµÐ¼ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ðµ","chat.typingSimple":"ÐŸÐµÑ‡Ð°Ñ‚Ð°ÐµÑ‚","chat.instructions":"ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Enter Ð´Ð»Ñ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸, Shift+Enter Ð´Ð»Ñ Ð½Ð¾Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐ¸","chat.characterCount":"{count}/{limit}","chat.loading":"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹...","chat.welcome.instruction":"ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð±ÐµÑÐµÐ´Ñƒ, Ð½Ð°Ð¿Ð¸ÑÐ°Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ Ð½Ð¸Ð¶Ðµ","message.image.alt":"Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ","message.unsupported":"ÐÐµÐ¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ð¹ Ñ‚Ð¸Ð¿ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ","message.aria.send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ","error.noResponse":"Ð¯ Ð½Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð» Ð¾Ñ‚Ð²ÐµÑ‚. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.","error.connectionTrouble":"Ð£ Ð¼ÐµÐ½Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ñ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸ÐµÐ¼ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ. ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°, Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ.","error.loadMessagesFailed":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÐ»Ðµ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº","error.autoRetryProgress":"ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð°Ñ Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ° ({retryCount}/3)","support.title":"ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°","schedule.title":"Ð—Ð°Ð¿Ð»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð²Ð¾Ð½Ð¾Ðº Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾Ð¹","schedule.loading":"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€Ñ...","schedule.error.title":"ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÐºÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ","schedule.action.contactSupport":"Ð¡Ð²ÑÐ·Ð°Ñ‚ÑŒÑÑ Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹","schedule.action.tryAgain":"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°","tooltip.chatWithUs":"ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð½Ð°Ð¼","tooltip.newMessage":"{n} Ð½Ð¾Ð²Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ","tooltip.newMessages":"{n} Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹","footer.poweredBy":"Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° iSales.ai","notification.newUser.welcome1":"ÐŸÑ€Ð¸Ð²ÐµÑ‚! ðŸ‘‹ Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ","notification.newUser.welcome2":"ðŸ‘‹ ÐŸÑ€Ð¸Ð²ÐµÑ‚, ÐºÐ°Ðº Ð´ÐµÐ»Ð°?","notification.newUser.welcome3":"Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑÐ¿Ñ€Ð¾ÑÐ¸Ñ‚Ðµ Ð¼ÐµÐ½Ñ Ð·Ð´ÐµÑÑŒ ðŸ˜Š","notification.recurringUser.welcome1":"Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ! Ð Ð°Ð´ ÑÐ½Ð¾Ð²Ð° Ð²Ð°Ñ Ð²Ð¸Ð´ÐµÑ‚ÑŒ ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°!","notification.recurringUser.welcome3":"Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ ÑÐ¿Ñ€Ð¾ÑÐ¸Ñ‚Ðµ Ð¼ÐµÐ½Ñ Ð·Ð´ÐµÑÑŒ ðŸ˜Š","modern.input.placeholder":"Ð¡Ð¿Ñ€Ð¾ÑÐ¸Ñ‚Ðµ Ð¼ÐµÐ½Ñ Ð¾ Ñ‡ÐµÐ¼ ÑƒÐ³Ð¾Ð´Ð½Ð¾...","modern.chat.title":"Ð§Ð°Ñ‚ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸","modern.chat.support_title":"ÐšÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°","modern.tooltip.minimize":"Ð¡Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ñ‡Ð°Ñ‚","modern.tooltip.close":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ‡Ð°Ñ‚","modern.tooltip.send":"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ","modern.tooltip.call":"ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð²Ñ‹Ð·Ð¾Ð²","modern.input.aria_label":"ÐŸÐ¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð° ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ"},"id-ID":{"chat.placeholder":"Ketik pesan Anda...","chat.send":"Kirim","chat.typing":"Asisten sedang mengetik...","chat.welcome.title":"Halo! ðŸ‘‹","chat.welcome.subtitle":"Kami siap membantu. Tanya apa saja!","chat.welcome.cta":"Mulai percakapan","message.status.sending":"Mengirim...","message.status.sent":"Terkirim","message.status.delivered":"Tersampaikan","message.status.read":"Dibaca","message.status.failed":"Gagal mengirim","time.justNow":"Baru saja","time.minutesAgo":"{n} menit lalu","time.hoursAgo":"{n} jam lalu","time.yesterday":"Kemarin","time.daysAgo":"{n} hari lalu","time.weekAgo":"1 minggu lalu","time.weeksAgo":"{n} minggu lalu","time.monthAgo":"1 bulan lalu","time.monthsAgo":"{n} bulan lalu","time.yearAgo":"1 tahun lalu","time.yearsAgo":"{n} tahun lalu","status.online":"Online","voice.start":"Mulai panggilan suara","voice.end":"Akhiri panggilan","voice.muted":"Dibisukan","voice.unmuted":"Suara aktif","call.title":"Asisten Suara","call.connecting":"Menghubungkan...","call.start":"Mulai Percakapan","call.end":"Akhiri Percakapan","call.connected":"Sedang berbicara dengan asisten AI kami.","call.instructions":'Klik "Mulai Panggilan" untuk terhubung dengan asisten AI kami. Pastikan mikrofon Anda diaktifkan.',"call.transcript.title":"Percakapan","call.transcript.you":"Anda","call.transcript.agent":"Asisten","navigation.messages":"Pesan","navigation.call":"Telepon","navigation.schedule":"Jadwal","error.connection":"Kesalahan koneksi. Silakan coba lagi.","error.generic":"Terjadi kesalahan. Silakan coba lagi.","error.fileSize":"Ukuran file melebihi batas 10MB","error.fileType":"Jenis file tidak didukung","errors.microphonePermission":"Izin mikrofon diperlukan. Silakan izinkan akses mikrofon dan coba lagi.","errors.notConfigured":"Asisten suara tidak dikonfigurasi. Silakan hubungi dukungan.","errors.connectionFailed":"Koneksi gagal. Silakan coba lagi.","errors.unsupported":"Perangkat Anda tidak mendukung panggilan suara. Silakan coba di perangkat lain.","action.minimize":"Perkecil chat","action.close":"Tutup chat","action.refresh":"Refresh","action.retry":"Coba lagi","action.retrying":"Mencoba lagi...","action.goBack":"Kembali","main.greeting.primary":"Halo","main.greeting.question":"Bagaimana kami bisa membantu?","main.action.chat.title":"Kirim pesan kepada kami","main.action.chat.subtitle":"Kami akan membalas dengan segera","main.action.call.title":"Hubungi kami sekarang","main.action.call.subtitle":"Anda dapat berbicara dengan asisten virtual kami","main.action.schedule.title":"Jadwalkan panggilan atau pertemuan","main.action.schedule.subtitle":"Pesan waktu yang nyaman di kalender kami","chat.typingSimple":"Mengetik","chat.instructions":"Tekan Enter untuk mengirim, Shift+Enter untuk baris baru","chat.characterCount":"{count}/{limit}","chat.loading":"Memuat pesan...","chat.welcome.instruction":"Mulai percakapan dengan mengetik di bawah","message.image.alt":"Gambar yang diunggah","message.unsupported":"Jenis pesan tidak didukung","message.aria.send":"Kirim pesan","error.noResponse":"Saya tidak menerima respons. Silakan coba lagi.","error.connectionTrouble":"Saya mengalami masalah koneksi saat ini. Silakan coba lagi sebentar lagi.","error.loadMessagesFailed":"Tidak dapat memuat pesan setelah beberapa kali percobaan","error.autoRetryProgress":"Percobaan otomatis sedang berlangsung ({retryCount}/3)","support.title":"Dukungan Klien","schedule.title":"Jadwalkan panggilan dengan tim kami","schedule.loading":"Menyiapkan kalender...","schedule.error.title":"Tidak dapat memuat kalender","schedule.action.contactSupport":"Hubungi dukungan","schedule.action.tryAgain":"Coba lagi","tooltip.chatWithUs":"Chat dengan kami","tooltip.newMessage":"{n} pesan baru","tooltip.newMessages":"{n} pesan baru","footer.poweredBy":"Didukung oleh iSales.ai","notification.newUser.welcome1":"Halo! Selamat datang.","notification.newUser.welcome2":"ðŸ‘‹ Hai, apa kabar?","notification.newUser.welcome3":"Jika Anda memiliki pertanyaan, tanyakan saja di sini. ðŸ˜Š","notification.recurringUser.welcome1":"Selamat datang! Senang melihat Anda lagi. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Hai! Selamat datang kembali!","notification.recurringUser.welcome3":"Jika Anda memiliki pertanyaan, tanyakan saja di sini. ðŸ˜Š","modern.input.placeholder":"Tanyakan apa saja...","modern.chat.title":"Obrolan Dukungan","modern.chat.support_title":"Dukungan Pelanggan","modern.tooltip.minimize":"Minimalkan obrolan","modern.tooltip.close":"Tutup obrolan","modern.tooltip.send":"Kirim pesan","modern.tooltip.call":"Mulai panggilan suara","modern.input.aria_label":"Input pesan obrolan"},"tl-PH":{"chat.placeholder":"I-type ang inyong mensahe...","chat.send":"Ipadala","chat.typing":"Nagta-type ang assistant...","chat.welcome.title":"Kumusta! ðŸ‘‹","chat.welcome.subtitle":"Nandito kami para tumulong. Magtanong ng kahit ano!","chat.welcome.cta":"Simulan ang pag-uusap","message.status.sending":"Ipinapadala...","message.status.sent":"Naipadala","message.status.delivered":"Nadeliver","message.status.read":"Nabasa","message.status.failed":"Hindi naipadala","time.justNow":"Ngayon lang","time.minutesAgo":"{n} minuto nakaraan","time.hoursAgo":"{n} oras nakaraan","time.yesterday":"Kahapon","time.daysAgo":"{n}a nakaraan","time.weekAgo":"1 linggo nakaraan","time.weeksAgo":"{n} linggo nakaraan","time.monthAgo":"1 buwan nakaraan","time.monthsAgo":"{n} buwan nakaraan","time.yearAgo":"1 taon nakaraan","time.yearsAgo":"{n} taon nakaraan","status.online":"Online","voice.start":"Simulan ang voice call","voice.end":"Tapusin ang tawag","voice.muted":"Naka-mute","voice.unmuted":"May tunog","call.title":"Voice Assistant","call.connecting":"Kumukonekta...","call.start":"Simulan ang Pag-uusap","call.end":"Tapusin ang Pag-uusap","call.connected":"Nakikipag-usap sa aming AI assistant.","call.instructions":'I-click ang "Simulan ang Pag-uusap" para kumonekta sa aming AI assistant. Siguraduhin na nakabukas ang inyong mikropono.',"call.transcript.title":"Pag-uusap","call.transcript.you":"Kayo","call.transcript.agent":"Assistant","navigation.messages":"Mga Mensahe","navigation.call":"Tumawag","navigation.schedule":"I-schedule","error.connection":"Connection error. Subukan ulit.","error.generic":"May mali. Subukan ulit.","error.fileSize":"Ang file ay lampas sa 10MB na limitasyon","error.fileType":"Hindi suportadong uri ng file","errors.microphonePermission":"Kinakailangan ang pahintulot sa mikropono. Mangyaring payagan ang pag-access sa mikropono at subukan muli.","errors.notConfigured":"Hindi naayos ang voice assistant. Mangyaring makipag-ugnayan sa suporta.","errors.connectionFailed":"Nabigo ang koneksyon. Mangyaring subukan muli.","errors.unsupported":"Ang inyong device ay hindi sumusuporta sa voice calls. Mangyaring subukan sa ibang device.","action.minimize":"I-minimize ang chat","action.close":"Isara ang chat","action.refresh":"I-refresh","action.retry":"Subukan ulit","action.retrying":"Sinusubukan ulit...","action.goBack":"Bumalik","main.greeting.primary":"Kumusta","main.greeting.question":"Paano namin kayo matutulungan?","main.action.chat.title":"Magpadala ng mensahe","main.action.chat.subtitle":"Sasagutin namin kayo kaagad","main.action.call.title":"Tumawag na ngayon","main.action.call.subtitle":"Makakausap ninyo ang aming virtual assistant","main.action.schedule.title":"Mag-schedule ng tawag o meeting","main.action.schedule.subtitle":"Mag-book ng convenient na oras sa aming calendar","chat.typingSimple":"Nagta-type","chat.instructions":"Pindutin ang Enter para ipadala, Shift+Enter para sa bagong linya","chat.characterCount":"{count}/{limit}","chat.loading":"Naglo-load ng mga mensahe...","chat.welcome.instruction":"Magsimula ng pag-uusap sa pamamagitan ng pag-type sa ibaba","message.image.alt":"Na-upload na larawan","message.unsupported":"Hindi suportadong uri ng mensahe","message.aria.send":"Ipadala ang mensahe","error.noResponse":"Hindi ako nakatanggap ng sagot. Subukan ulit.","error.connectionTrouble":"May problema ako sa koneksyon ngayon. Subukan ulit mamaya.","error.loadMessagesFailed":"Hindi ma-load ang mga mensahe pagkatapos ng maraming pagsubok","error.autoRetryProgress":"Awtomatikong pag-uulit ay tumatakbo ({retryCount}/3)","support.title":"Client Support","schedule.title":"Mag-schedule ng tawag sa aming team","schedule.loading":"Isinasayos ang kalendaryo...","schedule.error.title":"Hindi ma-load ang kalendaryo","schedule.action.contactSupport":"Makipag-ugnayan sa support","schedule.action.tryAgain":"Subukan muli","tooltip.chatWithUs":"Makipag-chat sa amin","tooltip.newMessage":"{n} bagong mensahe","tooltip.newMessages":"{n} mga bagong mensahe","footer.poweredBy":"Pinapatakbo ng iSales.ai","notification.newUser.welcome1":"Kumusta! Maligayang pagdating.","notification.newUser.welcome2":"ðŸ‘‹ Kumusta, kamusta ka?","notification.newUser.welcome3":"Kung may mga tanong ka, tanungin mo lang ako dito. ðŸ˜Š","notification.recurringUser.welcome1":"Maligayang pagdating! Masaya akong makita ka ulit. ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ Kumusta! Maligayang pagbabalik!","notification.recurringUser.welcome3":"Kung may mga tanong ka, tanungin mo lang ako dito. ðŸ˜Š","modern.input.placeholder":"Magtanong ng kahit ano...","modern.chat.title":"Chat ng Suporta","modern.chat.support_title":"Suporta sa Kostumer","modern.tooltip.minimize":"I-minimize ang chat","modern.tooltip.close":"Isara ang chat","modern.tooltip.send":"Magpadala ng mensahe","modern.tooltip.call":"Simulan ang tawag","modern.input.aria_label":"Input ng mensahe sa chat"},"hi-IN":{"chat.placeholder":"à¤…à¤ªà¤¨à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¥‡à¤‚...","chat.send":"à¤­à¥‡à¤œà¥‡à¤‚","chat.typing":"à¤¸à¤¹à¤¾à¤¯à¤• à¤Ÿà¤¾à¤‡à¤ª à¤•à¤° à¤°à¤¹à¤¾ à¤¹à¥ˆ...","chat.welcome.title":"à¤¨à¤®à¤¸à¥à¤¤à¥‡! ðŸ‘‹","chat.welcome.subtitle":"à¤¹à¤® à¤†à¤ªà¤•à¥€ à¤®à¤¦à¤¦ à¤•à¥‡ à¤²à¤¿à¤ à¤¯à¤¹à¤¾à¤ à¤¹à¥ˆà¤‚à¥¤ à¤•à¥à¤› à¤­à¥€ à¤ªà¥‚à¤›à¥‡à¤‚!","chat.welcome.cta":"à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚","message.status.sending":"à¤­à¥‡à¤œà¤¾ à¤œà¤¾ à¤°à¤¹à¤¾ à¤¹à¥ˆ...","message.status.sent":"à¤­à¥‡à¤œ à¤¦à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾","message.status.delivered":"à¤ªà¤¹à¥à¤‚à¤šà¤¾ à¤¦à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾","message.status.read":"à¤ªà¤¢à¤¼ à¤²à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾","message.status.failed":"à¤­à¥‡à¤œà¤¨à¥‡ à¤®à¥‡à¤‚ à¤…à¤¸à¤«à¤²","time.justNow":"à¤…à¤­à¥€","time.minutesAgo":"{n} à¤®à¤¿à¤¨à¤Ÿ à¤ªà¤¹à¤²à¥‡","time.hoursAgo":"{n} à¤˜à¤‚à¤Ÿà¥‡ à¤ªà¤¹à¤²à¥‡","time.yesterday":"à¤•à¤²","time.daysAgo":"{n} à¤¦à¤¿à¤¨ à¤ªà¤¹à¤²à¥‡","time.weekAgo":"1 à¤¸à¤ªà¥à¤¤à¤¾à¤¹ à¤ªà¤¹à¤²à¥‡","time.weeksAgo":"{n} à¤¸à¤ªà¥à¤¤à¤¾à¤¹ à¤ªà¤¹à¤²à¥‡","time.monthAgo":"1 à¤®à¤¹à¥€à¤¨à¥‡ à¤ªà¤¹à¤²à¥‡","time.monthsAgo":"{n} à¤®à¤¹à¥€à¤¨à¥‡ à¤ªà¤¹à¤²à¥‡","time.yearAgo":"1 à¤¸à¤¾à¤² à¤ªà¤¹à¤²à¥‡","time.yearsAgo":"{n} à¤¸à¤¾à¤² à¤ªà¤¹à¤²à¥‡","status.online":"à¤‘à¤¨à¤²à¤¾à¤‡à¤¨","voice.start":"à¤µà¥‰à¤¯à¤¸ à¤•à¥‰à¤² à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚","voice.end":"à¤•à¥‰à¤² à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚","voice.muted":"à¤®à¥à¤¯à¥‚à¤Ÿ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾","voice.unmuted":"à¤…à¤¨à¤®à¥à¤¯à¥‚à¤Ÿ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾","call.title":"à¤µà¥‰à¤¯à¤¸ à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿ","call.connecting":"à¤•à¤¨à¥‡à¤•à¥à¤Ÿ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...","call.start":"à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚","call.end":"à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚","call.connected":"à¤¹à¤®à¤¾à¤°à¥‡ AI à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿ à¤•à¥‡ à¤¸à¤¾à¤¥ à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚à¥¤","call.instructions":'à¤¹à¤®à¤¾à¤°à¥‡ AI à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿ à¤¸à¥‡ à¤œà¥à¤¡à¤¼à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ "à¤•à¥‰à¤² à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚" à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚à¥¤ à¤¸à¥à¤¨à¤¿à¤¶à¥à¤šà¤¿à¤¤ à¤•à¤°à¥‡à¤‚ à¤•à¤¿ à¤†à¤ªà¤•à¤¾ à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¤¼à¥‹à¤¨ à¤šà¤¾à¤²à¥‚ à¤¹à¥ˆà¥¤',"call.transcript.title":"à¤¬à¤¾à¤¤à¤šà¥€à¤¤","call.transcript.you":"à¤†à¤ª","call.transcript.agent":"à¤¸à¤¹à¤¾à¤¯à¤•","navigation.messages":"à¤¸à¤‚à¤¦à¥‡à¤¶","navigation.call":"à¤•à¥‰à¤² à¤•à¤°à¥‡à¤‚","navigation.schedule":"à¤¶à¥‡à¤¡à¥à¤¯à¥‚à¤²","error.connection":"à¤•à¤¨à¥‡à¤•à¥à¤¶à¤¨ à¤¤à¥à¤°à¥à¤Ÿà¤¿à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤","error.generic":"à¤•à¥à¤› à¤—à¤²à¤¤ à¤¹à¥à¤†à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤","error.fileSize":"à¤«à¤¼à¤¾à¤‡à¤² à¤•à¤¾ à¤†à¤•à¤¾à¤° 10MB à¤•à¥€ à¤¸à¥€à¤®à¤¾ à¤¸à¥‡ à¤…à¤§à¤¿à¤• à¤¹à¥ˆ","error.fileType":"à¤«à¤¼à¤¾à¤‡à¤² à¤ªà¥à¤°à¤•à¤¾à¤° à¤¸à¤®à¤°à¥à¤¥à¤¿à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ","errors.microphonePermission":"à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¥‹à¤¨ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤®à¤¾à¤‡à¤•à¥à¤°à¥‹à¤«à¥‹à¤¨ à¤à¤•à¥à¤¸à¥‡à¤¸ à¤•à¥€ à¤…à¤¨à¥à¤®à¤¤à¤¿ à¤¦à¥‡à¤‚ à¤”à¤° à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤","errors.notConfigured":"à¤µà¥‰à¤¯à¤¸ à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿ à¤•à¥‰à¤¨à¥à¤«à¤¼à¤¿à¤—à¤° à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤","errors.connectionFailed":"à¤•à¤¨à¥‡à¤•à¥à¤¶à¤¨ à¤µà¤¿à¤«à¤²à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤","errors.unsupported":"à¤†à¤ªà¤•à¤¾ à¤¡à¤¿à¤µà¤¾à¤‡à¤¸ à¤µà¥‰à¤¯à¤¸ à¤•à¥‰à¤²à¥à¤¸ à¤•à¤¾ à¤¸à¤®à¤°à¥à¤¥à¤¨ à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¤¾à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤•à¤¿à¤¸à¥€ à¤…à¤¨à¥à¤¯ à¤¡à¤¿à¤µà¤¾à¤‡à¤¸ à¤ªà¤° à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚à¥¤","action.minimize":"à¤šà¥ˆà¤Ÿ à¤•à¥‹ à¤›à¥‹à¤Ÿà¤¾ à¤•à¤°à¥‡à¤‚","action.close":"à¤šà¥ˆà¤Ÿ à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚","action.refresh":"à¤°à¥€à¤«à¥à¤°à¥‡à¤¶ à¤•à¤°à¥‡à¤‚","action.retry":"à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚","action.retrying":"à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚...","action.goBack":"à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚","main.greeting.primary":"à¤¨à¤®à¤¸à¥à¤¤à¥‡","main.greeting.question":"à¤¹à¤® à¤†à¤ªà¤•à¥€ à¤•à¥ˆà¤¸à¥‡ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚?","main.action.chat.title":"à¤¹à¤®à¥‡à¤‚ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤­à¥‡à¤œà¥‡à¤‚","main.action.chat.subtitle":"à¤¹à¤® à¤¤à¥à¤°à¤‚à¤¤ à¤œà¤µà¤¾à¤¬ à¤¦à¥‡à¤‚à¤—à¥‡","main.action.call.title":"à¤…à¤­à¥€ à¤•à¥‰à¤² à¤•à¤°à¥‡à¤‚","main.action.call.subtitle":"à¤†à¤ª à¤¹à¤®à¤¾à¤°à¥‡ à¤µà¤°à¥à¤šà¥à¤…à¤² à¤…à¤¸à¤¿à¤¸à¥à¤Ÿà¥‡à¤‚à¤Ÿ à¤¸à¥‡ à¤¬à¤¾à¤¤ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚","main.action.schedule.title":"à¤•à¥‰à¤² à¤¯à¤¾ à¤®à¥€à¤Ÿà¤¿à¤‚à¤— à¤¶à¥‡à¤¡à¥à¤¯à¥‚à¤² à¤•à¤°à¥‡à¤‚","main.action.schedule.subtitle":"à¤¹à¤®à¤¾à¤°à¥‡ à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤®à¥‡à¤‚ à¤¸à¥à¤µà¤¿à¤§à¤¾à¤œà¤¨à¤• à¤¸à¤®à¤¯ à¤¬à¥à¤• à¤•à¤°à¥‡à¤‚","chat.typingSimple":"à¤Ÿà¤¾à¤‡à¤ª à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚","chat.instructions":"à¤­à¥‡à¤œà¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ Enter à¤¦à¤¬à¤¾à¤à¤‚, à¤¨à¤ˆ à¤²à¤¾à¤‡à¤¨ à¤•à¥‡ à¤²à¤¿à¤ Shift+Enter","chat.characterCount":"{count}/{limit}","chat.loading":"à¤¸à¤‚à¤¦à¥‡à¤¶ à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¥‡ à¤¹à¥ˆà¤‚...","chat.welcome.instruction":"à¤¨à¥€à¤šà¥‡ à¤Ÿà¤¾à¤‡à¤ª à¤•à¤°à¤•à¥‡ à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚","message.image.alt":"à¤…à¤ªà¤²à¥‹à¤¡ à¤•à¥€ à¤—à¤ˆ à¤›à¤µà¤¿","message.unsupported":"à¤…à¤¸à¤®à¤°à¥à¤¥à¤¿à¤¤ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤ªà¥à¤°à¤•à¤¾à¤°","message.aria.send":"à¤¸à¤‚à¤¦à¥‡à¤¶ à¤­à¥‡à¤œà¥‡à¤‚","error.noResponse":"à¤®à¥à¤à¥‡ à¤•à¥‹à¤ˆ à¤œà¤µà¤¾à¤¬ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¤¾à¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤«à¤¿à¤° à¤¸à¥‡ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤","error.connectionTrouble":"à¤®à¥à¤à¥‡ à¤…à¤­à¥€ à¤•à¤¨à¥‡à¤•à¥à¤¶à¤¨ à¤•à¥€ à¤¸à¤®à¤¸à¥à¤¯à¤¾ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤à¤• à¤•à¥à¤·à¤£ à¤®à¥‡à¤‚ à¤«à¤¿à¤° à¤¸à¥‡ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚à¥¤","error.loadMessagesFailed":"à¤•à¤ˆ à¤ªà¥à¤°à¤¯à¤¾à¤¸à¥‹à¤‚ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤²à¥‹à¤¡ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤¸à¤•à¥‡","error.autoRetryProgress":"à¤¸à¥à¤µà¤šà¤¾à¤²à¤¿à¤¤ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤šà¤² à¤°à¤¹à¤¾ à¤¹à¥ˆ ({retryCount}/3)","support.title":"à¤—à¥à¤°à¤¾à¤¹à¤• à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾","schedule.title":"à¤¹à¤®à¤¾à¤°à¥€ à¤Ÿà¥€à¤® à¤•à¥‡ à¤¸à¤¾à¤¥ à¤•à¥‰à¤² à¤¶à¥‡à¤¡à¥à¤¯à¥‚à¤² à¤•à¤°à¥‡à¤‚","schedule.loading":"à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤¸à¥‡à¤Ÿ à¤…à¤ª à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...","schedule.error.title":"à¤•à¥ˆà¤²à¥‡à¤‚à¤¡à¤° à¤²à¥‹à¤¡ à¤¨à¤¹à¥€à¤‚ à¤¹à¥‹ à¤¸à¤•à¤¾","schedule.action.contactSupport":"à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚","schedule.action.tryAgain":"à¤«à¤¿à¤° à¤¸à¥‡ à¤•à¥‹à¤¶à¤¿à¤¶ à¤•à¤°à¥‡à¤‚","tooltip.chatWithUs":"à¤¹à¤®à¤¸à¥‡ à¤šà¥ˆà¤Ÿ à¤•à¤°à¥‡à¤‚","tooltip.newMessage":"{n} à¤¨à¤¯à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶","tooltip.newMessages":"{n} à¤¨à¤ à¤¸à¤‚à¤¦à¥‡à¤¶","footer.poweredBy":"iSales.ai à¤¦à¥à¤µà¤¾à¤°à¤¾ à¤¸à¤‚à¤šà¤¾à¤²à¤¿à¤¤","notification.newUser.welcome1":"à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆà¥¤","notification.newUser.welcome2":"ðŸ‘‹ à¤¨à¤®à¤¸à¥à¤¤à¥‡, à¤†à¤ª à¤•à¥ˆà¤¸à¥‡ à¤¹à¥ˆà¤‚?","notification.newUser.welcome3":"à¤…à¤—à¤° à¤†à¤ªà¤•à¥‡ à¤•à¥‹à¤ˆ à¤ªà¥à¤°à¤¶à¥à¤¨ à¤¹à¥ˆà¤‚, à¤¤à¥‹ à¤¬à¤¸ à¤¯à¤¹à¤¾à¤ à¤®à¥à¤à¤¸à¥‡ à¤ªà¥‚à¤›à¤¿à¤à¥¤ ðŸ˜Š","notification.recurringUser.welcome1":"à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ! à¤†à¤ªà¤•à¥‹ à¤«à¤¿à¤° à¤¸à¥‡ à¤¦à¥‡à¤–à¤•à¤° à¤–à¥à¤¶à¥€ à¤¹à¥à¤ˆà¥¤ ðŸ‘‹","notification.recurringUser.welcome2":"ðŸ‘‹ à¤¨à¤®à¤¸à¥à¤¤à¥‡! à¤µà¤¾à¤ªà¤¸ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ!","notification.recurringUser.welcome3":"à¤…à¤—à¤° à¤†à¤ªà¤•à¥‡ à¤•à¥‹à¤ˆ à¤ªà¥à¤°à¤¶à¥à¤¨ à¤¹à¥ˆà¤‚, à¤¤à¥‹ à¤¬à¤¸ à¤¯à¤¹à¤¾à¤ à¤®à¥à¤à¤¸à¥‡ à¤ªà¥‚à¤›à¤¿à¤à¥¤ ðŸ˜Š","modern.input.placeholder":"à¤®à¥à¤à¤¸à¥‡ à¤•à¥à¤› à¤­à¥€ à¤ªà¥‚à¤›à¥‡à¤‚...","modern.chat.title":"à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤šà¥ˆà¤Ÿ","modern.chat.support_title":"à¤—à¥à¤°à¤¾à¤¹à¤• à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾","modern.tooltip.minimize":"à¤šà¥ˆà¤Ÿ à¤›à¥‹à¤Ÿà¤¾ à¤•à¤°à¥‡à¤‚","modern.tooltip.close":"à¤šà¥ˆà¤Ÿ à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚","modern.tooltip.send":"à¤¸à¤‚à¤¦à¥‡à¤¶ à¤­à¥‡à¤œà¥‡à¤‚","modern.tooltip.call":"à¤µà¥‰à¤‡à¤¸ à¤•à¥‰à¤² à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚","modern.input.aria_label":"à¤šà¥ˆà¤Ÿ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤‡à¤¨à¤ªà¥à¤Ÿ"}},yi=[{locale:"en-US",aliases:["en","en-US","en-GB","en-AU","en-CA","en-NZ"],weight:10},{locale:"es-ES",aliases:["es","es-ES","es-MX","es-AR","es-CO","es-CL"],weight:9},{locale:"fr-FR",aliases:["fr","fr-FR","fr-CA","fr-BE","fr-CH"],weight:8},{locale:"de-DE",aliases:["de","de-DE","de-AT","de-CH"],weight:7},{locale:"pt-BR",aliases:["pt","pt-BR","pt-PT"],weight:6},{locale:"it-IT",aliases:["it","it-IT","it-CH"],weight:5},{locale:"ja-JP",aliases:["ja","ja-JP"],weight:4},{locale:"zh-CN",aliases:["zh","zh-CN","zh-Hans","zh-SG"],weight:4},{locale:"ko-KR",aliases:["ko","ko-KR"],weight:3},{locale:"ru-RU",aliases:["ru","ru-RU","ru-BY"],weight:3},{locale:"id-ID",aliases:["id","id-ID"],weight:2},{locale:"tl-PH",aliases:["tl","fil","tl-PH","fil-PH"],weight:2},{locale:"hi-IN",aliases:["hi","hi-IN"],weight:2}];class bi{constructor(){this.currentLocale="en-US",this.customTranslations={},this.detectLocale()}static getInstance(){return bi.instance||(bi.instance=new bi),bi.instance}detectLocale(){const e=this.getBrowserLocales(),t=this.findBestMatchingLocale(e);this.currentLocale=t||"en-US"}getBrowserLocales(){const e=[];navigator.language&&e.push(navigator.language),navigator.languages&&e.push(...navigator.languages);const t=navigator;return[t.userLanguage,t.browserLanguage,t.systemLanguage].forEach(t=>{t&&"string"==typeof t&&e.push(t)}),[...new Set(e.map(e=>e.toLowerCase()))]}findBestMatchingLocale(e){let t=null;for(const i of e)for(const e of yi){const n=this.calculateLocaleScore(i,e);n>0&&(!t||n>t.score)&&(t={locale:e.locale,score:n})}return(null==t?void 0:t.locale)||null}calculateLocaleScore(e,t){const i=e.toLowerCase();for(const a of t.aliases)if(i===a.toLowerCase())return 100*t.weight;const n=i.split("-")[0];for(const a of t.aliases)if(n===a.toLowerCase().split("-")[0])return 50*t.weight;return 0}setLocale(e){return this.isLocaleSupported(e)?(this.currentLocale=e,!0):(void 0,!1)}isLocaleSupported(e){return Object.keys(vi).includes(e)}getLocale(){return this.currentLocale}t(e,t){var i,n;const a=(null==(i=this.customTranslations[this.currentLocale])?void 0:i[e])||(null==(n=vi[this.currentLocale])?void 0:n[e])||vi["en-US"][e]||e;return t?Object.entries(t).reduce((e,[t,i])=>e.replace(new RegExp("\\{".concat(t,"\\}"),"g"),String(i)),a):a}addTranslations(e,t){if(!this.isLocaleSupported(e))return void 0,void 0;this.customTranslations[e]||(this.customTranslations[e]={}),Object.assign(this.customTranslations[e],t)}formatRelativeTime(e){let t;if(e instanceof Date)t=e;else if("string"==typeof e)t=new Date(e);else{if("number"!=typeof e)return void 0,this.t("time.justNow");t=new Date(e)}if(isNaN(t.getTime()))return void 0,this.t("time.justNow");const i=(/* @__PURE__ */new Date).getTime()-t.getTime(),n=Math.floor(i/1e3),a=Math.floor(i/6e4),s=Math.floor(i/36e5),o=Math.floor(i/864e5),r=Math.floor(o/7),c=Math.floor(o/30),l=Math.floor(o/365);return i<0||n<30||a<1?this.t("time.justNow"):a<60?this.t("time.minutesAgo",{n:a}):s<24?this.t("time.hoursAgo",{n:s}):1===o?this.t("time.yesterday"):o<7?this.t("time.daysAgo",{n:o}):r<4?1===r?this.t("time.weekAgo"):this.t("time.weeksAgo",{n:r}):c<12?1===c?this.t("time.monthAgo"):this.t("time.monthsAgo",{n:c}):1===l?this.t("time.yearAgo"):this.t("time.yearsAgo",{n:l})}formatTime(e){let t;if(e instanceof Date)t=e;else if("string"==typeof e)t=new Date(e);else{if("number"!=typeof e)return void 0,"--:--";t=new Date(e)}return isNaN(t.getTime())?(void 0,"--:--"):new Intl.DateTimeFormat(this.currentLocale,{hour:"2-digit",minute:"2-digit",hour12:this.shouldUse12HourFormat()}).format(t)}shouldUse12HourFormat(){return["en-US"].includes(this.currentLocale)}formatNumber(e){return new Intl.NumberFormat(this.currentLocale).format(e)}getSupportedLocales(){return Object.keys(vi)}getLocaleDisplayName(e){const t=e||this.currentLocale;try{return new Intl.DisplayNames([t],{type:"language"}).of(t)||t}catch(i){return{"en-US":"English","es-ES":"EspaÃ±ol","fr-FR":"FranÃ§ais","de-DE":"Deutsch","pt-BR":"PortuguÃªs","it-IT":"Italiano","ja-JP":"æ—¥æœ¬èªž","zh-CN":"ä¸­æ–‡","ko-KR":"í•œêµ­ì–´","ru-RU":"Ð ÑƒÑÑÐºÐ¸Ð¹","id-ID":"Bahasa Indonesia","tl-PH":"Filipino","hi-IN":"à¤¹à¤¿à¤¨à¥à¤¦à¥€"}[t]||t}}getTextDirection(){return"ltr"}resetToDetectedLocale(){this.detectLocale()}}const Ci=bi.getInstance(),Si={analytics:{enabled:!0,googleAnalytics:{enabled:!0,measurementId:"G-3QRGYXEMX3",gtmContainerId:"GTM-NN3BJBH5",debugMode:!1}},api:{baseUrl:"https://api.isales.ai",timeout:3e4,retryAttempts:3},features:{voiceCall:!0},security:{sanitizeHtml:!0},elevenlabs_agent_id:void 0};Ge=0,Je=[],Xe=(Qe=Yt).C,Ye=Qe._,$e=Qe.diffed,et=Qe.M,tt=Qe.unmount,it=Qe.p,Qe.C=function(e){qe=null,Xe&&Xe(e)},Qe.p=function(e,t){e&&t.m&&t.m.L&&(e.L=t.m.L),it&&it(e,t)},Qe._=function(e){Ye&&Ye(e),Fe=0;var t=(qe=e.M).B;t&&(Ke===qe?(t.U=[],qe.U=[],t.p.forEach(function(e){e.W&&(e.p=e.W),e.u=e.W=void 0})):(t.U.forEach(q),t.U.forEach(K),t.U=[],Fe=0)),Ke=qe},Qe.diffed=function(e){$e&&$e(e);var t=e.M;t&&t.B&&(t.B.U.length&&(1!==Je.push(t)&&Ze===Qe.requestAnimationFrame||((Ze=Qe.requestAnimationFrame)||F)(H)),t.B.p.forEach(function(e){e.u&&(e.B=e.u),e.u=void 0})),Ke=qe=null},Qe.M=function(e,t){t.some(function(e){try{e.U.forEach(q),e.U=e.U.filter(function(e){return!e.p||K(e)})}catch(i){t.some(function(e){e.U&&(e.U=[])}),t=[],Qe.S(i,e.k)}}),et&&et(e,t)},Qe.unmount=function(e){tt&&tt(e);var t,i=e.M;i&&i.B&&(i.B.p.forEach(function(e){try{q(e)}catch(i){t=i}}),i.B=void 0,t&&Qe.S(t,i.k))},nt="function"==typeof requestAnimationFrame,at=P,(ie.prototype=new r).isPureReactComponent=!0,ie.prototype.shouldComponentUpdate=function(e,t){return Q(this.props,e)||Q(this.state,t)},st=Yt.C,Yt.C=function(e){e.type&&e.type.H&&e.ref&&(e.props.ref=e.ref,e.ref=null),st&&st(e)},ot="undefined"!=typeof Symbol&&Symbol.for&&/* @__PURE__ */Symbol.for("react.forward_ref")||3911,ct={map:rt=function(e,t){return null==e?null:g(g(e).map(t))},forEach:rt,count:function(e){return e?g(e).length:0},only:function(e){var t=g(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:g},lt=Yt.S,Yt.S=function(e,t,i,n){if(e.then)for(var a,s=t;s=s.p;)if((a=s.M)&&a.M)return null==t.S&&(t.S=i.S,t.m=i.m),a.M(e,t);lt(e,t,i,n)},dt=Yt.unmount,Yt.unmount=function(e){var t=e.M;t&&t.Z&&t.Z(),t&&32&e.N&&(e.type=null),dt&&dt(e)},(re.prototype=new r).M=function(e,t){var i,n,a,s,o=t.M,r=this;null==r.o&&(r.o=[]),r.o.push(o),i=ce(r.k),n=!1,a=function(){n||(n=!0,o.Z=null,i?i(s):s())},o.Z=a,s=function(){var e,t;if(! --r.N)for(r.state.F&&(e=r.state.F,r.k.m[0]=oe(e,e.M.I,e.M.G)),r.setState({F:r.C=null});t=r.o.pop();)t.forceUpdate()},r.N++||32&t.N||r.setState({F:r.C=r.k.m[0]}),e.then(a,a)},re.prototype.componentWillUnmount=function(){this.o=[]},re.prototype.render=function(e,t){var i,a,s;return this.C&&(this.k.m&&(i=document.createElement("div"),a=this.k.m[0].M,this.k.m[0]=se(this.C,i,a.G=a.I)),this.C=null),(s=t.F&&n(o,null,e.fallback))&&(s.N&=-33),[n(o,null,t.F?null:e.children),s]},ut=function(e,t,i){if(++i[1]===i[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(i=e.i;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;e.i=i=i[2]}},(de.prototype=new r).F=function(e){var t=this,i=ce(t.k),n=t.l.get(e);return n[0]++,function(a){var s=function(){t.props.revealOrder?(n.push(a),ut(t,e,n)):a()};i?i(s):s()}},de.prototype.render=function(e){var t,i;for(this.i=null,this.l=/* @__PURE__ */new Map,t=g(e.children),e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse(),i=t.length;i--;)this.l.set(t[i],this.i=[1,0,this.i]);return e.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,i){ut(e,i,t)})},ht="undefined"!=typeof Symbol&&Symbol.for&&/* @__PURE__ */Symbol.for("react.element")||60103,mt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,wt=/[A-Z0-9]/g,pt="undefined"!=typeof document,ft=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof/* @__PURE__ */Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)},r.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(r.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}),vt=Yt.event,Yt.event=function(e){return vt&&(e=vt(e)),e.persist=pe,e.isPropagationStopped=fe,e.isDefaultPrevented=ve,e.nativeEvent=e},bt={enumerable:!1,configurable:!0,get:function(){return this.class}},Ct=Yt.vnode,Yt.vnode=function(e){"string"==typeof e.type&&function(e){var t,i,n,a=e.props,s=e.type,o={},r=-1===s.indexOf("-");for(t in a)i=a[t],"value"===t&&"defaultValue"in a&&null==i||pt&&"children"===t&&"noscript"===s||"class"===t||"className"===t||(n=t.toLowerCase(),"defaultValue"===t&&"value"in a&&null==a.value?t="value":"download"===t&&!0===i?i="":"translate"===n&&"no"===i?i=!1:"o"===n[0]&&"n"===n[1]?"ondoubleclick"===n?t="ondblclick":"onchange"!==n||"input"!==s&&"textarea"!==s||ft(a.type)?"onfocus"===n?t="onfocusin":"onblur"===n?t="onfocusout":gt.test(t)&&(t=n):n=t="oninput":r&&mt.test(t)?t=t.replace(wt,"-$&").toLowerCase():null===i&&(i=void 0),"oninput"===n&&o[t=n]&&(t="oninputCapture"),o[t]=i);"select"==s&&o.multiple&&Array.isArray(o.value)&&(o.value=g(a.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==s&&null!=o.defaultValue&&(o.value=g(a.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),a.class&&!a.className?(o.class=a.class,Object.defineProperty(o,"className",bt)):(a.className&&!a.class||a.class&&a.className)&&(o.class=o.className=a.className),e.props=o}(e),e.$$typeof=ht,Ct&&Ct(e)},St=Yt._,Yt._=function(e){St&&St(e),yt=e.M},Mt=Yt.diffed,Yt.diffed=function(e){Mt&&Mt(e);var t=e.props,i=e.S;null!=i&&"textarea"===e.type&&"value"in t&&t.value!==i.value&&(i.value=null==t.value?"":t.value),yt=null},_t={useState:R,useId:W,useReducer:D,useEffect:U,useLayoutEffect:P,useInsertionEffect:at,useTransition:te,useDeferredValue:ee,useSyncExternalStore:X,startTransition:$,useRef:O,useImperativeHandle:z,useMemo:L,useCallback:V,useContext:j,useDebugValue:B,version:"18.3.1",Children:ct,render:ge,hydrate:we,unmountComponentAtNode:ke,createPortal:me,createElement:n,createContext:_,createFactory:ye,cloneElement:Me,createRef:s,Fragment:o,isValidElement:be,isElement:Et=be,isFragment:Ce,isMemo:Se,findDOMNode:Te,Component:r,PureComponent:ie,memo:ne,forwardRef:ae,flushSync:Nt=function(e,t){return e(t)},unstable_batchedUpdates:Tt=function(e,t){return e(t)},StrictMode:At=o,Suspense:re,SuspenseList:de,lazy:le,J:kt={ReactCurrentDispatcher:{current:{readContext:function(e){return yt.R[e.M].props.value},useCallback:V,useContext:j,useDebugValue:B,useDeferredValue:ee,useEffect:U,useId:W,useImperativeHandle:z,useInsertionEffect:at,useLayoutEffect:P,useMemo:L,useReducer:D,useRef:O,useState:R,useSyncExternalStore:X,useTransition:te}}}},It={exports:{}},xt={};const Mi=/* @__PURE__ */function(e){var t,i;return Object.prototype.hasOwnProperty.call(e,"__esModule")?e:("function"==typeof(t=e.default)?(i=function e(){var i=!1;try{i=this instanceof e}catch(n){}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)},i.prototype=t.prototype):i={},Object.defineProperty(i,"X",{value:!0}),Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}),i)}(/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,Children:ct,Component:r,Fragment:o,PureComponent:ie,StrictMode:At,Suspense:re,SuspenseList:de,J:kt,cloneElement:Me,createContext:_,createElement:n,createFactory:ye,createPortal:me,createRef:s,default:_t,findDOMNode:Te,flushSync:Nt,forwardRef:ae,hydrate:we,isElement:Et,isFragment:Ce,isMemo:Se,isValidElement:be,lazy:le,memo:ne,render:ge,startTransition:$,unmountComponentAtNode:ke,unstable_batchedUpdates:Tt,useCallback:V,useContext:j,useDebugValue:B,useDeferredValue:ee,useEffect:U,useErrorBoundary:function(e){var t=x(Fe++,10),i=R();return t.p=e,qe.componentDidCatch||(qe.componentDidCatch=function(e,n){t.p&&t.p(e,n),i[1](e)}),[i[0],function(){i[1](void 0)}]},useId:W,useImperativeHandle:z,useInsertionEffect:at,useLayoutEffect:P,useMemo:L,useReducer:D,useRef:O,useState:R,useSyncExternalStore:X,useTransition:te,version:"18.3.1"},Symbol.toStringTag,{value:"Module"})));Rt={exports:{}},Dt={},zt||(zt=1,It.exports=(Ot||(Ot=1,Vt=Mi,Pt||(Pt=1,Rt.exports=function(){function e(e){var t,n=e.getSnapshot;e=e.value;try{return t=n(),!i(e,t)}catch(a){return!0}}var t,i,n,a,s,o,r;return Ut||(Ut=1,t=Mi,i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=t.useState,a=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue,r="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(t,i){var r=i(),c=n({inst:{value:r,getSnapshot:i}}),l=c[0].inst,d=c[1];return s(function(){l.value=r,l.getSnapshot=i,e(l)&&d({inst:l})},[t,r,i]),a(function(){return e(l)&&d({inst:l}),t(function(){e(l)&&d({inst:l})})},[t]),o(r),r},Dt.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:r),Dt}()),jt=Rt.exports,Bt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Wt=jt.useSyncExternalStore,Ht=Vt.useRef,Ft=Vt.useEffect,qt=Vt.useMemo,Kt=Vt.useDebugValue,xt.useSyncExternalStoreWithSelector=function(e,t,i,n,a){var s,o,r=Ht(null);return null===r.current?(s={hasValue:!1,value:null},r.current=s):s=r.current,r=qt(function(){function e(e){var t,i;return c?(t=r,Bt(o,e)?t:(i=n(e),void 0!==a&&a(t,i)?(o=e,t):(o=e,r=i))):(c=!0,o=e,e=n(e),r=void 0!==a&&s.hasValue&&(t=s.value,a(t,e))?t:e)}var o,r,c=!1,l=void 0===i?null:i;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,i,n,a]),o=Wt(e,r[0],r[1]),Ft(function(){s.hasValue=!0,s.value=o},[o]),Kt(o),o}),xt));const ki=/* @__PURE__ */function(e){return e&&e.X&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(It.exports),Ti=e=>{let t;const i=/* @__PURE__ */new Set,n=(e,n)=>{const a="function"==typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=n?n:"object"!=typeof a||null===a)?a:Object.assign({},t,a),i.forEach(i=>i(t,e))}},a=()=>t,s={setState:n,getState:a,getInitialState:()=>o,subscribe:e=>(i.add(e),()=>i.delete(e))},o=t=e(n,a,s);return s},{useSyncExternalStoreWithSelector:Ni}=ki,Ai=e=>e,Ei={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},_i=/* @__PURE__ */new Map,Ii=e=>{const t=_i.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},xi=e=>{var t,i;if(!e)return;const n=e.split("\n"),a=n.findIndex(e=>e.includes("api.setState"));if(a<0)return;const s=(null==(t=n[a+1])?void 0:t.trim())||"";return null==(i=/.+ (.+) .+/.exec(s))?void 0:i[1]},Ri=(e,t)=>{let i;try{i=JSON.parse(e)}catch(n){void 0}void 0!==i&&t(i)},Di=()=>{const e=localStorage.getItem("isw_user_id");if(e&&""!==e.trim())return e.trim();const t=ai();try{localStorage.setItem("isw_user_id",t)}catch(i){void 0}return t},Ui=()=>{const e=navigator.userAgent.toLowerCase(),t=window.screen.width,i=window.screen.height,n=Math.min(t,i),a=/ipad|tablet|kindle|silk|playbook/i,s="ontouchstart"in window||navigator.maxTouchPoints>0,o=n<=640,r=n>640&&n<=1024,c=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i.test(e)&&!a.test(e),l=a.test(e);let d,u,h,m;return c||o&&s?(d="mobile",u=!0,h=!1):l||r&&s?(d="tablet",u=!1,h=!0):(d="desktop",u=!1,h=!1),m=n<=640?"small":n<=1024?"medium":"large",{isMobile:u,isTablet:h,isDesktop:!u&&!h,deviceType:d,screenSize:m}},Pi=()=>{const e=Ui(),t=window.screen.width,i=Math.min(t,window.screen.height);return e.isMobile||e.isTablet&&i<=768||i<=640},Oi=()=>{const e=Ui();return{userAgent:navigator.userAgent,language:navigator.language||"en-US",screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",referrer:document.referrer||"direct",origin:window.location.origin,hostname:window.location.hostname,pageUrl:window.location.href,pageTitle:document.title,deviceType:e.deviceType,isMobile:e.isMobile,screenSize:e.screenSize}},zi=async()=>{try{const{userBehaviorService:e}=await Promise.resolve().then(()=>rn);return e.getBehaviorData()}catch(e){void 0;const t=/* @__PURE__ */(new Date).toISOString();return{sessionStartTime:t,sessionDuration:0,visitCount:1,firstVisit:t,lastVisit:t,isReturningUser:!1,timeOnSite:0,pagesViewed:[window.location.pathname],scrollDepth:0,widgetOpenCount:0,messagesCount:0}}},Li=()=>ai(),Vi=()=>{try{const e=localStorage.getItem("isw_conversation_id");if(e&&""!==e.trim())return e.trim();const t=Li();return localStorage.setItem("isw_conversation_id",t),t}catch(e){return void 0,Li()}};class ji{constructor(e){var t;this.initStatus={status:"idle",retryCount:0,lastAttempt:0},this.eventQueue=[],this.config=e,this.sessionId=this.generateSessionId(),this.hostWebsite=this.getHostWebsite(),this.isHttpsSite=this.detectHttps(),this.useGTM=Boolean(null==(t=e.gtmContainerId)?void 0:t.trim()),this.config.enabled&&this.initialize()}static getInstance(e){if(ji.instance)e&&e.enabled&&ji.instance.updateConfig(e);else{if(!e)throw new Error("GoogleAnalyticsService requires config for initialization");ji.instance=new ji(e)}return ji.instance}generateSessionId(){const e=Date.now(),t=Math.random().toString(36).substring(2,11),i=this.config.cookiePrefix||"isw";return"".concat(i,"_session_").concat(e,"_").concat(t)}getHostWebsite(){try{return new URL(window.location.href).hostname}catch(e){return"unknown"}}detectHttps(){return"https:"===window.location.protocol}async initialize(){return"loading"===this.initStatus.status||"ready"===this.initStatus.status||(this.initStatus.status="loading",this.initStatus.lastAttempt=Date.now(),this.loadingPromise=this.Y()),this.loadingPromise}async Y(){const e=[1e3,2e3,4e3];for(let i=0;i<3;i++)try{return await this.$(),this.initStatus.status="ready",this.config.debugMode,this.processEventQueue(),void 0}catch(t){this.initStatus.retryCount=i+1;const n=t instanceof Error?t.message:String(t);if(this.config.debugMode,0,n.includes("CSP")||n.includes("blocked")||n.includes("Invalid measurement ID"))return this.initStatus.status="error",this.initStatus.error=n,this.config.enabled=!1,this.config.debugMode,void 0;i<2&&await this.delay(e[i])}this.initStatus.status="error",this.initStatus.error="Failed to initialize after all retries",this.config.enabled=!1,this.config.debugMode}async $(){this.validateConfig(),this.useGTM?await this.loadGTMContainer():await this.loadGtagScript(),await this.setupGA4(),this.setUserProperties(),this.trackPageView()}validateConfig(){if(!this.config.measurementId)throw new Error("Missing measurement ID");if(!this.config.measurementId.match(/^G-[A-Z0-9]{10}$/))throw new Error("Invalid measurement ID format");if(this.useGTM&&!this.config.gtmContainerId.match(/^GTM-[A-Z0-9]{7}$/))throw new Error("Invalid GTM container ID format")}async loadGTMContainer(){return new Promise((e,t)=>{try{if(window.dataLayer=window.dataLayer||[],window.gtag=function(...e){window.dataLayer.push(e)},this.isGTMLoaded())return e(),void 0;const i=document.createElement("script");i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id=".concat(this.config.gtmContainerId);const n=setTimeout(()=>{t(new Error("GTM container loading timeout"))},15e3);i.onload=()=>{clearTimeout(n),e()},i.onerror=()=>{clearTimeout(n),t(new Error("Failed to load GTM container script"))},document.head.appendChild(i)}catch(i){t(i)}})}async loadGtagScript(){return new Promise((e,t)=>{try{if(window.dataLayer=window.dataLayer||[],window.gtag=function(...e){window.dataLayer.push(e)},window.gtag("js",/* @__PURE__ */new Date),this.isGtagLoaded())return e(),void 0;const i=document.createElement("script");i.async=!0,i.src="https://www.googletagmanager.com/gtag/js?id=".concat(this.config.measurementId);const n=setTimeout(()=>{t(new Error("Gtag script loading timeout"))},15e3);i.onload=()=>{clearTimeout(n),e()},i.onerror=()=>{clearTimeout(n),t(new Error("Failed to load gtag script - possible CSP restriction"))},document.head.appendChild(i)}catch(i){t(i)}})}isGTMLoaded(){return"function"==typeof window.gtag&&Array.isArray(window.dataLayer)&&window.dataLayer.some(e=>Array.isArray(e)&&"js"===e[0])}isGtagLoaded(){return"function"==typeof window.gtag&&Array.isArray(window.dataLayer)&&window.dataLayer.some(e=>Array.isArray(e)&&"js"===e[0])}async setupGA4(){if(!window.gtag)throw new Error("gtag function not available");const e={cookie_prefix:this.config.cookiePrefix||"isw_",cookie_domain:"auto",cookie_flags:this.isHttpsSite?"SameSite=Lax;Secure":"SameSite=Lax",anonymize_ip:!1,allow_google_signals:!0,allow_ad_personalization_signals:!1,debug_mode:this.config.debugMode||!1,transport_type:"beacon",send_page_view:!1};this.config.debugMode&&(e.custom_map={dimension1:"widget_version",dimension2:"host_website",dimension3:"widget_session_id"}),window.gtag("config",this.config.measurementId,e)}setUserProperties(){if(!window.gtag)return;const e=Ui();window.gtag("set","user_properties",{widget_host:this.hostWebsite,widget_session:this.sessionId,device_type:e.deviceType,widget_version:"1.0.0"})}trackPageView(){this.track("page_view",{page_title:document.title,page_location:window.location.href,page_referrer:document.referrer,widget_loaded:!0})}processEventQueue(){if(0===this.eventQueue.length)return;const e=[...this.eventQueue];this.eventQueue=[],this.config.debugMode,e.forEach(e=>{this.sendEvent(e)})}sendEvent(e){if(this.config.enabled){if("ready"!==this.initStatus.status)return this.eventQueue.push(e),void 0;if(!window.gtag)return this.config.debugMode,0,this.eventQueue.push(e),void 0;try{const t={event_category:e.event_category||"widget_interaction",...e.custom_parameters,widget_host:this.hostWebsite,widget_session:this.sessionId,...this.userId&&{user_id:this.userId}};e.event_label&&(t.event_label=e.event_label),void 0!==e.value&&(t.value=e.value),window.gtag("event",e.event_name,t),this.config.debugMode}catch(t){this.config.debugMode,0}}}delay(e){return new Promise(t=>setTimeout(t,e))}track(e,t){if(!this.config.enabled)return;const i={event_name:e,event_category:(null==t?void 0:t.event_category)||(null==t?void 0:t.category)||"widget_interaction",event_label:(null==t?void 0:t.event_label)||(null==t?void 0:t.label),value:null==t?void 0:t.value,custom_parameters:this.sanitizeProperties(t)};this.sendEvent(i)}sanitizeProperties(e){if(!e)return{};const t={};for(const[i,n]of Object.entries(e))null==n||"function"==typeof n||"object"==typeof n&&null!==n||"string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n||(t[i.replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase()]=n);return t}trackWidget(e,t){this.track("widget_".concat(e),{event_category:"widget_lifecycle",event_label:e,widget_action:e,...t})}trackMessage(e,t){this.track("message_".concat(e),{event_category:"widget_messages",event_label:e,message_action:e,message_length:null==t?void 0:t.textLength,...t})}trackView(e,t){this.track("page_view",{event_category:"widget_navigation",event_label:e,page_title:"Widget - ".concat(e),widget_view:e,...t})}trackError(e,t){this.track("exception",{event_category:"widget_errors",event_label:t||"unknown_error",description:e instanceof Error?e.message:e,fatal:!1,error_context:t})}trackPerformance(e,t,i="ms"){this.track("timing_complete",{event_category:"widget_performance",event_label:e,value:Math.round(t),name:e,unit:i})}identify(e){this.config.enabled&&(this.userId=e.id,window.gtag&&"ready"===this.initStatus.status&&window.gtag("config",this.config.measurementId,{user_id:e.id}),this.track("login",{event_category:"widget_user",event_label:"identified",method:"widget",has_email:!!e.email,has_name:!!e.name}))}trackGeolocation(){var e;this.track("widget_geo_data",{event_category:"widget_context",event_label:"geo_info",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,locale:(null==(e=navigator.languages)?void 0:e[0])||navigator.language})}updateConfig(e){const t=this.config.enabled;this.config={...this.config,...e},!t&&this.config.enabled?this.initialize():t&&!this.config.enabled&&this.disable()}disable(){this.config.enabled=!1,this.eventQueue=[],this.initStatus.status="idle"}getStatus(){return{...this.initStatus}}destroy(){this.config.enabled&&"ready"===this.initStatus.status&&this.track("widget_destroyed",{event_category:"widget_lifecycle",event_label:"destroyed",session_duration:Date.now()-parseInt(this.sessionId.split("_")[2])}),this.disable()}}class Bi{constructor(e){this.enabled=!0,this.sessionId=this.generateSessionId(),this.isDevelopment=this.detectDevelopmentMode(),this.startBatchTimer(),this.trackPageView(),e&&e.enabled&&this.initializeGoogleAnalytics(e)}static getInstance(e){return Bi.instance?e&&e.enabled&&!Bi.instance.ee&&Bi.instance.initializeGoogleAnalytics(e):Bi.instance=new Bi(e),Bi.instance}get googleAnalytics(){return this.ee}detectDevelopmentMode(){return"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||"file:"===window.location.protocol}initializeGoogleAnalytics(e){try{this.ee=(t=e,ji.getInstance(t)),this.isDevelopment&&e.debugMode}catch(i){void 0}var t}updateGoogleAnalyticsConfig(e){var t;if(this.ee){if(this.ee&&"updateConfig"in this.ee){const i=this.ee;null==(t=i.updateConfig)?void 0:t.call(i,e)}}else this.initializeGoogleAnalytics(e)}generateSessionId(){return"session-".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9))}startBatchTimer(){}trackPageView(){this.track("page_view",{url:window.location.href,title:document.title,referrer:document.referrer,screen:{width:window.screen.width,height:window.screen.height},viewport:{width:window.innerWidth,height:window.innerHeight}})}setEnabled(e){this.enabled=e}identify(e){var t;this.track("user_identified",{email:e.email,name:e.name,customAttributes:e.customAttributes});try{null==(t=this.ee)?void 0:t.identify(e)}catch(i){this.isDevelopment,0}}track(e,t){var i;if(this.enabled)try{null==(i=this.ee)?void 0:i.track(e,t)}catch(n){this.isDevelopment,0}}trackWidget(e,t){var i;this.track("widget_".concat(e),t);try{null==(i=this.ee)?void 0:i.trackWidget(e,t)}catch(n){this.isDevelopment,0}}trackMessage(e,t){var i;this.track("message_".concat(e),t);try{null==(i=this.ee)?void 0:i.trackMessage(e,t)}catch(n){this.isDevelopment,0}}trackInteraction(e,t,i){this.track("user_interaction",{element:e,action:t,...i})}trackError(e,t){var i;this.track("error",{message:e instanceof Error?e.message:e,stack:e instanceof Error?e.stack:void 0,context:t,type:"widget_error"});try{null==(i=this.ee)?void 0:i.trackError(e,t)}catch(n){this.isDevelopment,0}}trackPerformance(e,t,i="ms"){var n;this.track("performance",{metric:e,value:t,unit:i});try{null==(n=this.ee)?void 0:n.trackPerformance(e,t,i)}catch(a){this.isDevelopment,0}}getSessionDuration(){const e=parseInt(this.sessionId.split("-")[1]);return Date.now()-e}destroy(){var e;this.track("session_end",{duration:this.getSessionDuration()});try{null==(e=this.ee)?void 0:e.destroy()}catch(t){this.isDevelopment,0}}}const Wi=e=>Bi.getInstance(e),Hi=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,AnalyticsService:Bi,getAnalyticsService:Wi},Symbol.toStringTag,{value:"Module"}));class Fi{constructor(){this.VERSION="2.1.0",this.PREFIX="isw_",this.MAX_STORAGE_SIZE=5242880,this.MESSAGE_RETENTION_DAYS=30,this.MAX_CONVERSATIONS=10,this.SAVE_RETRY_ATTEMPTS=3,this.SAVE_RETRY_DELAY=1e3,this.KEYS={MESSAGES:"".concat(this.PREFIX,"messages"),CONVERSATIONS:"".concat(this.PREFIX,"conversations"),PREFERENCES:"".concat(this.PREFIX,"preferences"),USER_ID:"".concat(this.PREFIX,"user_id"),OFFLINE_QUEUE:"".concat(this.PREFIX,"offline_queue"),METADATA:"".concat(this.PREFIX,"metadata"),WIDGET_STATE:"".concat(this.PREFIX,"widget_state")},this.initializeStorage(),this.setupStorageMonitoring()}static getInstance(){return Fi.instance||(Fi.instance=new Fi),Fi.instance}initializeStorage(){try{const e=this.getMetadata();e&&e.version===this.VERSION||this.setMetadata({version:this.VERSION,lastAccess:Date.now(),dataSize:this.calculateStorageSize()})}catch(e){void 0,this.clearAllData()}}setupStorageMonitoring(){window.addEventListener("storage",e=>{var t;(null==(t=e.key)?void 0:t.startsWith(this.PREFIX))&&this.handleStorageChange(e)}),setInterval(()=>{this.performMaintenanceCleanup()},6e4)}getMetadata(){try{const e=localStorage.getItem(this.KEYS.METADATA);return e?JSON.parse(e):null}catch(e){return void 0,null}}setMetadata(e){try{localStorage.setItem(this.KEYS.METADATA,JSON.stringify(e))}catch(t){void 0}}calculateStorageSize(){var e;try{let t=0;for(const i in localStorage)i.startsWith(this.PREFIX)&&(t+=(null==(e=localStorage.getItem(i))?void 0:e.length)||0);return t}catch(t){return void 0,0}}async checkStorageQuota(){try{return!(this.calculateStorageSize()>.8*this.MAX_STORAGE_SIZE)||(await this.performCleanup(),this.calculateStorageSize()<this.MAX_STORAGE_SIZE)}catch(e){return void 0,!1}}async performCleanup(){try{await this.cleanupExpiredConversations(),await this.cleanupOfflineQueue(),this.setMetadata({version:this.VERSION,lastAccess:Date.now(),dataSize:this.calculateStorageSize()})}catch(e){void 0}}async saveConversation(e,t,i=0){return e&&"string"==typeof e&&""!==e.trim()&&Array.isArray(t)?(void 0,("number"!=typeof i||i<0)&&(i=0),await this.retryOperation(async()=>{var n,a;try{if(!(await this.checkStorageQuota()))return void 0,!1;const s=this.validateAndSanitizeMessages(t),o={conversationId:e.trim(),messages:s.slice(-100),lastActivity:Date.now(),unreadCount:Math.max(0,i),metadata:{messageCount:s.length,firstMessage:(null==(n=s[0])?void 0:n.timestamp)||null,lastMessage:(null==(a=s[s.length-1])?void 0:a.timestamp)||null,saveTimestamp:Date.now()}},r="".concat(this.KEYS.CONVERSATIONS,"_").concat(e.trim());return localStorage.setItem(r,JSON.stringify(o)),await this.updateConversationList(e.trim()),this.setMetadata({version:this.VERSION,lastAccess:Date.now(),dataSize:this.calculateStorageSize()}),!0}catch(s){throw void 0,s}},this.SAVE_RETRY_ATTEMPTS)):(void 0,!1)}validateAndSanitizeMessages(e){return e.filter(e=>{if(!e||"object"!=typeof e)return void 0,!1;if(!e.id||"string"!=typeof e.id)return void 0,!1;if(!e.type||"string"!=typeof e.type)return void 0,!1;if(!e.sender||!["user","bot"].includes(e.sender))return void 0,!1;if(e.timestamp){if(!(e.timestamp instanceof Date))try{e.timestamp=new Date(e.timestamp)}catch(t){void 0,e.timestamp=/* @__PURE__ */new Date}}else void 0,e.timestamp=/* @__PURE__ */new Date;return!0})}async loadConversation(e){if(!e||"string"!=typeof e||""===e.trim())return void 0,null;try{const t="".concat(this.KEYS.CONVERSATIONS,"_").concat(e.trim()),i=localStorage.getItem(t);if(!i)return void 0,null;const n=JSON.parse(i);return this.validateConversationData(n)?Date.now()-n.lastActivity>24*this.MESSAGE_RETENTION_DAYS*60*60*1e3?(void 0,await this.deleteConversation(e.trim()),null):(n.messages=n.messages.map(e=>({...e,timestamp:new Date(e.timestamp)})),n):(void 0,await this.deleteConversation(e.trim()),null)}catch(t){void 0;try{await this.deleteConversation(e.trim())}catch(i){void 0}return null}}validateConversationData(e){if(!e||"object"!=typeof e)return!1;const t=e;return!!(t.conversationId&&"string"==typeof t.conversationId&&Array.isArray(t.messages)&&"number"==typeof t.lastActivity&&"number"==typeof t.unreadCount&&t.metadata&&"object"==typeof t.metadata)}async loadRecentMessages(){try{const e=await this.getAllConversationIds();if(0===e.length)return void 0,{messages:[],conversationId:null,unreadCount:0};const t=[];for(const n of e){const e=await this.loadConversation(n);e&&t.push({id:n,data:e})}if(0===t.length)return void 0,{messages:[],conversationId:null,unreadCount:0};t.sort((e,t)=>t.data.lastActivity-e.data.lastActivity);const i=t[0];return void 0,{messages:i.data.messages.slice(-20),conversationId:i.id,unreadCount:i.data.unreadCount}}catch(e){return void 0,{messages:[],conversationId:null,unreadCount:0}}}async loadRecentMessagesFromConversation(e,t=20){try{if(!e||"string"!=typeof e)return void 0,[];const i=await this.loadConversation(e);return i?i.messages.slice(-Math.max(1,t)):[]}catch(i){return void 0,[]}}async retryOperation(e,t=3){let i;for(let a=1;a<=t;a++)try{return await e()}catch(n){if(i=n instanceof Error?n:new Error(String(n)),a<t){const e=this.SAVE_RETRY_DELAY*Math.pow(2,a-1);await new Promise(t=>setTimeout(t,e))}}throw i}async savePreferences(e){return await this.retryOperation(async()=>{try{const t={...await this.loadPreferences(),...e};return localStorage.setItem(this.KEYS.PREFERENCES,JSON.stringify(t)),!0}catch(t){throw void 0,t}})}async loadPreferences(){try{const e=localStorage.getItem(this.KEYS.PREFERENCES);if(!e)return this.getDefaultPreferences();const t=JSON.parse(e);return{...this.getDefaultPreferences(),...t}}catch(e){return void 0,this.getDefaultPreferences()}}async addToOfflineQueue(e){return await this.retryOperation(async()=>{try{const t=await this.getOfflineQueue();return t.push({...e,queuedAt:Date.now()}),localStorage.setItem(this.KEYS.OFFLINE_QUEUE,JSON.stringify(t)),!0}catch(t){throw void 0,t}})}async getOfflineQueue(){try{const e=localStorage.getItem(this.KEYS.OFFLINE_QUEUE);return e?JSON.parse(e):[]}catch(e){return void 0,[]}}async clearOfflineQueue(){try{localStorage.removeItem(this.KEYS.OFFLINE_QUEUE)}catch(e){void 0}}async getAllConversationIds(){try{const t=localStorage.getItem(this.KEYS.CONVERSATIONS),i=t?JSON.parse(t):[],n=[];for(const a of i)if("string"==typeof a&&a.trim()){const t="".concat(this.KEYS.CONVERSATIONS,"_").concat(a),i=localStorage.getItem(t);if(i)try{const e=JSON.parse(i);this.validateConversationData(e)?n.push(a):(void 0,localStorage.removeItem(t))}catch(e){void 0,localStorage.removeItem(t)}}return n.length!==i.length&&localStorage.setItem(this.KEYS.CONVERSATIONS,JSON.stringify(n)),n}catch(t){return void 0,localStorage.removeItem(this.KEYS.CONVERSATIONS),[]}}async deleteConversation(e){try{if(!e||"string"!=typeof e)return void 0,void 0;const t="".concat(this.KEYS.CONVERSATIONS,"_").concat(e.trim());localStorage.removeItem(t);const i=(await this.getAllConversationIds()).filter(t=>t!==e.trim());localStorage.setItem(this.KEYS.CONVERSATIONS,JSON.stringify(i))}catch(t){void 0}}async saveWidgetState(e){return await this.retryOperation(async()=>{try{const t={...await this.loadWidgetState(),...e,lastActivity:Date.now()};return localStorage.setItem(this.KEYS.WIDGET_STATE,JSON.stringify(t)),!0}catch(t){throw void 0,t}})}async loadWidgetState(){try{const e=localStorage.getItem(this.KEYS.WIDGET_STATE);if(!e)return this.getDefaultWidgetState();const t=JSON.parse(e),i=Date.now()-864e5;return!t.lastActivity||t.lastActivity<i?{...this.getDefaultWidgetState(),currentView:this.isValidView(t.currentView)?t.currentView:"main"}:{...this.getDefaultWidgetState(),...t,lastActivity:t.lastActivity||Date.now()}}catch(e){return void 0,this.getDefaultWidgetState()}}async clearWidgetState(){try{localStorage.removeItem(this.KEYS.WIDGET_STATE)}catch(e){void 0}}async updateWidgetActivity(){try{const e=await this.loadWidgetState();await this.saveWidgetState({...e,lastActivity:Date.now()})}catch(e){void 0}}clearAllData(){try{Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)});for(const e in localStorage)e.startsWith("".concat(this.KEYS.CONVERSATIONS,"_"))&&localStorage.removeItem(e);void 0}catch(e){void 0}}async exportData(){try{const e={};Object.values(this.KEYS).forEach(t=>{const i=localStorage.getItem(t);if(i)try{e[t]=JSON.parse(i)}catch(n){void 0}});const t=await this.getAllConversationIds();for(const i of t){const t=await this.loadConversation(i);t&&(e["conversation_".concat(i)]=t)}return e}catch(e){return void 0,{}}}getStorageStats(){return{version:this.VERSION,totalSize:this.calculateStorageSize(),maxSize:this.MAX_STORAGE_SIZE,usagePercentage:this.calculateStorageSize()/this.MAX_STORAGE_SIZE*100,retentionDays:this.MESSAGE_RETENTION_DAYS,maxConversations:this.MAX_CONVERSATIONS}}getDefaultWidgetState(){return{isOpen:!1,currentView:"main",lastActivity:Date.now(),sessionId:this.generateSessionId()}}isValidView(e){return"string"==typeof e&&["main","chat","call","schedule"].includes(e)}generateSessionId(){return(()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=Array.from(e,e=>e.toString(16).padStart(2,"0")).join("");return[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)].join("-")}return void 0,"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})})()}getDefaultPreferences(){return{notifications:!0,soundEnabled:!0,minimized:!1,lastSeen:/* @__PURE__ */(new Date).toISOString()}}async updateConversationList(e){try{const t=(await this.getAllConversationIds()).filter(t=>t!==e);if(t.push(e),t.length>this.MAX_CONVERSATIONS){const e=t.splice(0,t.length-this.MAX_CONVERSATIONS);for(const t of e)await this.deleteConversation(t)}localStorage.setItem(this.KEYS.CONVERSATIONS,JSON.stringify(t))}catch(t){void 0}}async cleanupExpiredConversations(){try{const e=await this.getAllConversationIds(),t=Date.now()-24*this.MESSAGE_RETENTION_DAYS*60*60*1e3;let i=0;for(const n of e){const e=await this.loadConversation(n);(!e||e.lastActivity<t)&&(await this.deleteConversation(n),i++)}i>0,0}catch(e){void 0}}async cleanupOfflineQueue(){try{const e=await this.getOfflineQueue(),t=Date.now()-864e5,i=e.filter(e=>e.queuedAt>t);i.length!==e.length&&localStorage.setItem(this.KEYS.OFFLINE_QUEUE,JSON.stringify(i))}catch(e){void 0}}performMaintenanceCleanup(){this.setMetadata({version:this.VERSION,lastAccess:Date.now(),dataSize:this.calculateStorageSize()})}handleStorageChange(e){window.dispatchEvent(new CustomEvent("isw-storage-change",{detail:{key:e.key,newValue:e.newValue}}))}}const qi=Fi.getInstance(),Ki=e=>e.isOpen,Zi=e=>e.config,Gi=e=>e.messages,Ji=e=>e.unreadCount,Qi=e=>e.isTypingBot,Xi=e=>e.lastSeen,Yi=e=>e.isFullScreen,$i=(e,t,i)=>{const n=t instanceof Error?t.message:"Unknown error";if(i)try{i()}catch(a){}return n},en=(e=>{const t=(e=>e?Ti(e):Ti)(e),i=(e,i)=>function(e,t=Ai,i){const n=Ni(e.subscribe,e.getState,e.getInitialState,t,i);return _t.useDebugValue(n),n}(t,e,i);return Object.assign(i,t),i})(((e,t={})=>(i,n,a)=>{const{enabled:s,anonymousActionType:o,store:r,...c}=t;let l;try{l=(null!=s?s:"production"!==(Ei?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(w){}if(!l)return e(i,n,a);const{connection:d,...u}=((e,t,i)=>{if(void 0===e)return{type:"untracked",connection:t.connect(i)};const n=_i.get(i.name);if(n)return{type:"tracked",store:e,...n};const a={connection:t.connect(i),stores:{}};return _i.set(i.name,a),{type:"tracked",store:e,...a}})(r,l,c);let h=!0;a.setState=(e,t,s)=>{const l=i(e,t);if(!h)return l;const u=void 0===s?{type:o||xi((new Error).stack)||"anonymous"}:"string"==typeof s?{type:s}:s;return void 0===r?(null==d?void 0:d.send(u,n()),l):(null==d?void 0:d.send({...u,type:"".concat(r,"/").concat(u.type)},{...Ii(c.name),[r]:a.getState()}),l)},a.devtools={cleanup:()=>{d&&"function"==typeof d.unsubscribe&&d.unsubscribe(),((e,t)=>{if(void 0===t)return;const i=_i.get(e);i&&(delete i.stores[t],0===Object.keys(i.stores).length&&_i.delete(e))})(c.name,r)}};const m=(...e)=>{const t=h;h=!1,i(...e),h=t},g=e(a.setState,n,a);if("untracked"===u.type?null==d?void 0:d.init(g):(u.stores[u.store]=a,null==d||d.init(Object.fromEntries(Object.entries(u.stores).map(([e,t])=>[e,e===u.store?g:t.getState()])))),a.dispatchFromDevtools&&"function"==typeof a.dispatch){let e=!1;const t=a.dispatch;a.dispatch=(...i)=>{"production"===(Ei?"production":void 0)||"__setState"!==i[0].type||e||(void 0,e=!0),t(...i)}}return d.subscribe(e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?(void 0,void 0):Ri(e.payload,e=>{if("__setState"===e.type){if(void 0===r)return m(e.state),void 0;1!==Object.keys(e.state).length,0;const t=e.state[r];if(null==t)return;return JSON.stringify(a.getState())!==JSON.stringify(t)&&m(t),void 0}a.dispatchFromDevtools&&"function"==typeof a.dispatch&&a.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":return m(g),void 0===r?null==d?void 0:d.init(a.getState()):null==d?void 0:d.init(Ii(c.name));case"COMMIT":return void 0===r?(null==d?void 0:d.init(a.getState()),void 0):null==d?void 0:d.init(Ii(c.name));case"ROLLBACK":return Ri(e.state,e=>{if(void 0===r)return m(e),null==d||d.init(a.getState()),void 0;m(e[r]),null==d||d.init(Ii(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ri(e.state,e=>{if(void 0===r)return m(e),void 0;JSON.stringify(a.getState())!==JSON.stringify(e[r])&&m(e[r])});case"IMPORT_STATE":{const{nextLiftedState:i}=e.payload,n=null==(t=i.computedStates.slice(-1)[0])?void 0:t.state;if(!n)return;return m(void 0===r?n:n[r]),null==d||d.send(null,i),void 0}case"PAUSE_RECORDING":return h=!h}return}}),g})((e,t)=>{let i=null,n=!1;const a=async()=>{const e=await(async()=>{if(!n)try{i=await(async()=>{const[{ResourceManager:e},{ChatStateManager:t},{DebouncedSaveManager:i},{PerformanceMonitor:n},{MemoizeManager:a},{ValidationManager:s}]=await Promise.all([Promise.resolve().then(()=>cn),Promise.resolve().then(()=>ln),Promise.resolve().then(()=>dn),Promise.resolve().then(()=>mn),Promise.resolve().then(()=>gn),Promise.resolve().then(()=>fn)]);return{ResourceManager:e,ChatStateManager:t,DebouncedSaveManager:i,PerformanceMonitor:n,MemoizeManager:a,ValidationManager:s}})(),n=!0}catch(e){$i(0,e),i={ResourceManager:class{addEventListener(){}clearTimeout(){}setTimeout(){}destroy(){}},ChatStateManager:class{destroy(){}},DebouncedSaveManager:class{destroy(){}},PerformanceMonitor:{getInstance:()=>({startTimer:()=>()=>{},logSummary:()=>{}})},MemoizeManager:class{clear(){}},ValidationManager:{getInstance:()=>({validate:()=>({isValid:!0}),validateStoreState:()=>({isValid:!0})})}}}return i})();return{resourceManager:new e.ResourceManager,chatStateManager:new e.ChatStateManager,performanceMonitor:e.PerformanceMonitor.getInstance(),memoizeManager:new e.MemoizeManager,validationManager:e.ValidationManager.getInstance(),saveManager:new e.DebouncedSaveManager}};let s=null,o=null;return(async()=>{const{performanceMonitor:e}=await a();s=Ne(()=>t().saveWidgetState(),300),o=Ne(()=>qi.updateWidgetActivity(),5e3)})().catch(e=>$i(0,e)),{config:null,userId:null,deviceInfo:null,isFullScreen:!1,isOpen:!1,messages:[],unreadCount:0,isTyping:!1,isTypingBot:!1,typingDelayTimeout:null,connectionStatus:"disconnected",currentView:"main",conversationId:null,lastSeen:null,isOffline:!navigator.onLine,offlineQueue:[],stateLoaded:!1,cleanup:null,unsubscribeFromStore:null,pendingNotifications:[],messageQueue:{isProcessing:!1,remainingMessages:0,currentMessageIndex:0,estimatedTimeRemaining:0},saveState:{isSaving:!1,lastSaveTime:null,pendingSave:!1,saveError:null},schedulePreloadState:"idle",schedulePreloadStrategy:"optimized-on-demand",resourceManager:null,chatStateManager:null,performanceMonitor:null,memoizeManager:null,widgetMode:null,modernUI:{inputFocused:!1,chatWindowOpen:!1,suggestedQuestions:[]},initialize:async i=>{try{const{performanceMonitor:e,validationManager:n}=await a(),s=e.startTimer("store_initialize");try{const e=n.validate("widgetConfig",i);if(!e.isValid)throw new Error("Invalid widget configuration: ".concat(e.error));await t().initializeCore(i),await t().loadPersistedData(),t().setupEventListeners(),t().setupCleanupFunction()}finally{s()}}catch(n){$i(0,n,()=>{e({config:i,userId:Di(),deviceInfo:Ui(),isFullScreen:Pi(),connectionStatus:"connected",stateLoaded:!0})})}},initializeCore:async t=>{try{const{performanceMonitor:i,validationManager:n}=await a(),s=i.startTimer("store_initialize_core");try{const i=Di(),a=Vi(),s=Ui(),o=Pi();!n.validate("userId",i).isValid,0;const r=t.widgetMode||"classic",c=(null==s?void 0:s.isMobile)?"classic":r,l=t.suggestedQuestions||[];0,e({config:t,userId:i,deviceInfo:s,isFullScreen:o,connectionStatus:"connected",conversationId:a,widgetMode:c,modernUI:{inputFocused:!1,chatWindowOpen:!1,suggestedQuestions:l}})}finally{s()}}catch(i){$i(0,i)}},loadPersistedData:async()=>{try{const{performanceMonitor:e}=await a(),i=e.startTimer("load_persisted_data");try{await t().loadPersistedState(),await t().loadRecentMessages()}finally{i()}}catch(e){$i(0,e)}},setupEventListeners:()=>{a().then(({resourceManager:i,performanceMonitor:n})=>{var a,r,c,l;const d=n.startTimer("setup_event_listeners");try{const n=()=>{e({isOffline:!1}),t().processOfflineQueue().catch(e=>$i(0,e))},d=()=>{e({isOffline:!0})};try{null==(a=i.addEventListener)?void 0:a.call(i,window,"online",n),null==(r=i.addEventListener)||r.call(i,window,"offline",d)}catch(u){$i(0,u)}try{const t=en.subscribe((e,t)=>{try{!e.stateLoaded||e.isOpen===t.isOpen&&e.currentView===t.currentView||(null==s?void 0:s())}catch(u){$i(0,u)}});e({unsubscribeFromStore:t})}catch(u){$i(0,u)}const h=()=>{try{null==o?void 0:o()}catch(u){$i(0,u)}};["click","keydown","scroll","touchstart"].forEach(e=>{var t;try{null==(t=i.addEventListener)?void 0:t.call(i,document,e,h,{passive:!0})}catch(u){$i("".concat(e," event listener"),u)}});const m=async()=>{try{await t().forceSaveConversation()}catch(u){$i(0,u)}},g=async()=>{try{document.hidden&&await t().forceSaveConversation()}catch(u){$i(0,u)}};try{null==(c=i.addEventListener)?void 0:c.call(i,window,"beforeunload",m),null==(l=i.addEventListener)||l.call(i,document,"visibilitychange",g)}catch(u){$i(0,u)}}finally{d()}}).catch(e=>$i(0,e))},setupCleanupFunction:()=>{e({cleanup:()=>{a().then(({resourceManager:n,performanceMonitor:a})=>{var s,o,r,c,l,d,u,h;const m=a.startTimer("cleanup");try{t().forceSaveConversation().catch(e=>$i(0,e));const{typingDelayTimeout:a}=t();if(a)try{null==(s=n.clearTimeout)?void 0:s.call(n,a),e({typingDelayTimeout:null})}catch(g){$i(0,g)}try{(null==i?void 0:i.DebouncedSaveManager)&&(null==(r=(o=new i.DebouncedSaveManager).destroy)?void 0:r.call(o)),(null==i?void 0:i.ChatStateManager)&&(null==(l=(c=new i.ChatStateManager).destroy)||l.call(c)),(null==i?void 0:i.MemoizeManager)&&(null==(u=(d=new i.MemoizeManager).clear)||u.call(d)),null==(h=n.destroy)||h.call(n)}catch(g){$i(0,g)}const{unsubscribeFromStore:m}=t();if(m)try{m()}catch(g){$i(0,g)}0}finally{m()}}).catch(e=>$i(0,e))}})},updateConfig:i=>{try{const n=t().config;if(!n)return;const s={...n,...i};a().then(({validationManager:t})=>{if(!t.validate("widgetConfig",s).isValid,0,gi.update(i),e({config:s}),void 0!==i.theme)try{I().setTheme(i.theme)}catch(n){$i(0,n)}}).catch(e=>$i(0,e))}catch(n){$i(0,n)}},toggleWidget:()=>{e(e=>({isOpen:!e.isOpen}))},openWidget:()=>{e({isOpen:!0}),t().clearNotifications(),Promise.resolve().then(()=>rn).then(({userBehaviorService:e})=>{e.trackWidgetOpen()}).catch(e=>$i(0,e)),t().loadRecentMessages()},closeWidget:()=>{t().forceSaveConversation().catch(e=>$i(0,e)),e({isOpen:!1,currentView:"main"})},addMessage:async t=>{try{const{performanceMonitor:i,validationManager:n}=await a(),o=i.startTimer("add_message");try{if(!n.validate("message",t).isValid)return 0,void 0;e(e=>({messages:[...e.messages,t]})),"bot"===t.sender&&e(e=>({unreadCount:e.unreadCount+1})),null==s||s()}finally{o()}}catch(i){$i(0,i)}},sendMessage:async i=>{try{const{performanceMonitor:c}=await a(),l=c.startTimer("send_message");try{const{config:a}=t();if(!(null==a?void 0:a.apiKey))throw new Error("API key not configured");const{getMessageService:c}=await Promise.resolve().then(()=>Un),l=c(),d=l.createUserMessage(i);await t().addMessage(d),t().setTypingBotWithDelay(3e3);try{const a=await l.sendMessage(i);if(e(e=>({messages:e.messages.map(e=>e.id===d.id?{...e,status:"delivered"}:e)})),a.messages&&Array.isArray(a.messages)){for(const e of a.messages)await t().addMessage(e);try{const{getMessageQueueService:e}=await Promise.resolve().then(()=>Ln),t=e(),i=/* @__PURE__ */new Set;for(const s of a.messages)try{const e=s.id.lastIndexOf("-"),n=s.id.substring(e+1),a=/^\d+$/.test(n)?s.id.substring(0,e):s.id;if(i.has(a))continue;await t.confirmMessageDelivery(a),i.add(a)}catch(n){$i("Confirm delivery for message ".concat(s.id),n)}}catch(s){$i(0,s)}}t().setTypingBot(!1)}catch(o){$i(0,o),e(e=>({messages:e.messages.map(e=>e.id===d.id?{...e,status:"failed"}:e)})),t().setTypingBot(!1);try{const e=l.createErrorMessage("Failed to send message. Please try again.");await t().addMessage(e)}catch(r){$i(0,r)}}}finally{l()}}catch(o){$i(0,o)}},setTypingBot:i=>{a().then(({resourceManager:n})=>{var a;const{typingDelayTimeout:s}=t();if(s)try{null==(a=n.clearTimeout)?void 0:a.call(n,s),e({typingDelayTimeout:null})}catch(o){$i(0,o)}e({isTypingBot:i})}).catch(e=>$i(0,e))},setTypingBotWithDelay:(i=3e3)=>{a().then(({resourceManager:n})=>{var a,s;const{typingDelayTimeout:o}=t();if(o)try{null==(a=n.clearTimeout)?void 0:a.call(n,o)}catch(r){$i(0,r)}try{const t=null==(s=n.setTimeout)?void 0:s.call(n,()=>{e({isTypingBot:!0,typingDelayTimeout:null})},i);t&&void 0!==t&&e({typingDelayTimeout:t})}catch(r){$i(0,r)}}).catch(e=>$i(0,e))},clearTypingDelay:()=>{a().then(({resourceManager:i})=>{var n;const{typingDelayTimeout:a}=t();if(a)try{null==(n=i.clearTimeout)?void 0:n.call(i,a),e({typingDelayTimeout:null})}catch(s){$i(0,s)}}).catch(e=>$i(0,e))},setView:t=>{e({currentView:t});try{const e=Wi();(null==e?void 0:e.googleAnalytics)&&e.googleAnalytics.trackView(t)}catch(i){$i(0,i)}},goBack:()=>{e({currentView:"main"})},setConversationId:t=>{"string"==typeof t&&t.length>0&&e({conversationId:t})},updateLastSeen:()=>{e({lastSeen:/* @__PURE__ */new Date})},clearMessages:()=>{e({messages:[],unreadCount:0})},markMessagesAsRead:()=>{e(e=>({messages:e.messages.map(e=>"bot"===e.sender&&"read"!==e.status?{...e,status:"read"}:e),unreadCount:0}))},markAllMessagesAsRead:()=>{e(e=>({messages:e.messages.map(e=>"read"!==e.status?{...e,status:"read"}:e),unreadCount:0}))},markUserMessagesAsRead:()=>{e(e=>({messages:e.messages.map(e=>"user"===e.sender&&"read"!==e.status?{...e,status:"read"}:e)}))},loadStoredConversation:async t=>{try{const{performanceMonitor:i}=await a(),n=i.startTimer("load_stored_conversation");try{const i=await qi.loadConversation(t);i&&e({messages:i.messages||[],conversationId:i.conversationId,lastSeen:i.lastActivity?new Date(i.lastActivity):null})}finally{n()}}catch(i){$i(0,i)}},saveCurrentConversation:async()=>{try{const{performanceMonitor:i}=await a(),n=i.startTimer("save_current_conversation");try{const{conversationId:i,messages:n}=t();return!(!i||0===n.length||(e(e=>({saveState:{...e.saveState,isSaving:!0,saveError:null}})),await qi.saveConversation(i,n,0),e(e=>({saveState:{...e.saveState,isSaving:!1,lastSaveTime:Date.now(),pendingSave:!1}})),0))}finally{n()}}catch(i){const t=$i(0,i);return e(e=>({saveState:{...e.saveState,isSaving:!1,saveError:t}})),!1}},loadRecentMessages:async()=>{try{const{performanceMonitor:i}=await a(),n=i.startTimer("load_recent_messages");try{const{conversationId:i}=t();if(!i)return;const n=await qi.loadConversation(i);if(n&&n.messages){const t=n.messages.slice(-50);e({messages:t,lastSeen:n.lastActivity?new Date(n.lastActivity):null})}}finally{n()}}catch(i){$i(0,i)}},forceSaveConversation:async()=>{try{const{performanceMonitor:e}=await a(),i=e.startTimer("force_save_conversation");try{const e=await t().saveCurrentConversation();return await t().saveWidgetState(),e}finally{i()}}catch(e){return $i(0,e),!1}},loadPersistedState:async()=>{try{const{performanceMonitor:t}=await a(),i=t.startTimer("load_persisted_state");try{const t=await qi.loadWidgetState();if(t){const i={isOpen:t.isOpen||!1,currentView:t.currentView||"main",stateLoaded:!0};e(i)}else e({stateLoaded:!0})}finally{i()}}catch(t){$i(0,t,()=>{e({stateLoaded:!0})})}},saveWidgetState:async()=>{try{const{performanceMonitor:e}=await a(),i=e.startTimer("save_widget_state");try{const{isOpen:e,currentView:i}=t();await qi.saveWidgetState({isOpen:e,currentView:i,lastActivity:Date.now(),sessionId:Di()})}finally{i()}}catch(e){$i(0,e)}},setOfflineStatus:t=>{e({isOffline:t})},processOfflineQueue:async()=>{try{const{performanceMonitor:n}=await a(),s=n.startTimer("process_offline_queue");try{const{offlineQueue:n}=t();if(0===n.length)return;for(const e of n)try{"user"===e.sender&&"text"===e.type&&await t().sendMessage(e.text)}catch(i){$i(0,i)}e({offlineQueue:[]})}finally{s()}}catch(i){$i(0,i)}},addNotification:t=>{try{e(e=>({pendingNotifications:[...e.pendingNotifications,t]}))}catch(i){$i(0,i)}},dismissNotification:t=>{try{e(e=>({pendingNotifications:e.pendingNotifications.filter(e=>e.id!==t)}))}catch(i){$i(0,i)}},clearNotifications:()=>{e({pendingNotifications:[]})},cancelMessageQueue:()=>{e({messageQueue:{isProcessing:!1,remainingMessages:0,currentMessageIndex:0,estimatedTimeRemaining:0}})},destroy:()=>{try{a().then(({performanceMonitor:n})=>{var a;const s=n.startTimer("destroy");try{const{cleanup:n}=t();n&&n();const{typingDelayTimeout:s}=t();if(s&&(null==i?void 0:i.ResourceManager))try{const e=new i.ResourceManager;null==(a=e.clearTimeout)?void 0:a.call(e,s)}catch(o){$i(0,o)}e({config:null,userId:null,deviceInfo:null,isFullScreen:!1,isOpen:!1,messages:[],unreadCount:0,isTyping:!1,isTypingBot:!1,typingDelayTimeout:null,connectionStatus:"disconnected",currentView:"main",conversationId:null,lastSeen:null,isOffline:!navigator.onLine,offlineQueue:[],stateLoaded:!1,cleanup:null,unsubscribeFromStore:null,pendingNotifications:[],messageQueue:{isProcessing:!1,remainingMessages:0,currentMessageIndex:0,estimatedTimeRemaining:0},saveState:{isSaving:!1,lastSaveTime:null,pendingSave:!1,saveError:null}})}finally{s()}}).catch(e=>$i(0,e))}catch(n){$i(0,n)}},setWidgetMode:i=>{if("classic"!==i&&"modern"!==i)return;const{deviceInfo:n}=t(),a=(null==n?void 0:n.isMobile)||!1;if(a&&"modern"===i)return e({widgetMode:"classic"}),void 0;const s=t().widgetMode;e({widgetMode:i});try{const e=Wi();(null==e?void 0:e.googleAnalytics)&&e.googleAnalytics.track("widget_mode_change",{mode:i,previousMode:s||"none",isMobile:a})}catch(o){$i(0,o)}},setModernInputFocused:t=>{e(e=>({modernUI:{...e.modernUI,inputFocused:t}}))},setModernChatWindowOpen:t=>{e(e=>({modernUI:{...e.modernUI,chatWindowOpen:t}}))},setSuggestedQuestions:t=>{e(e=>({modernUI:{...e.modernUI,suggestedQuestions:t}}))},setSchedulePreloadState:t=>{e({schedulePreloadState:t})},initializeSchedulePreload:async()=>{try{const{config:i}=t(),n=null==i?void 0:i.calendar_embedding_code;if(!n)return;const{getPreloadManager:a}=await Promise.resolve().then(()=>ia),s=a();e({schedulePreloadStrategy:s.getStrategy()}),t().setSchedulePreloadState("preloading"),await s.startPreload({calendarEmbeddingCode:n,enablePredictiveTriggers:!0});const o=s.getState();t().setSchedulePreloadState(o)}catch(i){$i(0,i),t().setSchedulePreloadState("error")}}}},{name:"widget-store"})),tn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,selectConfig:Zi,selectIsFullScreen:Yi,selectIsOpen:Ki,selectIsTypingBot:Qi,selectLastSeen:Xi,selectMessages:Gi,selectUnreadCount:Ji,useWidgetStore:en},Symbol.toStringTag,{value:"Module"}));let nn=null;class an{constructor(e){if(this.container=null,this.analytics=null,this.screenshotService=null,this.isRendered=!1,this.isMounting=!1,this.destroyCallbacks=[],nn)throw void 0,new Error("Widget already initialized. Use ISalesWidget.getInstance() instead of creating new instance.");const t=function(){var e;const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;return{...Si,analytics:{...Si.analytics,googleAnalytics:{...null==(e=Si.analytics)?void 0:e.googleAnalytics,debugMode:t}}}}();this.config=gi.validate({...t,...e}),gi.set(this.config),this.applyEarlyTheme(e),this.createContainer(),this.initializeSystems(),this.initializeSentryContext(),nn=this}static getInstance(){return nn}static create(e){return nn?(void 0,nn):new an(e)}applyEarlyTheme(e){const t=e.theme||"light";let i=document.getElementById("isales-widget-root");if(i||(i=document.createElement("div"),i.id="isales-widget-root",document.body.appendChild(i)),"auto"===t){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;i.setAttribute("data-theme",e?"dark":"light");const t=window.matchMedia("(prefers-color-scheme: dark)"),n=e=>{null==i?void 0:i.setAttribute("data-theme",e.matches?"dark":"light")};t.addEventListener("change",n),this.destroyCallbacks.push(()=>t.removeEventListener("change",n))}else i.setAttribute("data-theme",t);e.primaryColor&&i.style.setProperty("--isw-primary-color",e.primaryColor),Promise.resolve().then(()=>ni).then(({getThemeManager:e})=>{e().notifyRootReady()}).catch(()=>{void 0})}async initializeSystems(){var e;this.config.locale&&Ci.setLocale(this.config.locale),oi.isSecureContext(),this.initializeBehaviorTrackingAsync(),!1!==(null==(e=this.config.analytics)?void 0:e.enabled)&&this.initializeAnalyticsAsync()}async initializeBehaviorTrackingAsync(){try{await Promise.resolve().then(()=>rn)}catch(e){void 0}}async initializeAnalyticsAsync(){var e,t;try{const{getAnalyticsService:i}=await Promise.resolve().then(()=>Hi),{debugGAConfig:n}=await Promise.resolve().then(()=>na);let a;const s=null==(e=this.config.analytics)?void 0:e.googleAnalytics;if((null==s?void 0:s.enabled)&&(null==s?void 0:s.measurementId)&&(a={measurementId:s.measurementId,gtmContainerId:s.gtmContainerId||"",enabled:!0,debugMode:s.debugMode||!1,cookiePrefix:"isw_"},a.debugMode)){const e=n(a);void 0,e.errors.length>0&&(void 0,e.errors.forEach(()=>{})),e.warnings.length>0&&(void 0,e.warnings.forEach(()=>{})),e.recommendations.length>0&&(void 0,e.recommendations.forEach(()=>{}))}this.analytics=i(a),this.analytics.trackWidget("initialized",{config:{position:this.config.position,theme:this.config.theme,locale:this.config.locale,has_ga4:!!a,has_gtm:!!(null==a?void 0:a.gtmContainerId),debug_mode:(null==a?void 0:a.debugMode)||!1},widget_version:"1.0.0",integration_type:"embed"}),(null==a?void 0:a.debugMode)&&(null==(t=this.analytics.googleAnalytics)||t.trackGeolocation())}catch(i){void 0,this.analytics&&this.analytics.trackError(i instanceof Error?i:new Error(String(i)),"analytics_init")}}initializeSentryContext(){var e;try{fi.setTag("widget.version","1.0.0"),fi.setTag("widget.position",this.config.position||"bottom-right"),fi.setTag("widget.theme",this.config.theme||"light"),fi.setTag("widget.locale",this.config.locale||"en-US"),fi.setContext("widget_config",{position:this.config.position,theme:this.config.theme,locale:this.config.locale,analytics_enabled:!1!==(null==(e=this.config.analytics)?void 0:e.enabled),host_url:window.location.href,referrer:document.referrer}),fi.addBreadcrumb({category:"widget",message:"Widget initialization started",level:"info",data:{timestamp:Date.now(),config:{position:this.config.position,theme:this.config.theme,locale:this.config.locale}}})}catch(t){void 0}}async initializeScreenshotServiceAsync(){if(this.screenshotService)return this.screenshotService;try{const e=await Promise.resolve().then(()=>sa);return this.screenshotService=new e.default,this.screenshotService}catch(e){throw void 0,e}}async init(e){try{void 0,await this.mount();const e=new CustomEvent("isales:widget:ready",{detail:{config:this.config,timestamp:Date.now()}});window.dispatchEvent(e)}catch(t){throw void 0,t}}createContainer(){this.container=document.getElementById("isales-widget-root"),this.container&&(this.container.style.position="fixed",this.container.style.zIndex="999999")}async mount(){var e,t,i,a;if(!this.container||this.isRendered||this.isMounting)return;this.isMounting=!0;const s=performance.now();try{const[{App:i},{ErrorBoundary:a}]=await Promise.all([Promise.resolve().then(()=>Pa),Promise.resolve().then(()=>za)]);if(!this.container||!document.contains(this.container))throw new Error("Container element is no longer valid");N(n(a,null,n(i,{config:this.config})),this.container),this.isRendered=!0,this.isMounting=!1;const o=performance.now()-s;null==(t=null==(e=this.analytics)?void 0:e.trackPerformance)?void 0:t.call(e,"widget_mount_time",o)}catch(o){throw this.isMounting=!1,null==(a=null==(i=this.analytics)?void 0:i.track)||a.call(i,"widget_mount_error",{error:o instanceof Error?o.message:"Unknown error",timestamp:Date.now()}),fi.withScope(e=>{e.setTag("error.type","mount_failure"),e.setContext("mount_context",{mountTime:performance.now()-s,containerValid:!!this.container,isMounting:this.isMounting,isRendered:this.isRendered}),fi.captureException(o instanceof Error?o:new Error(String(o)))}),o}}open(){var e,t;const i=new CustomEvent("isales:widget:open");window.dispatchEvent(i),null==(t=null==(e=this.analytics)?void 0:e.trackWidget)||t.call(e,"opened")}close(){var e,t;const i=new CustomEvent("isales:widget:close");window.dispatchEvent(i),null==(t=null==(e=this.analytics)?void 0:e.trackWidget)||t.call(e,"closed")}toggle(){const e=new CustomEvent("isales:widget:toggle");window.dispatchEvent(e)}async sendMessage(e,t,i){var n,a;if(!((null==e?void 0:e.trim())||i&&0!==i.length))throw new Error("Either message text or images are required");const s=e?oi.sanitizeInput(e):void 0,o=new CustomEvent("isales:widget:sendMessage",{detail:{text:s,metadata:t,images:i}});window.dispatchEvent(o),null==(a=null==(n=this.analytics)?void 0:n.trackMessage)||a.call(n,"sent",{textLength:(null==s?void 0:s.length)||0,hasImages:!!(null==i?void 0:i.length),imageCount:(null==i?void 0:i.length)||0,metadata:t})}addMessage(e){var t,i;try{en.getState().addMessage(e),null==(i=null==(t=this.analytics)?void 0:t.trackMessage)||i.call(t,"received",{type:e.type,sender:e.sender})}catch(n){void 0}}identify(e){var t,i;const n=new CustomEvent("isales:widget:identify",{detail:e});window.dispatchEvent(n),null==(i=null==(t=this.analytics)?void 0:t.identify)||i.call(t,e),fi.setUser({id:e.id,email:e.email,username:e.name}),fi.addBreadcrumb({category:"user",message:"User identified",level:"info",data:{userId:e.id,hasEmail:!!e.email,hasName:!!e.name,timestamp:Date.now()}})}track(e,t){var i,n;null==(n=null==(i=this.analytics)?void 0:i.track)?void 0:n.call(i,e,t)}on(e,t){window.addEventListener("isales:widget:".concat(e),e=>{t(e.detail)})}off(e,t){if(t){const i=t;window.removeEventListener("isales:widget:".concat(e),i)}}destroy(){var e,t,i,n,a,s;try{null==(t=null==(e=this.analytics)?void 0:e.track)?void 0:t.call(e,"widget_destroyed"),fi.addBreadcrumb({category:"widget",message:"Widget destruction started",level:"info",data:{timestamp:Date.now(),sessionDuration:Date.now()-(window.iSalesWidgetStart||Date.now())}});try{en.getState().destroy()}catch(o){void 0,fi.captureException(o instanceof Error?o:new Error(String(o)))}null==(n=null==(i=this.analytics)?void 0:i.destroy)?void 0:n.call(i),null==(s=null==(a=this.screenshotService)?void 0:a.destroy)||s.call(a);try{Promise.resolve().then(()=>rn).then(({userBehaviorService:e})=>{e.destroy()})}catch(o){void 0}this.destroyCallbacks.forEach(e=>{try{e()}catch(o){void 0}}),this.destroyCallbacks=[],this.container&&this.isRendered&&(N(null,this.container),this.isRendered=!1),this.container&&(this.container.style.position="",this.container.style.zIndex="",this.container.parentNode&&this.container.parentNode.removeChild(this.container)),this.container=null,this.analytics=null,this.screenshotService=null,this.isMounting=!1,fi.destroy(),nn=null}catch(o){void 0,fi.captureException(o instanceof Error?o:new Error(String(o))),fi.destroy(),nn=null}}navigateTo(e,t){var i,n;const a=oi.validateURL(e);if(!a.isValid)return void 0,void 0;const s=a.sanitizedInput;if(null==(n=null==(i=this.analytics)?void 0:i.track)?void 0:n.call(i,"widget_navigation",{url:s,newTab:(null==t?void 0:t.newTab)||!1,useHostService:(null==t?void 0:t.useHostService)||!1}),!1!==(null==t?void 0:t.useHostService)&&this.isInternalUrl(s))return this.handleInternalNavigation(s,t),void 0;(null==t?void 0:t.newTab)?window.open(s,"_blank","noopener,noreferrer"):window.location.href=s}isInternalUrl(e){try{return new URL(e,window.location.origin).origin===window.location.origin}catch(t){return e.startsWith("/")||e.startsWith("./")||e.startsWith("../")}}async handleInternalNavigation(e,t){try{const{hostNavigationService:i}=await Promise.resolve().then(()=>ja);await i.navigateToPage(e,{source:"widget_api",...t})}catch(i){void 0,window.location.href=e}}scrollToElement(e,t){var i,n;try{const a=document.querySelector(e);a?(a.scrollIntoView(t||{behavior:"smooth",block:"start"}),null==(n=null==(i=this.analytics)?void 0:i.track)||n.call(i,"widget_scroll_to_element",{selector:e})):void 0}catch(a){void 0}}sendCustomEvent(e,t){var i,n;const a=new CustomEvent("isales:custom:event",{detail:{type:e,data:t}});window.dispatchEvent(a),null==(n=null==(i=this.analytics)?void 0:i.track)||n.call(i,"widget_custom_event",{type:e,dataKeys:Object.keys(t)})}async captureElement(e,t){var i,n;try{const a=await this.initializeScreenshotServiceAsync(),s=await a.captureElement(e,t);return null==(n=null==(i=this.analytics)?void 0:i.track)?void 0:n.call(i,"widget_screenshot_captured",{type:"element",selector:e,width:s.width,height:s.height}),s.dataUrl}catch(a){throw void 0,a}}async captureViewport(e){var t,i;try{const n=await this.initializeScreenshotServiceAsync(),a=await n.captureViewport(e);return null==(i=null==(t=this.analytics)?void 0:t.track)?void 0:i.call(t,"widget_screenshot_captured",{type:"viewport",width:a.width,height:a.height}),a.dataUrl}catch(n){throw void 0,n}}setWidgetMode(e){en.getState().setWidgetMode(e)}setSuggestedQuestions(e){en.getState().setSuggestedQuestions(e)}}window.iSalesWidgetStart=performance.now(),function(){window.iSalesWidget=window.iSalesWidget||[];const e=window.iSalesWidget;let t=null,i=null;const n={te:!0,init:e=>{try{return void 0,i||(i=(async()=>{const t=an.create(e);return await t.init(e),t})()),i.then(e=>{t=e}).catch(()=>{void 0}),void 0}catch(n){throw void 0,n}},open:()=>{t&&t.open()},close:()=>{t&&t.close()},toggle:()=>{t&&t.toggle()},sendMessage:async(e,i,n)=>t?t.sendMessage(e,i,n):Promise.reject(new Error("Widget not initialized")),addMessage:e=>{t&&t.addMessage(e)},identify:e=>{t&&t.identify(e)},track:(e,i)=>{t&&t.track(e,i)},on:(e,i)=>{t&&t.on(e,i)},off:(e,i)=>{t&&t.off(e,i)},destroy:()=>{t&&(t.destroy(),t=null,i=null)},navigateTo:(e,i)=>{t&&t.navigateTo(e,i)},scrollToElement:(e,i)=>{t&&t.scrollToElement(e,i)},sendCustomEvent:(e,i)=>{t&&t.sendCustomEvent(e,i)},setWidgetMode:e=>{en.getState().setWidgetMode(e)},setSuggestedQuestions:e=>{en.getState().setSuggestedQuestions(e)},loadReactCalendly:async()=>Promise.resolve(),captureElement:async(e,i)=>t?t.captureElement(e,i):Promise.reject(new Error("Widget not initialized")),captureViewport:async e=>t?t.captureViewport(e):Promise.reject(new Error("Widget not initialized"))};if(window.iSalesWidgetCore=n,window.iSalesWidget&&!Array.isArray(window.iSalesWidget)&&"ie"in window.iSalesWidget||(window.iSalesWidget=n),Array.isArray(e)){void 0;for(const[t,...i]of e)try{"init"===t&&i.length>0?n.init(i[0]):t in n&&(0,n[t])(...i)}catch(a){void 0}}}();class sn{constructor(){this.STORAGE_KEY="isw_user_behavior",this.SESSION_STORAGE_KEY="isw_session_data",this.DATA_VERSION=1,this.MAX_PAGES_STORED=20,this.MAX_DATA_SIZE=10240,this.SAVE_DEBOUNCE_MS=1e3,this.PERIODIC_SAVE_INTERVAL=3e4,this.scrollObserver=null,this.pageViewObserver=null,this.maxScrollDepth=0,this.saveTimeout=null,this.periodicSaveInterval=null,this.isDestroyed=!1,this.originalPushState=null,this.originalReplaceState=null,this.sessionStartTime=Date.now(),this.environment=this.detectBrowserEnvironment(),this.data=this.loadStoredData(),this.initializeTracking()}static logError(e,t,i="warn"){{const n="warn"===i?console.warn:console.debug;t?n(e,t):n(e)}}static getInstance(){return sn.instance||(sn.instance=new sn),sn.instance}detectBrowserEnvironment(){const e={hasLocalStorage:!1,hasSessionStorage:!1,hasWindow:"undefined"!=typeof window,hasDocument:"undefined"!=typeof document};if(e.hasWindow){try{const t="__isw_storage_test__",i="test_value";localStorage.setItem(t,i);const n=localStorage.getItem(t);localStorage.removeItem(t),e.hasLocalStorage=n===i}catch(t){e.hasLocalStorage=!1,sn.logError("[UserBehavior] localStorage unavailable:",t,"debug")}try{const t="__isw_session_test__",i="test_session";sessionStorage.setItem(t,i);const n=sessionStorage.getItem(t);sessionStorage.removeItem(t),e.hasSessionStorage=n===i}catch(t){e.hasSessionStorage=!1,sn.logError("[UserBehavior] sessionStorage unavailable:",t,"debug")}}return e}loadStoredData(){if(!this.environment.hasLocalStorage||!this.environment.hasWindow)return this.getDefaultData();try{const e=localStorage.getItem(this.STORAGE_KEY),t=/* @__PURE__ */(new Date).toISOString(),i=window.location.pathname;if(e){const n=JSON.parse(e),a=this.validateAndMigrateData(n);return{...a,version:this.DATA_VERSION,visitCount:a.visitCount+1,lastVisit:t,sessionStart:Date.now(),pagesViewed:a.pagesViewed.includes(i)?a.pagesViewed:[...a.pagesViewed,i].slice(-this.MAX_PAGES_STORED)}}return this.getDefaultData()}catch(e){return sn.logError("[UserBehavior] Failed to load stored data:",e),this.getDefaultData()}}validateAndMigrateData(e){const t=this.getDefaultData();if(!e||"object"!=typeof e||null===e)return t;const i=e;let n=i;return(!i.version||"number"==typeof i.version&&i.version<this.DATA_VERSION)&&(n=this.migrateData(i)),{version:this.DATA_VERSION,visitCount:"number"==typeof n.visitCount?Math.max(0,n.visitCount):1,firstVisit:this.isValidDate(n.firstVisit)?n.firstVisit:t.firstVisit,lastVisit:this.isValidDate(n.lastVisit)?n.lastVisit:t.lastVisit,sessionStart:"number"==typeof n.sessionStart?n.sessionStart:Date.now(),pagesViewed:Array.isArray(n.pagesViewed)?n.pagesViewed.slice(-this.MAX_PAGES_STORED):t.pagesViewed,widgetOpenCount:"number"==typeof n.widgetOpenCount?Math.max(0,n.widgetOpenCount):0,messagesCount:"number"==typeof n.messagesCount?Math.max(0,n.messagesCount):0,lastMessageTime:n.lastMessageTime&&this.isValidDate(n.lastMessageTime)?n.lastMessageTime:void 0,cartValue:"number"==typeof n.cartValue?Math.max(0,n.cartValue):void 0,cartItemsCount:"number"==typeof n.cartItemsCount?Math.max(0,n.cartItemsCount):void 0,lastViewedProduct:"string"==typeof n.lastViewedProduct?n.lastViewedProduct.slice(0,200):void 0,categoryViewed:"string"==typeof n.categoryViewed?n.categoryViewed.slice(0,100):void 0,priceRange:"string"==typeof n.priceRange?n.priceRange.slice(0,50):void 0,inCheckoutProcess:"boolean"==typeof n.inCheckoutProcess?n.inCheckoutProcess:void 0}}migrateData(e){return{...e,version:this.DATA_VERSION}}isValidDate(e){if("string"!=typeof e)return!1;const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}getDefaultData(){const e=/* @__PURE__ */(new Date).toISOString(),t=this.environment.hasWindow?window.location.pathname:"/";return{version:this.DATA_VERSION,visitCount:1,firstVisit:e,lastVisit:e,sessionStart:Date.now(),pagesViewed:[t],widgetOpenCount:0,messagesCount:0}}initializeTracking(){this.environment.hasWindow&&this.environment.hasDocument&&(this.setupScrollTracking(),this.setupPageViewTracking(),this.setupBeforeUnloadSave(),this.setupPeriodicSave())}setupScrollTracking(){if(!this.environment.hasWindow)return;const e=()=>{const e=window.pageYOffset||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-window.innerHeight,i=t>0?Math.round(e/t*100):0;this.maxScrollDepth=Math.max(this.maxScrollDepth,i)};let t=!1;this.scrollObserver=()=>{t||this.isDestroyed||(requestAnimationFrame(()=>{e(),t=!1}),t=!0)},window.addEventListener("scroll",this.scrollObserver,{passive:!0})}setupPageViewTracking(){if(!this.environment.hasWindow)return;let e=window.location.pathname;this.pageViewObserver=()=>{if(this.isDestroyed)return;const t=window.location.pathname;t!==e&&(this.trackPageView(t),e=t)},window.addEventListener("popstate",this.pageViewObserver),"undefined"!=typeof history&&(this.originalPushState=history.pushState,this.originalReplaceState=history.replaceState,history.pushState=(...e)=>{this.originalPushState.apply(history,e),setTimeout(()=>{!this.isDestroyed&&this.pageViewObserver&&this.pageViewObserver()},0)},history.replaceState=(...e)=>{this.originalReplaceState.apply(history,e),setTimeout(()=>{!this.isDestroyed&&this.pageViewObserver&&this.pageViewObserver()},0)})}setupBeforeUnloadSave(){this.environment.hasWindow&&this.environment.hasDocument&&(window.addEventListener("beforeunload",()=>{this.saveDataImmediate()}),document.addEventListener("visibilitychange",()=>{document.hidden&&!this.isDestroyed&&this.saveDataImmediate()}))}setupPeriodicSave(){this.periodicSaveInterval=setInterval(()=>{this.isDestroyed||this.debouncedSave()},this.PERIODIC_SAVE_INTERVAL)}trackPageView(e){if(!e||this.isDestroyed)return;const t=e.slice(0,200);this.data.pagesViewed.includes(t)||(this.data.pagesViewed.push(t),this.data.pagesViewed.length>this.MAX_PAGES_STORED&&(this.data.pagesViewed=this.data.pagesViewed.slice(-this.MAX_PAGES_STORED)),this.debouncedSave())}trackWidgetOpen(){if(!this.isDestroyed){if(this.data.widgetOpenCount+=1,this.environment.hasSessionStorage)try{const e=this.SESSION_STORAGE_KEY+"_widget_open";sessionStorage.getItem(e)||sessionStorage.setItem(e,/* @__PURE__ */(new Date).toISOString())}catch(e){this.environment.hasSessionStorage=!1}this.debouncedSave()}}trackMessageSent(){this.isDestroyed||(this.data.messagesCount+=1,this.data.lastMessageTime=/* @__PURE__ */(new Date).toISOString(),this.debouncedSave())}updateEcommerceData(e){if(this.isDestroyed)return;const t={};"number"==typeof e.cartValue&&e.cartValue>=0&&(t.cartValue=Math.min(e.cartValue,999999999)),"number"==typeof e.cartItemsCount&&e.cartItemsCount>=0&&(t.cartItemsCount=Math.min(e.cartItemsCount,9999)),"string"==typeof e.lastViewedProduct&&(t.lastViewedProduct=e.lastViewedProduct.slice(0,200)),"string"==typeof e.categoryViewed&&(t.categoryViewed=e.categoryViewed.slice(0,100)),"string"==typeof e.priceRange&&(t.priceRange=e.priceRange.slice(0,50)),"boolean"==typeof e.inCheckoutProcess&&(t.inCheckoutProcess=e.inCheckoutProcess),Object.assign(this.data,t),this.debouncedSave()}getBehaviorData(){const e=Date.now(),t=e-this.sessionStartTime,i=e-this.data.sessionStart;let n;if(this.environment.hasSessionStorage)try{n=sessionStorage.getItem(this.SESSION_STORAGE_KEY+"_widget_open")||void 0}catch(a){this.environment.hasSessionStorage=!1,n=void 0,"undefined"==typeof process&&sn.logError("[UserBehavior] Failed to get widget open time:",a,"debug")}return{sessionStartTime:new Date(this.sessionStartTime).toISOString(),sessionDuration:Math.max(0,t),visitCount:this.data.visitCount,firstVisit:this.data.firstVisit,lastVisit:this.data.lastVisit,isReturningUser:this.data.visitCount>1,timeOnSite:Math.max(0,i),pagesViewed:[...this.data.pagesViewed],scrollDepth:Math.min(100,Math.max(0,this.maxScrollDepth)),widgetOpenTime:n,widgetOpenCount:this.data.widgetOpenCount,messagesCount:this.data.messagesCount,lastMessageTime:this.data.lastMessageTime,cartValue:this.data.cartValue,cartItemsCount:this.data.cartItemsCount,lastViewedProduct:this.data.lastViewedProduct,categoryViewed:this.data.categoryViewed,priceRange:this.data.priceRange,inCheckoutProcess:this.data.inCheckoutProcess}}debouncedSave(){this.saveTimeout&&clearTimeout(this.saveTimeout),this.saveTimeout=setTimeout(()=>{this.saveData(),this.saveTimeout=null},this.SAVE_DEBOUNCE_MS)}saveDataImmediate(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),this.saveData()}saveData(){if(this.environment.hasLocalStorage&&!this.isDestroyed)try{const e=JSON.stringify(this.data);if(e.length>this.MAX_DATA_SIZE){sn.logError("[UserBehavior] Data size exceeds limit, truncating pages viewed"),this.data.pagesViewed=this.data.pagesViewed.slice(-Math.floor(this.MAX_PAGES_STORED/2));const e=JSON.stringify(this.data);if(e.length<=this.MAX_DATA_SIZE)localStorage.setItem(this.STORAGE_KEY,e);else{const e=this.getDefaultData();e.visitCount=this.data.visitCount,e.widgetOpenCount=this.data.widgetOpenCount,e.messagesCount=this.data.messagesCount,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}return}localStorage.setItem(this.STORAGE_KEY,e)}catch(e){if(e instanceof Error&&("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name))try{const e={version:this.DATA_VERSION,visitCount:this.data.visitCount,firstVisit:this.data.firstVisit,lastVisit:this.data.lastVisit,sessionStart:Date.now(),pagesViewed:[this.data.pagesViewed[this.data.pagesViewed.length-1]||"/"],widgetOpenCount:this.data.widgetOpenCount,messagesCount:this.data.messagesCount};localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(t){this.environment.hasLocalStorage=!1}sn.logError("[UserBehavior] Failed to save data:",e)}}clearData(){try{if(this.environment.hasLocalStorage)try{localStorage.removeItem(this.STORAGE_KEY)}catch(e){this.environment.hasLocalStorage=!1,"undefined"==typeof process}if(this.environment.hasSessionStorage)try{sessionStorage.removeItem(this.SESSION_STORAGE_KEY+"_widget_open")}catch(t){this.environment.hasSessionStorage=!1,"undefined"==typeof process}this.data=this.getDefaultData(),this.maxScrollDepth=0}catch(i){void 0}}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),this.periodicSaveInterval&&(clearInterval(this.periodicSaveInterval),this.periodicSaveInterval=null),this.environment.hasWindow&&(this.scrollObserver&&(window.removeEventListener("scroll",this.scrollObserver),this.scrollObserver=null),this.pageViewObserver&&(window.removeEventListener("popstate",this.pageViewObserver),this.pageViewObserver=null)),this.originalPushState&&"undefined"!=typeof history&&(history.pushState=this.originalPushState,this.originalPushState=null),this.originalReplaceState&&"undefined"!=typeof history&&(history.replaceState=this.originalReplaceState,this.originalReplaceState=null),this.saveDataImmediate(),sn.instance=void 0)}}const on=sn.getInstance(),rn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,UserBehaviorService:sn,userBehaviorService:on},Symbol.toStringTag,{value:"Module"})),cn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ResourceManager:class{constructor(){this.timers=/* @__PURE__ */new Set,this.intervals=/* @__PURE__ */new Set,this.eventListeners=/* @__PURE__ */new Map,this.abortController=new AbortController,this.isDestroyed=!1}setTimeout(e,t){if(this.isDestroyed)return void 0,setTimeout(()=>{},0);const i=setTimeout(()=>{this.timers.delete(i);try{e()}catch(t){void 0}},t);return this.timers.add(i),i}setInterval(e,t){if(this.isDestroyed)return void 0,setInterval(()=>{},t);const i=setInterval(()=>{try{e()}catch(t){void 0}},t);return this.intervals.add(i),i}clearTimeout(e){clearTimeout(e),this.timers.delete(e)}clearInterval(e){clearInterval(e),this.intervals.delete(e)}addEventListener(e,t,i,n){if(this.isDestroyed)return void 0,void 0;const a="".concat(e.constructor.name,"-").concat(t,"-").concat(Date.now()),s="object"==typeof n&&null!==n?{...n,signal:this.abortController.signal}:{capture:n,signal:this.abortController.signal};try{e.addEventListener(t,i,s),this.eventListeners.set(a,{element:e,event:t,listener:i,options:s})}catch(o){void 0}}removeEventListener(e,t,i){try{e.removeEventListener(t,i);for(const[n,a]of this.eventListeners.entries())if(a.element===e&&a.event===t&&a.listener===i){this.eventListeners.delete(n);break}}catch(n){void 0}}getResourceCounts(){return{timers:this.timers.size,intervals:this.intervals.size,eventListeners:this.eventListeners.size}}isCleanedUp(){return 0===this.timers.size&&0===this.intervals.size&&0===this.eventListeners.size}destroy(){if(this.isDestroyed)return void 0,void 0;this.isDestroyed=!0,this.timers.forEach(e=>{try{clearTimeout(e)}catch(t){void 0}}),this.timers.clear(),this.intervals.forEach(e=>{try{clearInterval(e)}catch(t){void 0}}),this.intervals.clear();try{this.abortController.abort()}catch(e){void 0}this.eventListeners.clear()}}},Symbol.toStringTag,{value:"Module"})),ln=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ChatStateManager:class{constructor(){this.messages=[],this.unreadCount=0,this.conversationId=null,this.ne=/* @__PURE__ */new Map,this.ae=""}getStateHash(){return JSON.stringify({messages:this.messages.map(e=>({id:e.id,status:e.status,sender:e.sender})),unreadCount:this.unreadCount})}invalidateCache(){this.ne.clear()}memoize(e,t){const i=this.getStateHash();return i!==this.ae&&(this.invalidateCache(),this.ae=i),this.ne.has(e)||this.ne.set(e,t()),this.ne.get(e)}getMessages(){return[...this.messages]}getUnreadCount(){return this.memoize("unreadCount",()=>this.messages.filter(e=>"bot"===e.sender&&"read"!==e.status).length)}getBotMessages(){return this.memoize("botMessages",()=>this.messages.filter(e=>"bot"===e.sender))}getConversationId(){return this.conversationId}addMessage(e){const t=this.normalizeMessage(e);return this.messages=[...this.messages,t],this.unreadCount=this.getUnreadCount(),this.invalidateCache(),{messages:this.getMessages(),unreadCount:this.unreadCount}}updateMessageStatus(e,t){return this.messages=this.messages.map(i=>i.id===e?{...i,status:t}:i),this.unreadCount=this.getUnreadCount(),this.invalidateCache(),{messages:this.getMessages(),unreadCount:this.unreadCount}}markMessagesAsRead(){return this.messages=this.messages.map(e=>"bot"===e.sender&&"read"!==e.status?{...e,status:"read"}:e),this.unreadCount=this.getUnreadCount(),this.invalidateCache(),{messages:this.getMessages(),unreadCount:this.unreadCount}}setMessages(e){return this.messages=e.map(e=>this.normalizeMessage(e)),this.unreadCount=this.getUnreadCount(),this.invalidateCache(),{messages:this.getMessages(),unreadCount:this.unreadCount}}clearMessages(){return this.messages=[],this.unreadCount=0,this.invalidateCache(),{messages:this.getMessages(),unreadCount:this.unreadCount}}setConversationId(e){this.conversationId=e}normalizeMessage(e){return e.status&&["sending","sent","delivered","read","failed"].includes(e.status)?e:{...e,status:"bot"===e.sender?"delivered":"sent"}}validateState(){const e=[],t=this.messages.map(e=>e.id),i=new Set(t);t.length!==i.size&&e.push("Found duplicate message IDs");const n=this.getUnreadCount();n!==this.unreadCount&&e.push("Unread count mismatch: calculated ".concat(n,", stored ").concat(this.unreadCount));const a=this.messages.filter(e=>!e.status||!["sending","sent","delivered","read","failed"].includes(e.status));return a.length>0&&e.push("Found ".concat(a.length," messages with invalid status")),{isValid:0===e.length,errors:e}}destroy(){this.messages=[],this.unreadCount=0,this.conversationId=null,this.invalidateCache()}}},Symbol.toStringTag,{value:"Module"})),dn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,DebouncedSaveManager:class{constructor(){this.saveTimeout=null,this.pendingCallback=null,this.isExecuting=!1}async debouncedSave(e,t=500){this.pendingCallback=e,this.saveTimeout&&clearTimeout(this.saveTimeout),this.isExecuting||(this.saveTimeout=setTimeout(async()=>{await this.executePendingSave()},t))}async executePendingSave(){if(!this.isExecuting&&this.pendingCallback){this.isExecuting=!0;try{await this.pendingCallback(),this.pendingCallback=null}catch(e){void 0}finally{this.isExecuting=!1,this.pendingCallback&&setTimeout(()=>this.executePendingSave(),100)}}}async forceSave(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),this.pendingCallback&&await this.executePendingSave()}destroy(){this.saveTimeout&&(clearTimeout(this.saveTimeout),this.saveTimeout=null),this.pendingCallback=null,this.isExecuting=!1}}},Symbol.toStringTag,{value:"Module"}));class un{constructor(){this.metrics=/* @__PURE__ */new Map,this.maxMetricsPerOperation=100,this.slowOperationThreshold=50,this.isDevelopment=!1,this.isEnabled=this.isDevelopment}static getInstance(){return un.instance||(un.instance=new un),un.instance}startTimer(e){if(!this.isEnabled)return()=>{};if(!e||"string"!=typeof e)return void 0,()=>{};const t=performance.now();return()=>{try{const i=performance.now()-t;this.recordMetric(e,i),i>this.slowOperationThreshold}catch(i){void 0}}}recordMetric(e,t){if(this.isDevelopment)try{this.metrics.has(e)||this.metrics.set(e,[]);const i=this.metrics.get(e);i.push(t),i.length>this.maxMetricsPerOperation&&i.shift()}catch(i){void 0}}getMetrics(e){if(!this.isDevelopment)return null;try{const t=this.metrics.get(e);if(!t||0===t.length)return null;const i=t.reduce((e,t)=>e+t,0)/t.length,n=Math.min(...t),a=Math.max(...t),s=t[t.length-1];return{avg:i,min:n,max:a,count:t.length,latest:s}}catch(t){return void 0,null}}getOperations(){return this.isDevelopment?Array.from(this.metrics.keys()):[]}logSummary(){if(this.isDevelopment)try{void 0;const e=Array.from(this.metrics.keys());if(0===e.length)return void 0,void 0;for(const t of e)this.getMetrics(t),0;void 0}catch(e){void 0}}clearMetrics(){this.isDevelopment&&this.metrics.clear()}getMemoryUsage(){if(!this.isDevelopment)return null;try{return{operations:this.metrics.size,totalSamples:Array.from(this.metrics.values()).reduce((e,t)=>e+t.length,0)}}catch(e){return void 0,null}}}const hn=un.getInstance(),mn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,PerformanceMonitor:un,performanceMonitor:hn},Symbol.toStringTag,{value:"Module"})),gn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,MemoizeManager:class{constructor(){this.cache=/* @__PURE__ */new Map,this.DEFAULT_TTL=3e4}memoize(e,t,i=this.DEFAULT_TTL){const n=Date.now(),a=this.cache.get(e);if(a&&a.expiry>n)return a.value;const s=t();return this.cache.set(e,{value:s,expiry:n+i}),s}invalidate(e){this.cache.delete(e)}clear(){this.cache.clear()}cleanup(){const e=Date.now();for(const[t,{expiry:i}]of this.cache.entries())i<=e&&this.cache.delete(t)}getStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}has(e){const t=this.cache.get(e);if(!t)return!1;const i=Date.now();return!(t.expiry<=i&&(this.cache.delete(e),1))}}},Symbol.toStringTag,{value:"Module"}));class wn{constructor(){this.validationRules=/* @__PURE__ */new Map,this.errorMessages=/* @__PURE__ */new Map,this.setupValidationRules()}static getInstance(){return wn.instance||(wn.instance=new wn),wn.instance}setupValidationRules(){this.validationRules.set("widgetConfig",e=>{if(!e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.apiKey&&t.apiKey.length>0&&(void 0===t.theme||["light","dark","auto"].includes(t.theme))}),this.validationRules.set("message",e=>{if(!e||"object"!=typeof e)return!1;const t=e;if(!t.id||"string"!=typeof t.id)return!1;if(!["user","bot"].includes(t.sender))return!1;if(t.status&&!["sending","sent","delivered","read","failed"].includes(t.status))return!1;if(!(t.timestamp instanceof Date))return!1;switch(t.type){case"text":return"string"==typeof t.text&&t.text.length>0;case"file":return"string"==typeof t.fileName&&"string"==typeof t.fileLink&&"string"==typeof t.fileType;case"image":return"string"==typeof t.imageLink;default:return!1}}),this.validationRules.set("userId",e=>"string"==typeof e&&e.length>0),this.validationRules.set("conversationId",e=>null==e||"string"==typeof e&&e.length>0),this.validationRules.set("apiKey",e=>"string"==typeof e&&e.length>=10),this.validationRules.set("theme",e=>void 0===e||["light","dark","auto"].includes(e)),this.validationRules.set("locale",e=>void 0===e||["en-US","es-ES","fr-FR","de-DE","pt-BR","it-IT","ja-JP","zh-CN","ko-KR","ru-RU","id-ID","tl-PH","hi-IN"].includes(e)),this.errorMessages.set("widgetConfig","Invalid widget configuration: missing or invalid apiKey"),this.errorMessages.set("message","Invalid message format: missing required fields or invalid type"),this.errorMessages.set("userId","Invalid user ID: must be a non-empty string"),this.errorMessages.set("conversationId","Invalid conversation ID: must be null or non-empty string"),this.errorMessages.set("apiKey","Invalid API key: must be at least 10 characters long"),this.errorMessages.set("theme",'Invalid theme: must be "light", "dark", or "auto"'),this.errorMessages.set("locale","Invalid locale: must be a supported locale code")}validate(e,t){const i=this.validationRules.get(e);if(!i)return{isValid:!0};try{return i(t)?{isValid:!0}:{isValid:!1,error:this.errorMessages.get(e)||"Validation failed"}}catch(n){return{isValid:!1,error:"Validation error: ".concat(n instanceof Error?n.message:"Unknown error")}}}validateMultiple(e){const t=[];for(const i of e){if(!i.required&&(null===i.value||void 0===i.value))continue;const e=this.validate(i.type,i.value);e.isValid||t.push(e.error||"Validation failed")}return{isValid:0===t.length,errors:t}}validateStoreState(e){var t;const i=[];try{if(e.messages&&void 0!==e.unreadCount){const t=e.messages.filter(e=>"bot"===e.sender&&"read"!==e.status).length;t!==e.unreadCount&&i.push("Unread count mismatch: expected ".concat(t,", got ").concat(e.unreadCount))}if(void 0!==e.conversationId&&e.messages){const t=e.messages.length>0,n=null!==e.conversationId;t&&!n&&i.push("Messages exist without conversation ID")}if(null==(t=e.resourceManager)?void 0:t.getResourceCounts){const t=e.resourceManager.getResourceCounts(),n=t.timers+t.intervals+t.eventListeners;n>50&&i.push("High resource count detected: ".concat(n," resources"))}e.messages&&e.messages.forEach((e,t)=>{const n=this.validate("message",e);n.isValid||i.push("Message ".concat(t,": ").concat(n.error))})}catch(n){i.push("State validation error: ".concat(n instanceof Error?n.message:"Unknown error"))}return{isValid:0===i.length,errors:i}}addValidationRule(e,t,i){this.validationRules.set(e,t),this.errorMessages.set(e,i)}removeValidationRule(e){this.validationRules.delete(e),this.errorMessages.delete(e)}getValidationTypes(){return Array.from(this.validationRules.keys())}validateWidgetConfig(e){if(!e||"object"!=typeof e)return{isValid:!1,error:"Configuration must be an object"};const t=[{type:"apiKey",value:e.apiKey,required:!0},{type:"theme",value:e.theme,required:!1},{type:"locale",value:e.locale,required:!1}],i=this.validateMultiple(t);return{isValid:i.isValid,error:i.errors.join(", ")}}validateMessage(e){return this.validate("message",e)}healthCheck(){const e=[];0===this.validationRules.size&&e.push("No validation rules loaded"),0===this.errorMessages.size&&e.push("No error messages loaded");const t=["widgetConfig","message","userId"];for(const i of t)this.validationRules.has(i)||e.push("Missing essential validation: ".concat(i));return{isHealthy:0===e.length,issues:e}}}const pn=wn.getInstance(),fn=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ValidationManager:wn,validationManager:pn},Symbol.toStringTag,{value:"Module"}));class vn{constructor(e={}){this.storage=/* @__PURE__ */new Map,this.lastCleanup=0,this.cleanupInterval=6e4,this.config={maxRequests:50,windowMs:6e4,keyGenerator:()=>"widget_global",...e}}static getInstance(e){return vn.instance||(vn.instance=new vn(e)),vn.instance}checkRequest(e){const t=e||this.config.keyGenerator(),i=Date.now();this.performCleanup(i);let n=this.storage.get(t);n||(n={timestamp:i,requests:[]},this.storage.set(t,n));const a=i-this.config.windowMs;n.requests=n.requests.filter(e=>e>a);const s=n.requests.length,o=Math.max(0,this.config.maxRequests-s);if(s>=this.config.maxRequests){const e=Math.min(...n.requests),t=e+this.config.windowMs-i;return{allowed:!1,remainingRequests:0,retryAfter:Math.max(0,t),resetTime:e+this.config.windowMs}}return n.requests.push(i),n.timestamp=i,{allowed:!0,remainingRequests:o-1,resetTime:i+this.config.windowMs}}checkRequestAvailability(e){const t=e||this.config.keyGenerator(),i=Date.now(),n=this.storage.get(t);if(!n)return{allowed:!0,remainingRequests:this.config.maxRequests-1,resetTime:i+this.config.windowMs};const a=i-this.config.windowMs,s=n.requests.filter(e=>e>a),o=Math.max(0,this.config.maxRequests-s.length);if(s.length>=this.config.maxRequests){const e=Math.min(...s),t=e+this.config.windowMs-i;return{allowed:!1,remainingRequests:0,retryAfter:Math.max(0,t),resetTime:e+this.config.windowMs}}return{allowed:!0,remainingRequests:o-1,resetTime:i+this.config.windowMs}}getStatus(e){return this.checkRequestAvailability(e)}reset(e){const t=e||this.config.keyGenerator();this.storage.delete(t)}clear(){this.storage.clear()}getConfig(){return{...this.config}}updateConfig(e){this.config={...this.config,...e}}async waitForAvailability(e,t=3e4){const i=Date.now(),n=e||this.config.keyGenerator();for(;Date.now()-i<t;){const e=this.checkRequestAvailability(n);if(e.allowed)return!0;if(e.retryAfter&&e.retryAfter>0){const n=Math.min(e.retryAfter,t-(Date.now()-i));n>0&&await new Promise(e=>setTimeout(e,n))}else await new Promise(e=>setTimeout(e,1e3))}return!1}calculateBackoffDelay(e,t=1e3,i=3e4){const n=t*Math.pow(2,e-1)*(.5+.5*Math.random());return Math.min(n,i)}performCleanup(e){if(e-this.lastCleanup<this.cleanupInterval)return;const t=e-this.config.windowMs;for(const[i,n]of this.storage.entries())n.requests=n.requests.filter(e=>e>t),0===n.requests.length&&n.timestamp<t&&this.storage.delete(i);this.lastCleanup=e}getStatistics(){const e=Date.now()-this.config.windowMs;let t=0,i=null,n=null;for(const a of this.storage.values()){const s=a.requests.filter(t=>t>e);if(t+=s.length,s.length>0){const e=Math.min(...s),t=Math.max(...s);(null===i||e<i)&&(i=e),(null===n||t>n)&&(n=t)}}return{totalKeys:this.storage.size,totalActiveRequests:t,oldestEntry:i,newestEntry:n}}}const yn=vn.getInstance({maxRequests:50,windowMs:6e4,keyGenerator:()=>"global"});vn.getInstance({maxRequests:100,windowMs:36e5,keyGenerator:()=>"user_".concat(window.location.origin)}),vn.getInstance({maxRequests:60,windowMs:3e5,keyGenerator:()=>"ip_".concat(window.location.origin)});class bn{constructor(e={}){this.requestMetrics=[],this.securityEvents=[],this.performanceBuffer=[],this.config={enablePerformanceTracking:!0,enableSecurityTracking:!0,enableErrorTracking:!0,bufferSize:100,flushInterval:3e5,anonymizeData:!0,...e},this.sessionStart=Date.now(),this.initializePerformanceObserver(),this.schedulePeriodicFlush()}static getInstance(e){return bn.instance||(bn.instance=new bn(e)),bn.instance}trackRequest(e){if(!this.config.enablePerformanceTracking)return;const t={...e,timestamp:Date.now()};this.requestMetrics.push(t),fi.trackRequestMetrics(t),"error"===e.status||e.duration>5e3,this.checkBufferSize()}trackSecurityEvent(e,t,i={}){if(!this.config.enableSecurityTracking)return;const n={event:e,severity:t,timestamp:Date.now(),details:this.config.anonymizeData?this.anonymizeDetails(i):i,origin:window.location.origin,userAgent:this.config.anonymizeData?this.anonymizeUserAgent(navigator.userAgent):navigator.userAgent};this.securityEvents.push(n),fi.trackSecurityEvent(n),this.checkBufferSize()}trackPerformanceMetric(e,t,i="ms"){this.config.enablePerformanceTracking&&(fi.trackPerformanceMetric(e,t,i),this.performanceBuffer.push({name:e,startTime:performance.now(),duration:t}),this.checkBufferSize())}trackUserInteraction(e,t,i={}){if(!this.config.enablePerformanceTracking)return;const n={sessionDuration:Date.now()-this.sessionStart,metadata:this.config.anonymizeData?this.anonymizeDetails(i):i};fi.trackUserInteraction(e,t,n.metadata)}getPerformanceMetrics(){const e=this.requestMetrics.length,t=this.requestMetrics.filter(e=>"success"===e.status).length,i=this.requestMetrics.filter(e=>"error"===e.status).length,n=this.requestMetrics.filter(e=>"rate_limited"===e.status).length,a=this.requestMetrics.filter(e=>"success"===e.status).map(e=>e.duration),s=a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0,o=new Set(this.requestMetrics.map(e=>e.requestId.split("_")[0])).size;return{averageResponseTime:Math.round(s),successRate:e>0?t/e*100:0,errorRate:e>0?i/e*100:0,rateLimitedRate:e>0?n/e*100:0,totalRequests:e,uniqueUsers:1,conversationCount:o}}getSecuritySummary(){const e={low:0,medium:0,high:0,critical:0};this.securityEvents.forEach(t=>{e[t.severity]++});const t=this.securityEvents.filter(e=>Date.now()-e.timestamp<36e5).sort((e,t)=>t.timestamp-e.timestamp).slice(0,10);return{totalEvents:this.securityEvents.length,eventsBySeverity:e,recentEvents:t}}getDiagnosticInfo(){const e=this.requestMetrics.filter(e=>"error"===e.status).sort((e,t)=>t.timestamp-e.timestamp).slice(0,10).map(e=>({timestamp:e.timestamp,errorCode:e.errorCode,requestId:e.requestId}));return{performance:this.getPerformanceMetrics(),security:this.getSecuritySummary(),system:{sessionDuration:Date.now()-this.sessionStart,userAgent:this.config.anonymizeData?this.anonymizeUserAgent(navigator.userAgent):navigator.userAgent,origin:window.location.origin,timestamp:Date.now()},recentErrors:e}}clearData(){this.requestMetrics=[],this.securityEvents=[],this.performanceBuffer=[],this.sessionStart=Date.now()}initializePerformanceObserver(){if(this.config.enablePerformanceTracking&&window.PerformanceObserver)try{new PerformanceObserver(e=>{e.getEntries().forEach(e=>{(e.name.includes("widget")||e.name.includes("chat"))&&this.performanceBuffer.push(e)})}).observe({entryTypes:["measure","navigation","resource"]})}catch(e){void 0}}schedulePeriodicFlush(){setInterval(()=>{this.flushData()},this.config.flushInterval)}checkBufferSize(){this.requestMetrics.length+this.securityEvents.length+this.performanceBuffer.length>=this.config.bufferSize&&this.flushData()}flushData(){const e=Date.now()-18e5;this.requestMetrics=this.requestMetrics.filter(t=>t.timestamp>e),this.securityEvents=this.securityEvents.filter(t=>t.timestamp>e),this.performanceBuffer=this.performanceBuffer.slice(-50)}anonymizeDetails(e){const t={...e};return["userId","email","apiKey","token","password"].forEach(e=>{t[e]&&(t[e]=this.hashString(String(t[e])))}),t.message&&"string"==typeof t.message&&(t.message=t.message.substring(0,50)+"..."),t}anonymizeUserAgent(e){return e.replace(/\d+\.\d+\.\d+/g,"X.X.X").substring(0,100)}hashString(e){let t=0;for(let i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return"hash_"+Math.abs(t).toString(16)}}const Cn=bn.getInstance();class Sn{generateMessageId(){return ai()}generateRequestId(){return ai()}normalizeTextContent(e){return e&&"string"==typeof e?e.replace(/\t/g," ").replace(/[ \f\r\v]+/g," ").replace(/\n\s*\n/g,"\n").replace(/\n /g,"\n").replace(/ \n/g,"\n").trim():""}convertUTCToLocal(e){try{const t=new Date(e);return isNaN(t.getTime())?(void 0,/* @__PURE__ */new Date):t}catch(t){return void 0,/* @__PURE__ */new Date}}async processEnhancedResponse(e,t){const i=[],n=e.id;if(e.text){const t=Array.isArray(e.text)?e.text:[e.text];for(let a=0;a<t.length;a++){const s=t[a];if(!s||"string"!=typeof s||""===s.trim())continue;if(["ScreenAction","StructureAction","Action executed","Screenshot taken","Navigation executed"].includes(s.trim()))continue;const o=this.normalizeTextContent(s);if(!o)continue;const r=0===a?n:"".concat(n,"-").concat(a);i.push({id:r,type:"text",text:o,sender:"bot",timestamp:this.convertUTCToLocal(e.timestamp),status:"delivered"})}}return{messages:i,conversationId:t,actionCall:e.action_call||void 0,processingTime:Date.now()}}convertApiMessagesToMessages(e){if(!Array.isArray(e))return void 0,[];const t=[];for(const n of e)try{if(!n.id||!n.message_text||!n.role){void 0;continue}const e={id:n.id,type:"text",text:this.normalizeTextContent(n.message_text),sender:"assistant"===n.role?"bot":"user",timestamp:this.convertUTCToLocal(n.created_at),status:"delivered"};t.push(e)}catch(i){void 0}return t}createUserMessage(e){const t=this.normalizeTextContent(e);return{id:this.generateMessageId(),type:"text",text:t,sender:"user",timestamp:/* @__PURE__ */new Date,status:"sending"}}createErrorMessage(e){const t=this.normalizeTextContent(e);return{id:this.generateMessageId(),type:"text",text:t,sender:"bot",timestamp:/* @__PURE__ */new Date,status:"delivered"}}getRandomDelay(e,t){return Math.floor(Math.random()*(t-e+1))+e}shouldFilterMessage(e){return["ScreenAction","StructureAction","Action executed","Screenshot taken","Navigation executed"].some(t=>e.trim().includes(t))}extractContentSummary(e,t=50){return e.substring(0,t)+(e.length>t?"...":"")}}let Mn=null;const kn=()=>(Mn||(Mn=new Sn),Mn);class Tn{constructor(e,t){this.maxRetries=3,this.baseRetryDelay=1e3,this.maxDelay=3e4,void 0!==e&&e>0&&(this.maxRetries=e),void 0!==t&&t>0&&(this.baseRetryDelay=t)}calculateRetryDelay(e){if(e<=0)return this.baseRetryDelay;const t=this.baseRetryDelay*Math.pow(2,e-1)*(.5+.5*Math.random());return Math.min(t,this.maxDelay)}async executeWithRetry(e,t){const i=Math.max(1,t.maxRetries||this.maxRetries);let n=null;for(let s=1;s<=i;s++){const o=performance.now();try{const i=await e();return s>1&&Cn.trackRequest({requestId:t.requestId,duration:performance.now()-o,status:"success",retryCount:s}),i}catch(a){n=a instanceof Error?a:new Error(String(a));const e=performance.now()-o;if(!this.shouldRetry(n,s,i)){const i=this.getErrorStatus(n);Cn.trackRequest({requestId:t.requestId,duration:e,status:i,errorCode:this.getErrorCode(n),retryCount:s});break}const r=this.getRetryDelay(n,s);await this.sleep(r)}}throw n||new Error("".concat(t.operationType," failed after ").concat(i," attempts"))}shouldRetry(e,t,i){if(t>=i)return!1;if("AbortError"===e.name)return!1;if(this.isRetryableHttpError(e)){const t=e.response.status;if(429===t)return!0;if(t>=500)return!0;if(t>=400&&t<500)return!1}return!0}getRetryDelay(e,t){if(this.isRetryableHttpError(e)&&429===e.response.status){const t=this.extractRetryAfter(e);if(t)return Math.min(1e3*t,this.maxDelay)}return this.calculateRetryDelay(t)}extractRetryAfter(e){try{const t=e.response.data;if(t&&"object"==typeof t&&"retryAfter"in t){const e=t.retryAfter;if("number"==typeof e&&e>0)return e}}catch(t){}return null}getErrorStatus(e){if("AbortError"===e.name)return"timeout";if(this.isRetryableHttpError(e)){const t=e.response.status;if(429===t)return"rate_limited";if(t>=500)return"server_error";if(t>=400)return"client_error"}return"error"}getErrorCode(e){if("AbortError"===e.name)return"REQUEST_TIMEOUT";const t=e;return t.code?t.code:this.isRetryableHttpError(e)?"HTTP_".concat(e.response.status):e.message.includes("fetch")?"NETWORK_ERROR":"UNKNOWN_ERROR"}createTimeoutWrapper(e,t){return()=>new Promise((i,n)=>{const a=new AbortController,s=setTimeout(()=>{a.abort(),n(new Error("Operation timeout after ".concat(t,"ms")))},t);e(a.signal).then(e=>{clearTimeout(s),i(e)}).catch(e=>{clearTimeout(s),n(e)})})}isRetryableHttpError(e){return e instanceof Error&&"response"in e&&null!==e.response&&"object"==typeof e.response&&"status"in e.response&&"number"==typeof e.response.status}sleep(e){return new Promise(t=>setTimeout(t,e))}updateConfig(e,t){void 0!==e&&e>0&&(this.maxRetries=e),void 0!==t&&t>0&&(this.baseRetryDelay=t)}getConfig(){return{maxRetries:this.maxRetries,baseRetryDelay:this.baseRetryDelay,maxDelay:this.maxDelay}}}let Nn=null;const An=()=>(Nn||(Nn=new Tn),Nn);class En{async fileToBase64(e){return new Promise((t,i)=>{const n=new FileReader;n.onload=()=>{try{const e=n.result,i=this.extractBase64Data(e);t(i)}catch(e){i(new Error("Failed to convert file to base64: ".concat(e)))}},n.onerror=()=>i(new Error("Failed to read file")),n.readAsDataURL(e)})}async fileToImageData(e){return{data:await this.fileToBase64(e),mimeType:this.getMimeTypeFromFile(e),filename:e.name}}async filesToImageDataArray(e){return Promise.all(e.map(e=>this.fileToImageData(e)))}extractBase64Data(e){try{const[,t]=e.split(",");if(!t)throw new Error("Invalid data URL format - no base64 data found");return t}catch(t){throw void 0,new Error("Failed to extract base64 data from data URL")}}extractMimeTypeFromDataUrl(e){try{const t=e.match(/data:([^;]+)/),i=t?t[1]:"image/png";return i.startsWith("image/")?i:(void 0,"image/png")}catch(t){return void 0,"image/png"}}getExtensionFromMimeType(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/png":"png","image/gif":"gif","image/webp":"webp","image/bmp":"bmp","image/svg+xml":"svg"}[e]||"png"}getMimeTypeFromFile(e){return e.type&&e.type.startsWith("image/")?e.type:{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",svg:"image/svg+xml"}[this.getFileExtension(e.name)]||"image/jpeg"}getFileExtension(e){var t;const i=(null==(t=e.split(".").pop())?void 0:t.toLowerCase())||"";return{jpeg:"jpg",jpg:"jpg",png:"png",gif:"gif",webp:"webp",bmp:"bmp",svg:"svg"}[i]||i||"jpg"}generateScreenshotFilename(e="png"){const t=/* @__PURE__ */(new Date).toISOString().replace(/[:.]/g,"-");return"screenshot-".concat(t,".").concat(e)}validateImageFile(e){return e.type.startsWith("image/")?["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?e.size>10485760?{isValid:!1,error:"Image size must be less than 10MB"}:{isValid:!0}:{isValid:!1,error:"Unsupported image format"}:{isValid:!1,error:"File must be an image"}}validateImageFiles(e){const t=[];for(let i=0;i<e.length;i++){const n=this.validateImageFile(e[i]);n.isValid||t.push("File ".concat(i+1,": ").concat(n.error))}return{isValid:0===t.length,errors:t}}}let _n=null;const In=()=>(_n||(_n=new En),_n);class xn{constructor(){this.activeControllers=/* @__PURE__ */new Set,this.isDestroyed=!1,this.updateConfig()}async sendMessage(e,t){if(this.isDestroyed)throw new Error("MessageService has been destroyed");if(!((null==e?void 0:e.trim())||t&&0!==t.length)){const e=new Error("Either message text or images are required");throw e.code="VALIDATION_ERROR",e}if(null==e?void 0:e.trim()){const t=oi.validateMessage(e);if(!t.isValid){Cn.trackSecurityEvent("message_validation_failed","medium",{error:t.error,messageLength:e.length,origin:window.location.origin});const i=new Error(t.error);throw i.code="VALIDATION_ERROR",i}e=t.sanitizedInput}const i=yn.checkRequest();if(!i.allowed){const e=new Error("Rate limit exceeded");throw e.code="RATE_LIMIT_EXCEEDED",e.retryAfter=i.retryAfter,e}return t&&t.length>0?await this.sendMessageWithImages(e||"",t):await this.sendWithRetry(e||"")}async sendWithRetry(e){const t=kn(),i=An(),n=t.generateRequestId();this.trackUserBehaviorSafely();const a=i.createTimeoutWrapper(t=>this.executeMessageRequest(e,t),25e3);return await i.executeWithRetry(a,{requestId:n,operationType:"Send Message"})}async executeMessageRequest(e,t){if(this.isDestroyed)throw new Error("Service is destroyed");const i=new AbortController;this.activeControllers.add(i);const n=this.createCombinedController([t,i.signal]);try{const t=Vi(),i=Oi(),a=await zi(),s={message:e,userId:Di(),conversationId:t,timestamp:/* @__PURE__ */(new Date).toISOString(),deviceData:i,userBehaviour:a},o=await fetch(this.webhookUrl,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(s),signal:n.signal});if(!o.ok){const e=await o.json().catch(()=>({})),t=new Error(e.error||"HTTP ".concat(o.status));throw t.response={status:o.status,data:e},t}const r=await o.json(),c=kn();return await c.processEnhancedResponse(r,t)}finally{this.cleanupController(i)}}async sendMessageWithImages(e,t){const i=kn(),n=An(),a=i.generateRequestId();this.trackUserBehaviorSafely();const s=n.createTimeoutWrapper(i=>this.executeImageMessageRequest(e,t,i),3e4);return await n.executeWithRetry(s,{requestId:a,operationType:"Send Message with Images"})}async executeImageMessageRequest(e,t,i){if(this.isDestroyed)throw new Error("Service is destroyed");const n=new AbortController;this.activeControllers.add(n);const a=this.createCombinedController([i,n.signal]);try{const i=Vi(),n=Oi(),s=await zi(),o=In(),r=await o.filesToImageDataArray(t),c={message:e||void 0,userId:Di(),conversationId:i,timestamp:/* @__PURE__ */(new Date).toISOString(),deviceData:n,userBehaviour:s,images:r},l=await fetch(this.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":this.headers["X-API-Key"]},body:JSON.stringify(c),signal:a.signal});if(!l.ok){const e=await l.json().catch(()=>({})),t=new Error(e.error||"HTTP ".concat(l.status));throw t.response={status:l.status,data:e},t}const d=await l.json(),u=kn();return await u.processEnhancedResponse(d,i)}finally{this.cleanupController(n)}}createCombinedController(e){const t=new AbortController,i=()=>{t.signal.aborted||t.abort()};return e.forEach(e=>{e.aborted?t.abort():e.addEventListener("abort",i,{once:!0})}),t}cleanupController(e){this.activeControllers.delete(e),e.signal.aborted||e.abort()}trackUserBehaviorSafely(){Promise.resolve().then(()=>rn).then(({userBehaviorService:e})=>{e.trackMessageSent()}).catch(()=>{})}createUserMessage(e){const t=oi.sanitizeInput(e),i=kn(),n=i.normalizeTextContent(t);return{id:i.generateMessageId(),type:"text",text:n,sender:"user",timestamp:/* @__PURE__ */new Date,status:"sending"}}createErrorMessage(e){const t=kn(),i=t.normalizeTextContent(e);return{id:t.generateMessageId(),type:"text",text:i,sender:"bot",timestamp:/* @__PURE__ */new Date,status:"delivered"}}updateConfig(){var e;const t=gi.get(),i=(null==(e=t.api)?void 0:e.baseUrl)||"https://api.isales.ai";this.webhookUrl="".concat(i,"/widget"),this.headers={...oi.getSecureHeaders(),"X-API-Key":t.apiKey}}cancelPendingRequests(){this.activeControllers.forEach(e=>{e.signal.aborted||e.abort()}),this.activeControllers.clear()}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.cancelPendingRequests())}getWebhookUrl(){return this.webhookUrl}getHeaders(){return{...this.headers}}isServiceDestroyed(){return this.isDestroyed}}let Rn=null;const Dn=()=>(Rn||(Rn=new xn),Rn),Un=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,MessageService:xn,getMessageService:Dn},Symbol.toStringTag,{value:"Module"}));class Pn{constructor(e,t){this.isInitializing=!1,this.initializationPromise=null,this.webhookUrl=e,this.headers=t}async getMessagesQueue(e,t=5){if(!e)throw new Error("Conversation ID is required");const i=Math.min(Math.max(1,t),10),n=kn(),a=n.generateRequestId(),s=performance.now();try{const t="".concat(this.webhookUrl,"/get_messages_queue?conversation_id=").concat(encodeURIComponent(e),"&limit=").concat(i),o=await fetch(t,{method:"GET",headers:this.headers}),r=performance.now()-s;if(!o.ok){const e=await o.json().catch(()=>({}));Cn.trackRequest({requestId:a,duration:r,status:429===o.status?"rate_limited":"error",errorCode:e.detail||"HTTP_".concat(o.status),messageLength:0,retryCount:1});const t=new Error(e.detail||"HTTP ".concat(o.status));throw t.response={status:o.status,data:e},t}const c=await o.json();return Cn.trackRequest({requestId:a,duration:r,status:"success",messageLength:0,retryCount:1}),n.convertApiMessagesToMessages(c)}catch(o){throw o}}async updateMessageStatus(e){if(!e)throw new Error("Message ID is required");const t=kn().generateRequestId(),i=performance.now();try{const n="".concat(this.webhookUrl,"/messages_status_update?widget_message_id=").concat(encodeURIComponent(e)),a=await fetch(n,{method:"POST",headers:this.headers}),s=performance.now()-i;if(!a.ok){const e=await a.json().catch(()=>({}));Cn.trackRequest({requestId:t,duration:s,status:429===a.status?"rate_limited":"error",errorCode:e.detail||"HTTP_".concat(a.status),messageLength:0,retryCount:1});const i=new Error(e.detail||"HTTP ".concat(a.status));throw i.response={status:a.status,data:e},i}const o=await a.json();return Cn.trackRequest({requestId:t,duration:s,status:"success",messageLength:0,retryCount:1}),o}catch(n){throw n}}async confirmMessageDelivery(e){if(!e)return;let t=null;for(let n=1;n<=3;n++)try{return(await this.updateMessageStatus(e)).changed,0,void 0}catch(i){if(t=i instanceof Error?i:new Error(String(i)),t.message.includes("429"))await this.sleep(2e3*n);else{if(t.message.includes("404"))return;n<3&&await this.sleep(500*n)}}}async initializeUndeliveredMessages(e){if(this.isInitializing)return this.initializationPromise||Promise.resolve();if(e){this.isInitializing=!0,this.initializationPromise=this.performInitialization(e);try{await this.initializationPromise}finally{this.isInitializing=!1,this.initializationPromise=null}}}async performInitialization(e){try{0;const t=await this.getMessagesQueue(e,10);t.length>0&&(0,await this.processUndeliveredMessages(t))}catch(t){t instanceof Error&&(t.message.includes("429")||t.message.includes("404"))}}async processUndeliveredMessages(e,t){if(e&&0!==e.length)for(let n=0;n<e.length;n++){const a=e[n];if(null==a?void 0:a.id)try{0,n>0&&await this.sleep(800),t&&await t(a),await this.confirmMessageDelivery(a.id)}catch(i){}}}async processMessageQueue(e,t){if(e&&0!==e.length)try{for(let i=0;i<e.length;i++){const n=e[i];if(!(null==n?void 0:n.id)){0;continue}0;const a=kn(),s=0===i?1e3:a.getRandomDelay(2e3,4e3);await this.sleep(s),t&&await t(n),await this.confirmMessageDelivery(n.id),i<e.length-1&&await this.sleep(500)}0}catch(i){throw i}}sleep(e){return new Promise(t=>setTimeout(t,e))}isCurrentlyInitializing(){return this.isInitializing}updateConfig(e,t){e&&(this.webhookUrl=e),t&&(this.headers=t)}}let On=null;const zn=(e,t)=>{if(!On){if(!e||!t)throw new Error("MessageQueueService requires webhookUrl and headers for initialization");On=new Pn(e,t)}return On},Ln=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,MessageQueueService:Pn,getMessageQueueService:zn},Symbol.toStringTag,{value:"Module"})),Vn=e=>{const t=e.toLowerCase();return t.includes("calendly.com")?"calendly":t.includes("cal.com")?"calcom":t.includes("calendar.google.com")||t.includes("calendar.app.google")?"google":"generic"},jn=e=>{switch(Vn(e)){case"calendly":return Bn(e);case"calcom":return Wn(e);case"google":return Hn(e);default:return{service:"generic",embedUrl:e,originalUrl:e}}},Bn=e=>({service:"calendly",embedUrl:e,originalUrl:e,config:{minWidth:"100%",height:"100%"}}),Wn=e=>{const t=new URL(e).pathname.substring(1),i=t.split("/");return{service:"calcom",embedUrl:e,originalUrl:e,config:{calLink:t,namespace:i[i.length-1],layout:"week_view",hideEventTypeDetails:!1}}},Hn=e=>{let t=e;return e.includes("calendar.app.google")&&(t=e.replace("calendar.app.google","calendar.google.com/calendar/appointments/schedules"),t+="?gv=true"),{service:"google",embedUrl:t,originalUrl:e,config:{border:0,width:"100%",height:"600px",frameborder:0}}},Fn=e=>{const t=e.trim();if(!t)throw new Error("Empty calendar configuration provided");if((e=>{const t=e.trim();return t.includes("<")&&(t.includes("iframe")||t.includes("embed")||t.includes("div"))})(t)){const e=t.toLowerCase();if(e.includes("calendly.com")){const e=(e=>{const t=e.match(/data-url="([^"]+)"/i);if(t)return t[1];const i=e.match(/src="([^"]*calendly\.com[^"]+)"/i);return i?i[1]:null})(t);if(e)return{service:"calendly",embedUrl:e,originalUrl:e,embeddingCode:t,config:{minWidth:"100%",height:"100%"}};throw new Error("Could not extract Calendly URL from HTML embedding code")}if(e.includes("cal.com")){const e=t.match(/src="([^"]*cal\.com[^"]+)"/i)||t.match(/data-cal-link="([^"]+)"/i);if(e){const i=e[1].startsWith("http")?e[1]:"https://cal.com/".concat(e[1]);return{service:"calcom",embedUrl:i,originalUrl:i,embeddingCode:t,config:{calLink:e[1],namespace:e[1].split("/").pop()||"default",layout:"week_view",hideEventTypeDetails:!1}}}}return e.includes("calendar.google.com")||e.includes("calendar.app.google")?{service:"google",embedUrl:"",originalUrl:"",embeddingCode:t,config:{border:0,width:"100%",height:"100%",frameborder:0}}:{service:"generic",embedUrl:"",originalUrl:"",embeddingCode:t,config:{width:"100%",height:"100%",border:0,frameborder:0}}}if((e=>{const t=e.trim();if(t.includes("<")||t.includes(">"))return!1;try{return new URL(t),!0}catch(i){return!1}})(t))return jn(t);try{const e=t.startsWith("http")?t:"https://".concat(t);return jn(e)}catch(i){throw new Error("Invalid calendar configuration: must be a valid URL or HTML embedding code")}},qn=class{static async loadScript(e,t){if(this.loadedScripts.has(e))return Promise.resolve();if(this.loadingScripts.has(e))return this.loadingScripts.get(e);const i=new Promise((i,n)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.defer=!0,t&&(a.id=t),a.onload=()=>{this.loadedScripts.add(e),this.loadingScripts.delete(e),i()},a.onerror=()=>{this.loadingScripts.delete(e),n(new Error("Failed to load script: ".concat(e)))},document.head.appendChild(a)});return this.loadingScripts.set(e,i),i}static isLoaded(e){return this.loadedScripts.has(e)}static reset(){this.loadedScripts.clear(),this.loadingScripts.clear()}};qn.loadedScripts=/* @__PURE__ */new Set,qn.loadingScripts=/* @__PURE__ */new Map;let Kn=qn;const Zn=class{static isElementDefined(e){return void 0!==customElements.get(e)}static safeDefine(e,t){if(this.isElementDefined(e))return!1;try{return customElements.define(e,t),this.registeredElements.add(e),!0}catch(i){return!1}}static isCalcomDefined(){return["cal-modal-box","cal-embed","cal-floating-popup","cal-inline"].some(e=>this.isElementDefined(e))}static getRegisteredElements(){return Array.from(this.registeredElements)}static reset(){this.registeredElements.clear()}};Zn.registeredElements=/* @__PURE__ */new Set;let Gn=Zn;const Jn=class{static initialize(){this.isInitialized||(this.originalConsoleError=console.error,this.originalConsoleWarn=console.warn,console.error=(...e)=>{this.shouldSuppressError(e)||this.originalConsoleError.apply(console,e)},console.warn=(...e)=>{this.shouldSuppressWarning(e)||this.originalConsoleWarn.apply(console,e)},this.isInitialized=!0)}static restore(){this.isInitialized&&(console.error=this.originalConsoleError,console.warn=this.originalConsoleWarn,this.isInitialized=!1)}static shouldSuppressError(e){const t=e.join(" ").toLowerCase();return!!(t.includes("customelementregistry")&&t.includes("already been used")||t.includes("cal-modal-box")&&t.includes("already been used")||t.includes("failed to execute 'define'")&&t.includes("customelementregistry")||t.includes("viewer.slots.getschedule")||t.includes("client_fetch_error")||t.includes("api/auth/session")||t.includes("next-auth")||t.includes("cal.com")&&t.includes("fetch")||t.includes("calendly")&&t.includes("fetch")||t.includes("content security policy")||t.includes("violates the following content security policy")||t.includes("because it violates csp")||t.includes("sentry.io")||t.includes("ingest.sentry.io")||t.includes("exports is not defined")||t.includes("module is not defined"))}static shouldSuppressWarning(e){const t=e.join(" ").toLowerCase();return!(!t.includes("failed to fetch")||!t.includes("session"))||!!t.includes("authentication")}};Jn.isInitialized=!1;let Qn=Jn;const Xn=async e=>{Qn.initialize();try{switch(e){case"calendly":case"google":case"generic":default:break;case"calcom":if(Gn.isCalcomDefined()||window.Cal)break;if(await Kn.loadScript("https://cdn.jsdelivr.net/npm/@calcom/embed-react@1.5/dist/Cal.umd.min.js","calcom-embed-script"),window.Cal){const e=window.Cal;window.Cal=function(t,i){try{return e(t,i)}catch(n){const e=n instanceof Error?n.message:String(n);return e.includes("CustomElementRegistry")||e.includes("already been used")||fi.captureException(n instanceof Error?n:new Error(String(n)),{tags:{calendar_service:"calcom",error_type:"api_call_failed"},contexts:{calcom_config:{config:t,data:i}}}),void 0}},e.getCalApi&&(window.Cal.getCalApi=e.getCalApi),e.default&&(window.Cal.default=e.default)}}}catch(t){fi.captureException(t instanceof Error?t:new Error(String(t)),{tags:{calendar_service:e,error_type:"script_loading_failed"},contexts:{calendar_loading:{service:e,timestamp:Date.now()}}})}},Yn=()=>{try{if(Qn.restore(),Kn.reset(),Gn.reset(),window.Cal)try{"function"==typeof window.Cal.destroy&&window.Cal.destroy(),document.querySelectorAll("[data-cal-namespace], [data-cal-link], cal-modal-box").forEach(e=>{try{e.parentNode&&e.parentNode.removeChild(e)}catch(t){fi.addBreadcrumb({category:"calendar",message:"Failed to clean up Cal.com modal",level:"warning",data:{modal:e.tagName,error:t instanceof Error?t.message:String(t)}})}})}catch(e){fi.addBreadcrumb({category:"calendar",message:"Cal.com cleanup failed",level:"warning",data:{error:e instanceof Error?e.message:String(e),timestamp:Date.now()}})}try{document.querySelectorAll(".calendly-inline-widget, .calendly-badge-widget").forEach(e=>{try{e.parentNode&&e.parentNode.removeChild(e)}catch(t){}})}catch(t){}}catch(t){}},$n=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,cleanupCalendarServices:Yn,detectScheduleService:Vn,loadScheduleScripts:Xn,parseCalendarEmbeddingCodeOrUrl:Fn,parseScheduleUrl:jn},Symbol.toStringTag,{value:"Module"})),ea=class e{constructor(){this.state="idle",this.strategy="optimized-on-demand",this.hiddenIframe=null,this.scheduleData=null,this.abortController=null,this.chatStartTime=null,this.predictiveTriggers={chatDuration:0,scrolledToBottom:!1,scheduleKeywordMentioned:!1},this.preloadTimeoutId=null,this.predictiveCheckInterval=null,this.isDestroyed=!1,this.deviceCapabilities=this.detectDeviceCapabilities(),this.strategy=this.determineStrategy(),fi.addBreadcrumb({category:"preload",message:"PreloadManager initialized",level:"info",data:{strategy:this.strategy,deviceMemory:this.deviceCapabilities.memory,isIOS:this.deviceCapabilities.isIOS}})}static getInstance(){return e.instance||(e.instance=new e),e.instance}static resetInstance(){e.instance&&(e.instance.cleanup(),e.instance=null)}detectDeviceCapabilities(){const e=navigator.userAgent.toLowerCase(),t=/iphone|ipad|ipod/.test(e),i=/android/.test(e),n=t||i||/mobile/.test(e),a=navigator.deviceMemory||4,s=navigator.connection;return{memory:a,isIOS:t,isAndroid:i,isMobile:n,dataSaverEnabled:(null==s?void 0:s.saveData)||!1,connectionType:(null==s?void 0:s.effectiveType)||"unknown"}}determineStrategy(){const{memory:e,isIOS:t,dataSaverEnabled:i}=this.deviceCapabilities;return t||i?"optimized-on-demand":e>=8?"full-preload":e>=4?"predictive-preload":"optimized-on-demand"}shouldCreateHiddenIframe(){const{isIOS:e,dataSaverEnabled:t,memory:i}=this.deviceCapabilities;return!(e||t||i<4||"full-preload"!==this.strategy)}async startPreload(e){var t;if(this.isDestroyed)return void 0,void 0;if("idle"!==this.state)return void 0,void 0;const{calendarEmbeddingCode:i,forceStrategy:n,enablePredictiveTriggers:a=!0}=e;if(!i)return void 0,void 0;n&&(this.strategy=n),this.state="preloading";try{this.scheduleData=Fn(i),fi.addBreadcrumb({category:"preload",message:"Starting preload",level:"info",data:{strategy:this.strategy,service:this.scheduleData.service}}),await this.prefetchScripts(),this.shouldCreateHiddenIframe()?(await this.createHiddenIframe(),this.state="ready"):"predictive-preload"===this.strategy&&a?(this.setupPredictiveTriggers(),this.state="ready"):this.state="ready",fi.addBreadcrumb({category:"preload",message:"Preload completed successfully",level:"info",data:{strategy:this.strategy,hiddenIframeCreated:!!this.hiddenIframe}})}catch(s){this.state="error",fi.captureException(s instanceof Error?s:new Error(String(s)),{tags:{preload_strategy:this.strategy,error_type:"preload_failed"},contexts:{preload:{service:(null==(t=this.scheduleData)?void 0:t.service)||"unknown",state:this.state}}})}}async prefetchScripts(){if(this.scheduleData)try{await Xn(this.scheduleData.service),fi.addBreadcrumb({category:"preload",message:"Scripts prefetched",level:"info",data:{service:this.scheduleData.service}})}catch(e){void 0}}async createHiddenIframe(){if(this.scheduleData&&!this.hiddenIframe)return this.abortController=new AbortController,new Promise((e,t)=>{var i;const n=document.createElement("iframe"),a=setTimeout(()=>{void 0,e()},3e3);return n.style.cssText="\n        position: fixed !important;\n        top: -9999px !important;\n        left: -9999px !important;\n        width: 1px !important;\n        height: 1px !important;\n        visibility: hidden !important;\n        pointer-events: none !important;\n        z-index: -9999 !important;\n        border: none !important;\n        opacity: 0 !important;\n      ",n.setAttribute("aria-hidden","true"),n.setAttribute("tabindex","-1"),n.setAttribute("data-preload-iframe","true"),this.abortController&&this.abortController.signal.addEventListener("abort",()=>{clearTimeout(a),n.parentNode&&(n.src="about:blank",n.parentNode.removeChild(n)),this.hiddenIframe=null,t(new Error("Preload aborted"))}),n.onload=()=>{clearTimeout(a),fi.addBreadcrumb({category:"preload",message:"Hidden iframe loaded",level:"info"}),e()},n.onerror=()=>{clearTimeout(a),e()},this.scheduleData?this.scheduleData.embeddingCode?(clearTimeout(a),e(),void 0):(this.scheduleData.embedUrl&&(n.src=this.scheduleData.embedUrl),document.body.appendChild(n),this.hiddenIframe=n,fi.addBreadcrumb({category:"preload",message:"Hidden iframe created",level:"info",data:{service:(null==(i=this.scheduleData)?void 0:i.service)||"unknown"}}),void 0):(clearTimeout(a),e(),void 0)})}setupPredictiveTriggers(){this.chatStartTime=Date.now(),this.predictiveCheckInterval=setInterval(()=>{if(this.isDestroyed)return this.predictiveCheckInterval&&(clearInterval(this.predictiveCheckInterval),this.predictiveCheckInterval=null),void 0;this.updatePredictiveTriggers(),this.shouldTriggerPredictivePreload()&&(this.predictiveCheckInterval&&(clearInterval(this.predictiveCheckInterval),this.predictiveCheckInterval=null),this.createHiddenIframe().catch(()=>{void 0}))},2e3)}updatePredictiveTriggers(){this.chatStartTime&&(this.predictiveTriggers.chatDuration=Date.now()-this.chatStartTime);const e=document.querySelector(".isw-messages-container");if(e){const t=e.scrollHeight-e.scrollTop<=e.clientHeight+50;this.predictiveTriggers.scrolledToBottom=t}const t=document.querySelectorAll(".isw-message-content"),i=Array.from(t).slice(-5),n=["schedule","booking","appointment","meet","calendar"];this.predictiveTriggers.scheduleKeywordMentioned=i.some(e=>{var t;const i=(null==(t=e.textContent)?void 0:t.toLowerCase())||"";return n.some(e=>i.includes(e))})}shouldTriggerPredictivePreload(){const{chatDuration:e,scrolledToBottom:t,scheduleKeywordMentioned:i}=this.predictiveTriggers;return e>1e4||!!t||!!i}getPreloadedIframe(){return this.hiddenIframe}getState(){return this.state}getStrategy(){return this.strategy}getScheduleData(){return this.scheduleData}onViewChange(e){"schedule"!==e&&this.abortController&&"preloading"===this.state&&(fi.addBreadcrumb({category:"preload",message:"Aborting preload due to view change",level:"info",data:{newView:e}}),this.abortController.abort(),this.abortController=null)}cleanup(){if(!this.isDestroyed){if(fi.addBreadcrumb({category:"preload",message:"Cleaning up PreloadManager",level:"info"}),this.preloadTimeoutId&&(clearTimeout(this.preloadTimeoutId),this.preloadTimeoutId=null),this.predictiveCheckInterval&&(clearInterval(this.predictiveCheckInterval),this.predictiveCheckInterval=null),this.abortController&&(this.abortController.abort(),this.abortController=null),this.hiddenIframe){try{this.hiddenIframe.parentNode&&(this.hiddenIframe.src="about:blank",this.hiddenIframe.parentNode.removeChild(this.hiddenIframe))}catch(e){void 0}this.hiddenIframe=null}this.state="idle",this.scheduleData=null,this.chatStartTime=null,this.predictiveTriggers={chatDuration:0,scrolledToBottom:!1,scheduleKeywordMentioned:!1},this.isDestroyed=!0}}getDeviceCapabilities(){return{...this.deviceCapabilities}}};ea.instance=null;let ta=ea;const ia=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,PreloadManager:ta,getPreloadManager:()=>ta.getInstance()},Symbol.toStringTag,{value:"Module"})),na=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,debugGAConfig:function(e){const t=[],i=[],n=[],a={isHttps:"https:"===window.location.protocol,domain:window.location.hostname,userAgent:navigator.userAgent,cookiesEnabled:navigator.cookieEnabled,localStorageEnabled:(()=>{try{const e="__ga_test__";return localStorage.setItem(e,"test"),localStorage.removeItem(e),!0}catch(e){return!1}})()};return e.measurementId?Ae(e.measurementId)||t.push("Invalid measurement ID format. Must be G-XXXXXXXXXX"):t.push("Measurement ID is required"),e.gtmContainerId&&!Ee(e.gtmContainerId)&&t.push("Invalid GTM Container ID format. Must be GTM-XXXXXXX"),a.isHttps||(i.push("Site is not using HTTPS. This may affect cookie settings and tracking reliability"),n.push("Use HTTPS for better GA4 tracking and privacy compliance")),a.cookiesEnabled||(i.push("Cookies are disabled. This will affect user tracking and attribution"),n.push("Enable cookies or implement alternative tracking methods")),a.localStorageEnabled||i.push("Local storage is disabled. This may affect some tracking features"),e.debugMode&&n.push("Debug mode is enabled. Disable in production for better performance"),e.cookiePrefix&&"isw_"!==e.cookiePrefix||n.push("Consider using a unique cookie prefix to avoid conflicts with other widgets"),e.gtmContainerId?n.push("Using GTM Container. Make sure your measurement ID is properly configured in GTM"):n.push("Using direct GA4 implementation. Consider GTM for more complex tracking needs"),{isValid:0===t.length,errors:t,warnings:i,recommendations:n,config:e,environment:a}},validateGTMContainerID:Ee,validateMeasurementId:Ae},Symbol.toStringTag,{value:"Module"}));class aa{constructor(){this.loadedScripts=/* @__PURE__ */new Set,this.securityManager=si.getInstance()}async captureElement(e,t={}){try{const i=this.securityManager.sanitizeInput(e);if(!i)throw new Error("Invalid selector provided");const n=this.enhanceSelector(i),a=document.querySelector(n);if(!a)return void 0,this.captureViewport(t);const s=await _e();return s?this.captureWithHtml2Canvas(a,t,s):this.captureWithCanvas(a,t)}catch(i){throw new Error("Screenshot failed: ".concat(i instanceof Error?i.message:"Unknown error"))}}async captureViewport(e={}){try{const t=await _e();return t?this.captureViewportWithHtml2Canvas(e,t):this.captureViewportWithCanvas(e)}catch(t){throw new Error("Viewport capture failed: ".concat(t instanceof Error?t.message:"Unknown error"))}}async captureWithHtml2Canvas(e,t,i){const n=await i(e,{backgroundColor:t.backgroundColor,scale:t.scale||1,width:t.width,height:t.height,useCORS:!0,allowTaint:!1,logging:!1});return this.canvasToResult(n,t)}async captureWithCanvas(e,t){const i=await _e();if(i)return this.captureWithHtml2Canvas(e,t,i);try{return await this.captureWithSVG(e,t)}catch(n){const i=document.createElement("canvas"),a=i.getContext("2d");if(!a)throw new Error("Canvas context not available");const s=e.getBoundingClientRect(),o=t.scale||1;i.width=(t.width||s.width)*o,i.height=(t.height||s.height)*o;const r=t.backgroundColor||"#ffffff";return a.fillStyle=r,a.fillRect(0,0,i.width,i.height),a.fillStyle="#333333",a.font="".concat(16*o,"px Arial"),a.textAlign="center",a.fillText("Screenshot Capture",i.width/2,i.height/2-20*o),a.fillStyle="#666666",a.font="".concat(12*o,"px Arial"),a.fillText("Element: ".concat(e.tagName," (").concat(Math.round(s.width),"x").concat(Math.round(s.height),")"),i.width/2,i.height/2+10*o),a.fillText("Install html2canvas for full DOM capture",i.width/2,i.height/2+30*o),this.canvasToResult(i,t)}}async loadHtml2CanvasFromCDN(){const e="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js";if(this.loadedScripts.has(e))return window.html2canvas||null;try{const t=document.createElement("script");return t.src=e,t.async=!0,new Promise(i=>{let n;const a=()=>{void 0!==n&&(clearTimeout(n),n=void 0),t.parentNode&&t.parentNode.removeChild(t)};t.onload=()=>{this.loadedScripts.add(e),a(),i(window.html2canvas||null)},t.onerror=()=>{a(),i(null)},n=window.setTimeout(()=>{a(),i(null)},5e3),document.head.appendChild(t)})}catch(t){return null}}async captureWithSVG(e,t){const i=await this.loadHtml2CanvasFromCDN();if(i)try{return await this.captureWithHtml2Canvas(e,t,i)}catch(S){}const n=e.getBoundingClientRect(),a=t.scale||1,s=t.width||n.width,o=t.height||n.height,r=document.createElement("canvas"),c=r.getContext("2d");if(!c)throw new Error("Canvas context not available");r.width=s*a,r.height=o*a;const l=document.title||"Untitled Page",d=window.location.href,u=e.textContent||"",h=t.backgroundColor||"#ffffff";c.fillStyle=h,c.fillRect(0,0,r.width,r.height),c.strokeStyle="#e5e7eb",c.lineWidth=2,c.strokeRect(0,0,r.width,r.height),c.fillStyle="#1f2937",c.font="bold ".concat(20*a,"px system-ui, -apple-system, sans-serif"),c.textAlign="center";const m=60*a;c.fillText("ðŸ“„ Website Screenshot",r.width/2,m),c.fillStyle="#374151",c.font="".concat(16*a,"px system-ui, -apple-system, sans-serif");const g=m+40*a;this.wrapText(c,l,r.width/2,g,r.width-40*a,20*a),c.fillStyle="#6b7280",c.font="".concat(12*a,"px 'Courier New', monospace");const w=g+50*a;this.wrapText(c,d,r.width/2,w,r.width-40*a,16*a),c.fillStyle="#059669",c.font="".concat(14*a,"px system-ui, -apple-system, sans-serif");const p=w+50*a;c.fillText("ðŸ“ Element: ".concat(e.tagName," (").concat(Math.round(n.width),"Ã—").concat(Math.round(n.height),"px)"),r.width/2,p);const f=p+40*a,v=20*a,y=r.width-2*v,b=Math.min(200*a,r.height-f-40*a);c.fillStyle="#f8fafc",c.fillRect(v,f,y,b),c.strokeStyle="#e2e8f0",c.lineWidth=1,c.strokeRect(v,f,y,b),c.fillStyle="#1f2937",c.font="".concat(11*a,"px system-ui, -apple-system, sans-serif"),c.textAlign="left";const C=u.substring(0,800).replace(/\s+/g," ").trim();return C?this.wrapTextMultiline(c,C,v+10*a,f+20*a,y-20*a,14*a,Math.floor(b/(14*a))-2):(c.fillStyle="#9ca3af",c.textAlign="center",c.fillText("No text content found in this element",r.width/2,f+b/2)),c.fillStyle="#6b7280",c.font="".concat(10*a,"px system-ui, -apple-system, sans-serif"),c.textAlign="center",c.fillText("Captured at ".concat(/* @__PURE__ */(new Date).toLocaleString()),r.width/2,r.height-20*a),this.canvasToResult(r,t)}wrapText(e,t,i,n,a,s){if(!t||0===t.length)return;const o=t.split(" ");let r="";for(let c=0;c<o.length;c++){const t=r+o[c]+" ";e.measureText(t).width>a&&c>0?(e.fillText(r,i,n),r=o[c]+" ",n+=s):r=t}e.fillText(r,i,n)}async captureViewportWithHtml2Canvas(e,t){const i=window.innerWidth,n=window.innerHeight,a=await t(document.body,{backgroundColor:e.backgroundColor,scale:e.scale||1,width:i,height:n,x:window.pageXOffset||window.scrollX||0,y:window.pageYOffset||window.scrollY||0,useCORS:!0,allowTaint:!1,logging:!1});return this.canvasToResult(a,e)}async captureViewportWithCanvas(e){const t=await this.loadHtml2CanvasFromCDN();if(t)try{return await this.captureViewportWithHtml2Canvas(e,t)}catch(y){}const i=window.innerWidth,n=window.innerHeight,a=e.scale||1,s=document.createElement("canvas"),o=s.getContext("2d");if(!o)throw new Error("Canvas context not available");s.width=i*a,s.height=n*a;const r=e.backgroundColor||"#ffffff";o.fillStyle=r,o.fillRect(0,0,s.width,s.height),o.fillStyle="#1f2937",o.font="bold ".concat(24*a,"px system-ui, -apple-system, sans-serif"),o.textAlign="center";const c=80*a;o.fillText("ðŸ–¼ï¸ Viewport Screenshot",s.width/2,c),o.fillStyle="#374151",o.font="".concat(16*a,"px system-ui, -apple-system, sans-serif");const l=c+50*a;o.fillText("Viewport: ".concat(i," Ã— ").concat(n," pixels"),s.width/2,l),o.fillStyle="#6b7280",o.font="".concat(14*a,"px system-ui, -apple-system, sans-serif");const d=l+30*a;this.wrapText(o,document.title||"Untitled Page",s.width/2,d,s.width-40*a,18*a),o.fillStyle="#9ca3af",o.font="".concat(12*a,"px 'Courier New', monospace");const u=d+40*a;this.wrapText(o,window.location.href,s.width/2,u,s.width-40*a,16*a);const h=window.pageXOffset||window.scrollX||0,m=window.pageYOffset||window.scrollY||0;o.fillStyle="#059669",o.font="".concat(14*a,"px system-ui, -apple-system, sans-serif");const g=u+50*a;o.fillText("ðŸ“ Scroll Position: ".concat(Math.round(h),", ").concat(Math.round(m)),s.width/2,g);const w=g+40*a,p=Math.min(300*a,s.width-80*a),f=Math.min(200*a,s.height-w-60*a),v=(s.width-p)/2;return o.fillStyle="#f0f9ff",o.fillRect(v,w,p,f),o.strokeStyle="#0ea5e9",o.lineWidth=2*a,o.strokeRect(v,w,p,f),o.fillStyle="#0c4a6e",o.font="".concat(12*a,"px system-ui, -apple-system, sans-serif"),o.fillText("Current Viewport Area",s.width/2,w+f/2),o.fillStyle="#6b7280",o.font="".concat(10*a,"px system-ui, -apple-system, sans-serif"),o.fillText("Captured at ".concat(/* @__PURE__ */(new Date).toLocaleString()),s.width/2,s.height-20*a),this.canvasToResult(s,e)}wrapTextMultiline(e,t,i,n,a,s,o){if(!t||0===t.length||o<=0)return;const r=t.split(" ");let c="",l=0;for(let d=0;d<r.length&&l<o;d++){const t=c+r[d]+" ";e.measureText(t).width>a&&d>0?(e.fillText(c,i,n),c=r[d]+" ",n+=s,l++):c=t}l<o&&c.trim()&&e.fillText(c,i,n)}canvasToResult(e,t){const i="jpeg"===t.format?"image/jpeg":"image/png",n=void 0!==t.quality?Math.max(0,Math.min(1,t.quality)):void 0;try{const t=e.toDataURL(i,n);return new Promise((a,s)=>{e.toBlob(i=>{if(!i)return s(new Error("Failed to create blob from canvas")),void 0;a({dataUrl:t,blob:i,width:e.width,height:e.height,timestamp:Date.now()})},i,n)})}catch(a){return Promise.reject(new Error("Failed to convert canvas to result: ".concat(a instanceof Error?a.message:"Unknown error")))}}enhanceSelector(e){return{header:'header, .header, nav, .navbar, .header-container, [role="banner"]',footer:'footer, .footer, .footer-container, [role="contentinfo"]',body:"body"}[e]||e}static isSupported(){try{const e=null!==document.createElement("canvas").getContext("2d");return{elementCapture:e,viewportCapture:e,download:"download"in document.createElement("a")}}catch(e){return{elementCapture:!1,viewportCapture:!1,download:!1}}}destroy(){this.loadedScripts.clear()}}const sa=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ScreenshotService:aa,default:aa},Symbol.toStringTag,{value:"Module"}));Lt=0;const oa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M9.125 19.5625V21.7188L13.5273 18.4395C13.752 18.2598 14.0664 18.125 14.3809 18.125H20.625C21.3887 18.125 22.0625 17.4961 22.0625 16.6875V3.75C22.0625 2.98633 21.3887 2.3125 20.625 2.3125H3.375C2.56641 2.3125 1.9375 2.98633 1.9375 3.75V16.6875C1.9375 17.4961 2.56641 18.125 3.375 18.125H7.6875C8.45117 18.125 9.125 18.7988 9.125 19.5625ZM3.375 0.875H20.625C22.1973 0.875 23.5 2.17773 23.5 3.75V16.6875C23.5 18.3047 22.1973 19.5625 20.625 19.5625H14.3809L8.81055 23.7402C8.58594 23.9199 8.31641 23.9199 8.04688 23.8301C7.82227 23.6953 7.6875 23.4707 7.6875 23.1562V21V19.5625H6.25H3.375C1.75781 19.5625 0.5 18.3047 0.5 16.6875V3.75C0.5 2.17773 1.75781 0.875 3.375 0.875ZM6.96875 7.34375H17.0312C17.3906 7.34375 17.75 7.70312 17.75 8.0625C17.75 8.4668 17.3906 8.78125 17.0312 8.78125H6.96875C6.56445 8.78125 6.25 8.4668 6.25 8.0625C6.25 7.70312 6.56445 7.34375 6.96875 7.34375ZM6.96875 11.6562H12.7188C13.0781 11.6562 13.4375 12.0156 13.4375 12.375C13.4375 12.7793 13.0781 13.0938 12.7188 13.0938H6.96875C6.56445 13.0938 6.25 12.7793 6.25 12.375C6.25 12.0156 6.56445 11.6562 6.96875 11.6562Z",fill:"currentColor"})}),ra=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M6 18L18 6M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ca=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M4.5 12.75l6 6 9-13.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),la=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M4.5 12.75l6 6 9-13.5m-1.5 0L9.75 18.75",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),da=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 55 30",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M2.27161 4.05404V20.8765C2.28661 24.6806 5.66848 27.7406 9.79411 27.7281H36.4835C37.2397 27.7281 37.8538 27.1665 37.8538 26.485V9.66248C37.8338 5.86123 34.4516 2.79841 30.331 2.81341H3.63661C2.88286 2.81341 2.27161 3.37279 2.27161 4.05404ZM39.551 10.6184L50.5729 3.22279C51.5291 2.49404 52.2704 2.67623 52.2704 3.99404V26.5475C52.2704 28.0475 51.3641 27.8653 50.5729 27.3187L39.551 19.9381V10.6187V10.6184Z",stroke:"currentColor",strokeWidth:"3.74906",strokeLinecap:"round",strokeLinejoin:"round"})}),ua=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 48 49",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M1.5 17.6667V44.5C1.5 45.8807 2.6193 47 4 47H44C45.3807 47 46.5 45.8807 46.5 44.5V17.6667M1.5 17.6667V9.5C1.5 8.1193 2.6193 7 4 7H44C45.3807 7 46.5 8.1193 46.5 9.5V17.6667M1.5 17.6667H46.5M11.5 2V9.5M36.5 2V9.5M39 24.5H34M39 39.5H34M26.5 24.5H21.5M26.5 39.5H21.5M14 24.5H9M14 39.5H9M39 32H34M26.5 32H21.5M14 32H9",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})}),ha=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M7 10L12 15L17 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ma=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 16 14",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M2.33984 0.844727L14.4258 6.09473C15.3008 6.47754 15.3008 7.70801 14.4258 8.09082L2.33984 13.3408C1.41016 13.751 0.453125 12.7119 0.945312 11.8096L2.85938 8.28223C2.96875 8.06348 3.1875 7.89941 3.46094 7.87207L8.27344 7.27051C8.35547 7.27051 8.4375 7.18848 8.4375 7.0791C8.4375 6.99707 8.35547 6.91504 8.27344 6.91504L3.46094 6.31348C3.1875 6.25879 2.96875 6.12207 2.85938 5.90332L0.945312 2.37598C0.453125 1.47363 1.41016 0.43457 2.33984 0.844727Z",fill:"currentColor"})}),ga=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M15 18L9 12L15 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),wa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 34 28",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M31.1014 0.247192C31.1014 0.247192 34.2466 -0.964807 33.9845 1.97862C33.8971 3.19064 33.1108 7.43263 32.4992 12.021L30.4024 25.6127C30.4024 25.6127 30.2277 27.6038 28.6551 27.9501C27.0824 28.2964 24.7235 26.7381 24.2866 26.3918C23.9371 26.1321 17.7341 22.2364 15.5498 20.3318C14.9382 19.8124 14.2393 18.7735 15.6372 17.5615L24.8109 8.90439C25.8593 7.86552 26.9077 5.44152 22.5393 8.38495L10.3078 16.6093C10.3078 16.6093 8.90987 17.4749 6.28887 16.6958L0.609913 14.9644C0.609913 14.9644 -1.48693 13.6658 2.09517 12.3672C10.832 8.29831 21.5783 4.14288 31.1014 0.247192Z",fill:"currentColor"})}),pa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",className:Re("isw-icon",e),children:[
/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 24.7273C20.8199 24.7273 24.7273 20.8199 24.7273 16C24.7273 11.1801 20.8199 7.27273 16 7.27273C11.1801 7.27273 7.27273 11.1801 7.27273 16C7.27273 20.8199 11.1801 24.7273 16 24.7273ZM16 21.8182C19.2132 21.8182 21.8182 19.2132 21.8182 16C21.8182 12.7867 19.2132 10.1818 16 10.1818C12.7867 10.1818 10.1818 12.7867 10.1818 16C10.1818 19.2132 12.7867 21.8182 16 21.8182Z",fill:"currentColor"}),
/* @__PURE__ */Ie("path",{d:"M24.7273 5.81818C23.9239 5.81818 23.2727 6.46941 23.2727 7.27273C23.2727 8.07604 23.9239 8.72727 24.7273 8.72727C25.5306 8.72727 26.1818 8.07604 26.1818 7.27273C26.1818 6.46941 25.5306 5.81818 24.7273 5.81818Z",fill:"currentColor"}),
/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.951215 4.76518C0 6.63204 0 9.07591 0 13.9636V18.0364C0 22.9241 0 25.368 0.951215 27.2348C1.78793 28.8769 3.12303 30.2121 4.76518 31.0487C6.63204 32 9.07591 32 13.9636 32H18.0364C22.9241 32 25.368 32 27.2348 31.0487C28.8769 30.2121 30.2121 28.8769 31.0487 27.2348C32 25.368 32 22.9241 32 18.0364V13.9636C32 9.07591 32 6.63204 31.0487 4.76518C30.2121 3.12303 28.8769 1.78793 27.2348 0.951215C25.368 0 22.9241 0 18.0364 0H13.9636C9.07591 0 6.63204 0 4.76518 0.951215C3.12303 1.78793 1.78793 3.12303 0.951215 4.76518ZM18.0364 2.90909H13.9636C11.4718 2.90909 9.77782 2.91136 8.46848 3.01833C7.19308 3.12253 6.54086 3.3114 6.08588 3.54323C4.99111 4.10105 4.10105 4.99111 3.54323 6.08588C3.3114 6.54086 3.12253 7.19308 3.01833 8.46848C2.91136 9.77782 2.90909 11.4718 2.90909 13.9636V18.0364C2.90909 20.5283 2.91136 22.2221 3.01833 23.5315C3.12253 24.807 3.3114 25.4592 3.54323 25.9142C4.10105 27.0089 4.99111 27.8989 6.08588 28.4567C6.54086 28.6886 7.19308 28.8775 8.46848 28.9817C9.77782 29.0886 11.4718 29.0909 13.9636 29.0909H18.0364C20.5283 29.0909 22.2221 29.0886 23.5315 28.9817C24.807 28.8775 25.4592 28.6886 25.9142 28.4567C27.0089 27.8989 27.8989 27.0089 28.4567 25.9142C28.6886 25.4592 28.8775 24.807 28.9817 23.5315C29.0886 22.2221 29.0909 20.5283 29.0909 18.0364V13.9636C29.0909 11.4718 29.0886 9.77782 28.9817 8.46848C28.8775 7.19308 28.6886 6.54086 28.4567 6.08588C27.8989 4.99111 27.0089 4.10105 25.9142 3.54323C25.4592 3.3114 24.807 3.12253 23.5315 3.01833C22.2221 2.91136 20.5283 2.90909 18.0364 2.90909Z",fill:"currentColor"})]}),fa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 31 32",fill:"none",className:Re("isw-icon",e),children:[
/* @__PURE__ */Ie("path",{d:"M7.06518 9.84762C7.2262 8.57737 8.88118 6.85096 10.1946 7.04252L10.1925 7.04043C11.4707 7.28272 12.4826 9.47723 13.0531 10.464C13.4574 11.18 13.1949 11.9053 12.8178 12.2114C12.3091 12.6204 11.5137 13.1847 11.6806 13.7513C11.9773 14.7585 15.5 18.2724 17.2326 19.2714C17.8884 19.6495 18.364 18.6522 18.7701 18.1413C19.0651 17.7483 19.7929 17.5134 20.509 17.9014C21.5785 18.5226 22.586 19.2447 23.5177 20.0575C23.983 20.4455 24.0922 21.0188 23.7698 21.6247C23.202 22.692 21.5595 24.0994 20.3673 23.8133C18.2849 23.3139 9.86364 20.0575 7.15865 10.6233C7.00652 10.177 7.04482 10.0083 7.06518 9.84762Z",fill:"currentColor"}),
/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 30.9226C13.7758 30.9226 12.8219 30.738 11.2727 30.2198L8.30579 31.6996C6.43196 32.6342 4.22727 31.275 4.22727 29.1852V26.0031C1.19287 23.1807 0 19.9264 0 15.4613C0 6.92226 6.93959 0 15.5 0C24.0604 0 31 6.92226 31 15.4613C31 24.0003 24.0604 30.9226 15.5 30.9226ZM7.04545 24.7807L6.1492 23.947C3.79168 21.7543 2.81818 19.3029 2.81818 15.4613C2.81818 8.47481 8.49603 2.81114 15.5 2.81114C22.504 2.81114 28.1818 8.47481 28.1818 15.4613C28.1818 22.4478 22.504 28.1114 15.5 28.1114C14.1111 28.1114 13.4596 27.9864 12.1688 27.5546L11.0592 27.1833L7.04545 29.1852V24.7807Z",fill:"currentColor"})]}),va=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 256 256",fill:"none",className:Re("isw-icon",e),children:[
/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M184.287 56.0057C186.39 55.1152 188.691 54.8081 190.951 55.1163C193.212 55.4245 195.349 56.3367 197.14 57.7581C198.931 59.1794 200.311 61.0579 201.136 63.198C201.961 65.3381 202.201 67.6616 201.831 69.9266L182.535 187.707C180.663 199.068 168.275 205.583 157.921 199.924C149.26 195.189 136.396 187.895 124.825 180.284C119.04 176.474 101.317 164.274 103.496 155.593C105.367 148.17 135.145 120.277 152.161 103.693C158.84 97.1777 155.794 93.4192 147.907 99.4123C128.322 114.292 96.8763 136.92 86.4796 143.29C77.308 148.906 72.5265 149.865 66.8091 148.906C56.3783 147.16 46.7048 144.454 38.8094 141.158C28.1404 136.706 28.6594 121.946 38.8009 117.648L184.287 56.0057Z",fill:"url(#paint0_linear_isales_logo)"}),
/* @__PURE__ */Ie("defs",{children:/* @__PURE__ */Ie("linearGradient",{id:"paint0_linear_isales_logo",x1:"191.027",y1:"55",x2:"96.1692",y2:"185.037",gradientUnits:"userSpaceOnUse",children:[
/* @__PURE__ */Ie("stop",{stopColor:"#FFFF00"}),
/* @__PURE__ */Ie("stop",{offset:"1",stopColor:"#DD00FF"})]})})]}),ya=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 494 500.67",fill:"currentColor",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("g",{id:"Layer_1","data-name":"Layer 1",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",children:/* @__PURE__ */Ie("path",{d:"M461.44,204.91c4.23-12.71,6.39-26.01,6.39-39.4,0-22.16-5.9-43.92-17.1-63.04-22.5-39.16-64.23-63.34-109.4-63.34-8.89,0-17.79.94-26.47,2.8C291.18,15.26,257.23,0,221.57,0h-.79c-.08,0-.2,0-.3,0C165.77,0,117.26,35.3,100.44,87.34c-35.22,7.2-65.62,29.29-83.39,60.51C5.89,167.09,0,188.93,0,211.17c0,31.26,11.61,61.4,32.56,84.59-4.23,12.71-6.39,26.01-6.39,39.4,0,22.16,5.9,43.92,17.1,63.04,22.5,39.17,64.23,63.34,109.4,63.34,8.89,0,17.76-.94,26.46-2.8,23.67,26.67,57.63,41.93,93.29,41.94h1.11c54.74,0,103.23-35.3,120.05-87.39,35.22-7.2,65.62-29.29,83.39-60.51,11.15-19.22,17.02-41.04,17.02-63.26,0-31.26-11.61-61.4-32.56-84.59h0s0,0,0,0ZM273.25,467.93h-.13c-21.9,0-43.11-7.69-59.93-21.71,1-.54,1.99-1.1,2.96-1.68l99.69-57.58c5.06-2.88,8.19-8.26,8.19-14.09v-140.64l42.14,24.33c.45.22.76.66.82,1.15v116.39c-.06,51.74-41.99,93.72-93.74,93.82h0,0ZM71.66,381.84c-8.23-14.24-12.57-30.39-12.58-46.84,0-5.37.47-10.74,1.38-16.03.74.44,2.03,1.23,2.96,1.77l99.69,57.58c5.06,2.95,11.32,2.95,16.38,0l121.71-70.28v48.66c.03.5-.2.99-.6,1.29l-100.77,58.18c-14.26,8.21-30.42,12.53-46.88,12.53-33.52,0-64.49-17.87-81.29-46.88h0s0,0,0,0ZM45.44,164.21c10.95-19.02,28.24-33.58,48.84-41.14,0,.86-.05,2.38-.05,3.44v115.26c0,5.82,3.12,11.19,8.18,14.08l121.71,70.27-42.14,24.33c-.42.28-.96.33-1.42.13l-100.78-58.23c-29-16.8-46.85-47.77-46.86-81.28,0-16.44,4.32-32.59,12.52-46.84h0s0,0,0,0ZM391.62,244.77l-121.71-70.28,42.14-24.32c.42-.28.96-.33,1.42-.13l100.78,58.18c29.01,16.76,46.91,47.75,46.91,81.26,0,39.31-24.53,74.48-61.41,88.06v-118.61s0-.09,0-.13c0-5.8-3.11-11.16-8.13-14.04h0ZM433.56,181.65c-.74-.45-2.03-1.23-2.96-1.77l-99.69-57.58c-2.49-1.45-5.31-2.21-8.19-2.21-2.87,0-5.7.77-8.19,2.21l-121.71,70.28v-48.74c0-.48.22-.92.6-1.21l100.77-58.13c14.25-8.22,30.42-12.54,46.87-12.55,51.81,0,93.84,42.02,93.84,93.84,0,5.32-.46,10.62-1.35,15.87h0s0,0,0,0ZM169.92,268.38l-42.15-24.33c-.45-.22-.76-.66-.82-1.15v-116.39c.02-51.79,42.04-93.77,93.84-93.77,21.94,0,43.18,7.69,60.04,21.72-1,.54-1.99,1.1-2.96,1.68l-99.69,57.58c-5.06,2.88-8.19,8.26-8.19,14.08v.09l-.07,140.49ZM192.81,219.03l54.21-31.31,54.21,31.29v62.6l-54.21,31.29-54.21-31.29v-62.58h0Z"})})}),ba=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",className:Re("isw-icon",e),children:[
/* @__PURE__ */Ie("path",{d:"M12 1C10.3431 1 9 2.34315 9 4V12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),
/* @__PURE__ */Ie("path",{d:"M5 10V12C5 16.4183 8.58172 20 12 20C15.4183 20 19 16.4183 19 12V10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),
/* @__PURE__ */Ie("path",{d:"M12 20V23",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),
/* @__PURE__ */Ie("path",{d:"M8 23H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Ca=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 20 19",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M12.4999 4.00001C13.2371 4.14383 13.9688 4.46893 14.4999 5.00001C15.031 5.53109 15.3561 6.26285 15.4999 7.00001M12.9999 0.5C14.5314 0.67014 15.9096 1.41107 16.9999 2.5C18.0902 3.58894 18.8278 4.9687 18.9999 6.50001M18.9994 13.9767V16.6864C19.0036 17.7223 18.0722 18.5873 17.0264 18.4929C8.00004 18.5 0.999995 11.435 1.00706 2.46919C0.912875 1.42895 1.77358 0.50106 2.80811 0.50009H5.52325C5.96247 0.49577 6.38829 0.651 6.72132 0.936841C7.66813 1.74949 8.27714 4.50778 8.04284 5.60429C7.85988 6.46037 6.9969 7.0593 6.4102 7.64481C7.69858 9.90622 9.57464 11.7785 11.8404 13.0644C12.4271 12.4788 13.0273 11.6176 13.885 11.435C14.9854 11.2008 17.7614 11.8106 18.5708 12.764C18.8579 13.1021 19.0104 13.5337 18.9994 13.9767Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Sa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 734 593",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M585.8 357.033C593.707 356.93 601.26 353.743 606.851 348.151C612.443 342.56 615.63 335.007 615.733 327.1C615.733 310.5 602.433 297.167 585.8 297.167C569.167 297.167 555.867 310.5 555.867 327.1C555.867 343.767 569.2 357.033 585.8 357.033ZM438.3 357.033C446.207 356.93 453.76 353.743 459.351 348.151C464.943 342.56 468.13 335.007 468.233 327.1C468.233 310.5 454.9 297.167 438.3 297.167C421.633 297.167 408.367 310.5 408.367 327.1C408.367 343.767 421.667 357.033 438.3 357.033ZM657.2 525.033C655.064 526.22 653.359 528.053 652.329 530.268C651.299 532.484 650.997 534.969 651.467 537.367C651.467 538.967 651.467 540.6 652.3 542.267C655.567 556.167 662.1 578.3 662.1 579.133C662.1 581.567 662.933 583.2 662.933 584.867C662.933 585.832 662.743 586.789 662.372 587.681C662.001 588.573 661.458 589.382 660.774 590.064C660.089 590.745 659.277 591.285 658.383 591.651C657.49 592.018 656.532 592.204 655.567 592.2C653.9 592.2 653.1 591.4 651.467 590.6L603.167 562.733C599.64 560.792 595.72 559.675 591.7 559.467C589.267 559.467 586.8 559.467 585.167 560.267C562.233 566.833 538.5 570.1 513.133 570.1C391.133 570.1 292.9 488.2 292.9 386.6C292.9 285.033 391.133 203.1 513.133 203.1C635.1 203.1 733.333 285.033 733.333 386.6C733.333 441.5 703.867 491.467 657.2 525.067V525.033ZM522.433 169.967C519.323 169.863 516.212 169.808 513.1 169.8C373.967 169.8 259.567 265.133 259.567 386.633C259.567 405.1 262.233 422.967 267.167 439.967H264.2C235.075 439.673 206.116 435.548 178.067 427.7C175.6 426.867 173.133 426.867 170.667 426.867C165.74 426.971 160.931 428.386 156.733 430.967L98.4667 464.467C96.8 465.3 95.1667 466.133 93.5333 466.133C91.1544 466.107 88.8803 465.151 87.1981 463.469C85.5159 461.786 84.5593 459.512 84.5333 457.133C84.5333 454.667 85.3333 453.033 86.1667 450.567C86.9667 449.767 94.3667 422.767 98.4667 406.433C98.4667 404.767 99.2667 402.333 99.2667 400.7C99.2577 397.842 98.5881 395.026 97.3101 392.47C96.0322 389.914 94.1806 387.688 91.9 385.967C35.2667 345.867 0 286.2 0 219.933C0 98.1666 119 0 265 0C390.5 0 496 72.3 522.433 169.933V169.967ZM350.633 183.9C369.733 183.9 384.833 168 384.833 149.7C384.833 130.6 369.733 115.5 350.633 115.5C331.533 115.5 316.433 130.6 316.433 149.7C316.433 168.8 331.533 183.9 350.633 183.9ZM175.3 183.9C194.4 183.9 209.533 168 209.533 149.7C209.533 130.6 194.4 115.5 175.3 115.5C156.233 115.5 141.1 130.6 141.1 149.7C141.1 168.8 156.233 183.9 175.3 183.9Z",fill:"currentColor"})}),Ma=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 16 15",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M8 0C12.4183 0 16 2.84615 16 6.35711C16 7.80538 15.3905 9.14057 14.3643 10.2095C12.6364 12.0515 7.73743 15.3014 7.31284 14.9775C6.85474 14.628 7.55166 14.1366 7.49099 13.0055C7.47836 12.77 7.3312 12.7015 7.24387 12.6862C3.18021 12.3835 0 9.66542 0 6.35711C0 2.84615 3.58173 0 8 0ZM5.99794 4.34336C5.76834 4.34336 5.58223 4.52589 5.58223 4.75109V7.81318C5.58223 8.03838 5.76834 8.22091 5.99794 8.22091C6.22754 8.22091 6.41364 8.03838 6.41364 7.81318V4.75109C6.41364 4.52589 6.22754 4.34336 5.99794 4.34336ZM3.21524 4.34348C2.98568 4.34348 2.79958 4.52601 2.79958 4.75117V7.81326C2.79958 8.03846 2.98568 8.221 3.21524 8.221L4.77629 8.22096C5.00585 8.22096 5.19196 8.03842 5.19196 7.81326C5.19196 7.58807 5.00585 7.40553 4.77629 7.40553H3.63095V4.75117C3.63095 4.52601 3.44484 4.34348 3.21524 4.34348ZM7.42316 4.3434C7.19356 4.3434 7.00745 4.52593 7.00745 4.75113V7.81322C7.00745 8.03842 7.19356 8.22096 7.42316 8.22096C7.65272 8.22096 7.83882 8.03842 7.83882 7.81322V5.90825L9.4576 8.06493C9.59465 8.2433 9.85221 8.28009 10.0353 8.1484C10.1434 8.0748 10.2142 7.95215 10.2142 7.81326V4.75117C10.2142 4.52597 10.0281 4.34344 9.79853 4.34344C9.56893 4.34344 9.38282 4.52597 9.38282 4.75117V6.66263L7.77095 4.51491L7.64131 4.40402C7.5779 4.36557 7.50316 4.3434 7.42316 4.3434ZM11.1899 4.34344C11.0568 4.34344 10.9383 4.40476 10.8622 4.50016C10.807 4.56938 10.7741 4.65651 10.7741 4.75121L10.7741 4.75596V7.80839L10.7741 7.81326C10.7741 8.03842 10.9603 8.221 11.1899 8.221H12.7677C12.9973 8.221 13.1835 8.03842 13.1835 7.81326C13.1835 7.58807 12.9973 7.40553 12.7677 7.40553H11.6055V6.68993H12.7677C12.9973 6.68993 13.1835 6.50739 13.1835 6.28224C13.1835 6.05704 12.9973 5.87451 12.7677 5.87451H11.6055V5.1589H12.7677C12.9973 5.1589 13.1835 4.97636 13.1835 4.75121C13.1835 4.52601 12.9973 4.34348 12.7677 4.34348H11.1952L11.1899 4.34344Z",fill:"currentColor"})}),ka=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 521 521",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M29.7 0H490.65C506.275 0 520.35 14.075 520.35 29.7V490.65C520.35 506.275 506.275 520.35 490.65 520.35H29.7C14.075 520.35 0 506.275 0 490.65V29.7C0 14.075 14.075 0 29.7 0ZM369.525 292.175H441.4L444.525 223.425H369.525V172.65C369.525 153.125 373.425 142.175 398.425 142.175H442.175L443.75 78.1C443.75 78.1 424.225 74.975 396.1 74.975C327.35 74.975 296.875 117.95 296.875 164.05V223.425H246.1V292.175H296.875V482.8H369.525V292.175Z",fill:"currentColor"})}),Ta=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 634 489",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M536.278 41C495.278 22 451.612 8 405.612 0C399.945 10 393.278 23.6667 388.945 34.6667C340.278 27.3333 291.945 27.3333 244.279 34.6667C239.612 23.6667 232.945 10 227.279 0C181.279 8 137.612 22 96.612 41C13.9453 165.667 -8.38804 287.334 2.61196 407.001C57.612 448.001 110.612 472.668 162.945 489.001C175.945 471.334 187.279 452.334 197.279 432.668C178.279 425.668 160.279 416.668 143.279 406.334C147.945 403.001 152.279 399.334 156.612 396.001C260.945 444.668 373.945 444.668 476.945 396.001C481.278 399.668 485.612 403.001 490.278 406.334C473.278 416.668 454.945 425.334 436.278 432.668C446.278 452.334 457.612 471.334 470.612 489.001C522.945 472.668 576.278 448.001 630.945 407.001C643.945 268.001 608.612 147.667 536.945 41H536.278ZM211.279 333.668C179.945 333.668 154.279 304.668 154.279 269.001C154.279 233.334 179.279 204.334 211.279 204.334C243.279 204.334 268.612 233.334 268.278 269.001C268.278 304.334 243.279 333.668 211.279 333.668ZM421.612 333.668C390.278 333.668 364.612 304.668 364.612 269.001C364.612 233.334 389.612 204.334 421.612 204.334C453.612 204.334 478.945 233.334 478.612 269.001C478.612 304.334 453.612 333.668 421.612 333.668Z",fill:"currentColor"})}),Na=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 750 550",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M750 125C750 91.85 736.825 60.05 713.4 36.6C689.95 13.175 658.15 0 625 0C491.95 0 258.05 0 125 0C91.85 0 60.05 13.175 36.6 36.6C13.175 60.05 0 91.85 0 125C0 212.15 0 337.85 0 425C0 458.15 13.175 489.95 36.6 513.4C60.05 536.825 91.85 550 125 550C258.05 550 491.95 550 625 550C658.15 550 689.95 536.825 713.4 513.4C736.825 489.95 750 458.15 750 425C750 337.85 750 212.15 750 125ZM86.1 119.475C86.1 119.475 214.725 225.4 295.4 291.825C341.625 329.9 408.375 329.825 454.525 291.65C535.45 224.725 664.85 117.675 664.85 117.675C675.475 108.875 676.975 93.1 668.175 82.475C659.4 71.85 643.625 70.35 632.975 79.15C632.975 79.15 503.575 186.175 422.675 253.125C394.975 276.025 354.925 276.075 327.175 253.225L117.875 80.875C107.225 72.1 91.475 73.625 82.7 84.275C73.925 94.925 75.45 110.7 86.1 119.475Z",fill:"currentColor"})}),Aa=({className:e,size:t=24})=>/* @__PURE__ */Ie("svg",{width:t,height:t,viewBox:"0 0 561 561",fill:"none",className:Re("isw-icon",e),children:/* @__PURE__ */Ie("path",{d:"M0.025 139.85C0.025 163.3 8.625 189.075 19.55 216.425C30.475 243.775 44.55 269.55 55.5 289.075C85.2 340.65 123.475 391.425 167.225 433.6C210.975 475.775 262.55 510.95 320.35 532.05C353.95 545.325 387.55 560.175 425.05 560.175C443.8 560.175 470.375 553.15 494.575 542.975C518.025 532.825 539.1 517.2 546.925 498.45C550.05 491.425 553.95 482.05 556.3 471.1C558.65 460.95 560.2 450.775 560.2 443.75C560.2 439.85 560.2 435.925 559.425 435.15C557.075 430.45 551.6 426.55 545.35 422.65C531.275 415.625 528.95 413.275 507.85 400.775C485.975 388.275 463.325 374.2 443.775 364.05C434.4 358.575 428.15 356.225 425.8 356.225C413.3 356.225 397.675 373.425 384.4 392.175C370.325 410.925 354.7 428.125 343.775 428.125C338.3 428.125 332.825 425.775 326.575 421.875C320.325 417.975 314.075 414.85 310.175 412.5C241.425 373.425 195.325 327.35 156.275 259.375C151.575 251.55 140.65 235.15 140.65 226.55C140.65 216.4 154.725 204.675 168.775 192.175C182.05 180.45 196.125 166.4 196.125 149.2C196.125 146.85 194.55 139.825 191.425 129.675C184.4 109.35 175.025 85.925 167.2 63.275C163.3 52.325 160.175 44.525 159.375 40.625C157.8 38.275 157.025 35.15 156.25 31.25C155.475 27.35 153.9 24.225 153.125 21.1C150.775 14.075 146.875 8.6 142.975 5.475C139.075 3.9 129.7 1.57499 120.325 0.774992C110.95 0.774992 100 0 95.325 0C92.975 0 89.85 -8.47504e-06 86.725 0.774992H76.575C51.575 11.725 33.6 33.6 20.325 59.375C7.825 85.15 0 114.075 0 139.85H0.025Z",fill:"currentColor"})}),Ea=()=>{const e=en(Ki),t=en(Ji),i=en(Zi),n=en(Yi),a=en(e=>e.toggleWidget),[s,o]=R(!1),[r,c]=R(!1),l=(null==i?void 0:i.position)||"bottom-right",d=(null==i?void 0:i.primaryColor)||"#000000";U(()=>{const e=setTimeout(()=>c(!0),100);return()=>clearTimeout(e)},[]);const u=[{icon:fa,label:"WhatsApp",link:null==i?void 0:i.whatsapp,bgColor:"#25D366"},{icon:pa,label:"Instagram",link:null==i?void 0:i.instagram,bgColor:"#E4405F",bgGradient:"linear-gradient(135deg, #7D20FF 0%, #F90FBC 34.78%, #FF6C20 68.75%, #FFC536 100%)"},{icon:wa,label:"Telegram",link:null==i?void 0:i.telegram,bgColor:"#24A1DE"},{icon:Sa,label:"WeChat",link:null==i?void 0:i.wechat,bgColor:"#07C160"},{icon:Ma,label:"LINE",link:null==i?void 0:i.line,bgColor:"#06C755"},{icon:ka,label:"Facebook",link:null==i?void 0:i.facebook,bgColor:"#1877F2"},{icon:Ta,label:"Discord",link:null==i?void 0:i.discord,bgColor:"#5865F2"},{icon:Na,label:"Email",link:(null==i?void 0:i.email)?i.email.startsWith("mailto:")?i.email:"mailto:".concat(i.email):void 0,bgColor:"#EA4335"},{icon:Aa,label:"Phone",link:(null==i?void 0:i.phone)?i.phone.startsWith("tel:")?i.phone:"tel:".concat(i.phone):void 0,bgColor:"#34A853"}].filter(e=>e.link),h=u.length>0,m=e&&h;return e&&n?null:/* @__PURE__ */Ie("div",{className:Re("isw-floating-button-container","bottom-right"===l?"isw-floating-button-bottom-right":"isw-floating-button-bottom-left",r?"isw-floating-button-container-visible":"isw-floating-button-container-hidden"),children:[
/* @__PURE__ */Ie("div",{className:Re("isw-social-buttons-container","bottom-right"===l?"isw-social-buttons-container-right":"isw-social-buttons-container-left"),children:[m&&u.map((e,t)=>/* @__PURE__ */Ie("button",{className:Re("isw-social-button","bottom-right"===l?"isw-social-button-right":"isw-social-button-left"),style:{background:e.bgGradient||e.bgColor,transform:"bottom-right"===l?"translateX(-".concat(62*(t+1),"px)"):"translateX(".concat(62*(t+1),"px)"),transitionDelay:"".concat(50*t,"ms")},onClick:()=>{return t=e.link,void window.open(t,"_blank","noopener,noreferrer");var t},"aria-label":"Contact us on ".concat(e.label),children:/* @__PURE__ */Ie(e.icon,{className:"isw-social-button-icon",size:32})},e.label)),
/* @__PURE__ */Ie("button",{className:"isw-main-button",style:{backgroundColor:d},onClick:()=>{a()},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),"aria-label":e?"Close chat":"Open chat","aria-expanded":e,children:[
/* @__PURE__ */Ie("div",{className:"isw-icon-animation-container",children:[
/* @__PURE__ */Ie(va,{className:Re("isw-main-icon",e?"isw-main-icon-hidden":"isw-main-icon-visible")}),
/* @__PURE__ */Ie(ha,{className:Re("isw-arrow-icon",e?"isw-arrow-icon-visible":"isw-arrow-icon-hidden")})]}),t>0&&!e&&/* @__PURE__ */Ie("div",{className:Re("isw-unread-badge","bottom-right"===l?"isw-unread-badge-right":"isw-unread-badge-left"),children:t>99?"99+":t})]})]}),!e&&/* @__PURE__ */Ie("div",{className:Re("isw-tooltip","bottom-right"===l?"isw-tooltip-right":"isw-tooltip-left",s?"isw-tooltip-visible":"isw-tooltip-hidden"),children:[
/* @__PURE__ */Ie("div",{className:Re("isw-tooltip-arrow","bottom-right"===l?"isw-tooltip-arrow-right":"isw-tooltip-arrow-left")}),t>0?1===t?Ci.t("tooltip.newMessage",{n:t}):Ci.t("tooltip.newMessages",{n:t}):(()=>{const e=[];return Boolean((null==i?void 0:i.elevenlabs_agent_id)&&"string"==typeof i.elevenlabs_agent_id&&i.elevenlabs_agent_id.trim().length>0)&&e.push("call"),Boolean((null==i?void 0:i.calendar_embedding_code)&&"string"==typeof i.calendar_embedding_code&&i.calendar_embedding_code.trim().length>0)&&e.push("schedule"),0===e.length?Ci.t("tooltip.chatWithUs"):1===e.length?"".concat(Ci.t("tooltip.chatWithUs")," â€¢ ").concat(e[0]):"".concat(Ci.t("tooltip.chatWithUs")," â€¢ ").concat(e.join(" & "))})()]})]})},_a=({message:e,position:t,onDismiss:i,onClick:n,animationDelay:a=0})=>{const[s,o]=R(!1),[r,c]=R(!0),[l,d]=R(!1),u=V(e=>e.length<=200?e:e.substring(0,200)+"...",[]),h=V(()=>{switch(e.type){case"text":return u(e.text);case"image":return e.attachedMessage?u(e.attachedMessage):Ci.t("message.image.alt");case"file":return e.attachedMessage?u(e.attachedMessage):"ðŸ“Ž ".concat(e.fileName);default:return Ci.t("message.unsupported")}},[e,u]),m=V(()=>{l||n()},[n,l]),g=V(()=>{l||(d(!0),setTimeout(()=>{i(e.id)},400))},[i,e.id,l]);return U(()=>{const e=setTimeout(()=>{o(!0)},a),t=setTimeout(()=>{c(!1)},a+3500),i=setTimeout(()=>{g()},a+12e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(i)}},[a,g]),s?/* @__PURE__ */Ie("div",{className:Re("isw-notification-message","bottom-right"===t?"isw-notification-message-right":"isw-notification-message-left",l&&"isw-notification-message-exiting"),onClick:m,role:"button",tabIndex:0,"aria-label":"New message: ".concat(h()),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m()),"Escape"===e.key&&(e.preventDefault(),g())},children:/* @__PURE__ */Ie("div",{className:"isw-notification-content",children:
/* @__PURE__ */Ie("div",r?{className:"isw-notification-typing",children:[
/* @__PURE__ */Ie("span",{className:"isw-text-sm isw-text-gray-600",children:Ci.t("chat.typingSimple")}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dots",children:[
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"0ms"}}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"200ms"}}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"400ms"}})]})]}:{className:"isw-notification-message-content",children:"image"===e.type&&e.imageLink?/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-gap-2",children:[
/* @__PURE__ */Ie("img",{src:e.imageLink,alt:Ci.t("message.image.alt"),className:"isw-max-w-full isw-h-auto isw-rounded isw-max-h-20 isw-object-cover"}),e.attachedMessage&&/* @__PURE__ */Ie("span",{className:"isw-text-sm",children:u(e.attachedMessage)})]}):"file"===e.type?/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-gap-2",children:[
/* @__PURE__ */Ie("span",{className:"isw-text-sm",children:"ðŸ“Ž"}),
/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col",children:[
/* @__PURE__ */Ie("span",{className:"isw-text-sm isw-font-medium",children:e.fileName}),e.attachedMessage&&/* @__PURE__ */Ie("span",{className:"isw-text-xs isw-text-gray-600",children:u(e.attachedMessage)})]})]}):/* @__PURE__ */Ie("span",{className:"isw-text-sm",children:h()})})})}):null},Ia=()=>{const e=en(Zi),t=en(Ki),i=en(e=>e.pendingNotifications||[]),n=en(e=>e.dismissNotification),a=en(e=>e.openWidget),s=en(e=>e.setView),o=(null==e?void 0:e.position)||"bottom-right";if(t||0===i.length)return null;const r=()=>{a(),s("chat")},c=e=>{n(e)};/* @__PURE__ */
return Ie("div",{className:Re("isw-notification-container","bottom-right"===o?"isw-notification-container-right":"isw-notification-container-left"),role:"region","aria-label":"Message notifications","aria-live":"polite",children:i.map((e,t)=>/* @__PURE__ */Ie(_a,{message:e,position:o,onDismiss:c,onClick:r,animationDelay:200*t},e.id))})};class xa{constructor(){this.PATTERNS=[{id:"newUser",condition:e=>1===e.visitCount&&!e.isReturningUser,messageKeys:["notification.newUser.welcome1","notification.newUser.welcome2","notification.newUser.welcome3"],delay:8e3,cooldownPeriod:864e5},{id:"recurringUser",condition:e=>e.isReturningUser&&e.visitCount<4,messageKeys:["notification.recurringUser.welcome1","notification.recurringUser.welcome2","notification.recurringUser.welcome3"],delay:12e3,cooldownPeriod:432e5}],this.state={hasTriggered:!1,lastTriggerTime:null,isInitialized:!1},this.notificationTimeout=null,this.initializationTimeout=null,this.isDestroyed=!1,this.MAX_INITIALIZATION_ATTEMPTS=3,this.initializationAttempts=0,this.initialize()}static getInstance(){return xa.instance||(xa.instance=new xa),xa.instance}initialize(){if(this.isDestroyed||this.state.isInitialized)return;if("undefined"==typeof window)return;const e=Math.min(1e3+1e3*this.initializationAttempts,5e3);this.initializationTimeout=setTimeout(()=>{this.attemptInitialization()},e)}attemptInitialization(){if(!this.isDestroyed)try{const e=en.getState();if(!e||"function"!=typeof e.addNotification)throw new Error("Widget store not ready");const t=sn.getInstance();if(!t)throw new Error("UserBehaviorService not ready");const i=t.getBehaviorData();if(!i||"number"!=typeof i.visitCount)throw new Error("Invalid behavior data");const n=bi.getInstance();if(!n||"function"!=typeof n.t)throw new Error("I18nManager not ready");this.state.isInitialized=!0,this.evaluateAndTriggerNotifications()}catch(e){this.initializationAttempts++,this.initializationAttempts<this.MAX_INITIALIZATION_ATTEMPTS?(this.logError("[AutomaticNotification] Initialization attempt ".concat(this.initializationAttempts," failed, retrying:"),e,"debug"),this.initialize()):(this.logError("[AutomaticNotification] Failed to initialize after maximum attempts:",e,"warn"),this.destroy())}}logError(e,t,i="warn"){if("undefined"==typeof process||"warn"===i){const n="warn"===i?console.warn:console.debug;t?n(e,t):n(e)}}evaluateAndTriggerNotifications(){if(this.state.isInitialized&&!this.isDestroyed)try{const e=sn.getInstance().getBehaviorData(),t=this.PATTERNS.find(t=>!(!t.condition(e)||this.state.lastTriggerTime&&Date.now()-this.state.lastTriggerTime<t.cooldownPeriod));t&&this.scheduleNotification(t)}catch(e){this.logError("[AutomaticNotification] Failed to evaluate patterns:",e)}}scheduleNotification(e){this.state.hasTriggered||this.isDestroyed||!this.state.isInitialized||(this.notificationTimeout=setTimeout(()=>{!this.isDestroyed&&this.state.isInitialized&&this.sendNotification(e)},e.delay))}sendNotification(e){if(!this.state.hasTriggered&&!this.isDestroyed&&this.state.isInitialized)try{let a;try{if(a=en.getState(),!a||"function"!=typeof a.addNotification)throw new Error("Invalid widget store state")}catch(t){return this.logError("[AutomaticNotification] Widget store access failed:",t),void 0}if(a.isOpen)return;const s=this.getRandomMessage(e.messageKeys);if(!s)return this.logError("[AutomaticNotification] No valid message key found"),void 0;let o;try{const e=bi.getInstance(),t=e.t(s);o=t===s?e.t("main.greeting.primary"):t}catch(i){this.logError("[AutomaticNotification] Localization failed:",i),o="Welcome! How can we help you today?"}const r={id:"auto_notification_".concat(Date.now(),"_").concat(e.id),sender:"bot",timestamp:/* @__PURE__ */new Date,type:"text",text:o,metadata:{source:"automatic_notification",pattern:e.id,trigger_time:Date.now()}};try{a.addNotification(r),this.state.hasTriggered=!0,this.state.lastTriggerTime=Date.now()}catch(n){return this.logError("[AutomaticNotification] Failed to add notification to store:",n),void 0}}catch(a){this.logError("[AutomaticNotification] Failed to send notification:",a)}}getRandomMessage(e){if(!Array.isArray(e)||0===e.length)return null;const t=e.filter(e=>"string"==typeof e&&e.length>0);return 0===t.length?null:t[Math.floor(Math.random()*t.length)]}resetNotificationState(){this.isDestroyed||(this.notificationTimeout&&(clearTimeout(this.notificationTimeout),this.notificationTimeout=null),this.state.hasTriggered=!1,this.state.lastTriggerTime=null,this.state.isInitialized&&this.evaluateAndTriggerNotifications())}hasTriggered(){return this.state.hasTriggered}getState(){return{...this.state}}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.notificationTimeout&&(clearTimeout(this.notificationTimeout),this.notificationTimeout=null),this.initializationTimeout&&(clearTimeout(this.initializationTimeout),this.initializationTimeout=null),this.state={hasTriggered:!1,lastTriggerTime:null,isInitialized:!1},xa.instance=void 0)}}const Ra=le(()=>Promise.resolve().then(()=>ws).then(e=>({default:e.WidgetContainer}))),Da=le(()=>Promise.resolve().then(()=>bs).then(e=>({default:e.ModernChatInput}))),Ua=le(()=>Promise.resolve().then(()=>ks).then(e=>({default:e.ModernChatWindow}))),Pa=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,App:({config:e})=>{const t=en(e=>e.initialize),i=en(Zi);(()=>{const{deviceInfo:e,isFullScreen:t}=en();return U(()=>{let i;const n=()=>{clearTimeout(i),i=setTimeout(()=>{const i=Ui(),n=Pi();(!e||e.deviceType!==i.deviceType||e.screenSize!==i.screenSize||t!==n)&&en.setState({deviceInfo:i,isFullScreen:n})},150)};return e||n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{clearTimeout(i),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[e,t]),{deviceInfo:e,isFullScreen:t}})(),U(()=>{t(e);const i=setTimeout(async()=>{try{const{getChatService:e}=await Promise.resolve().then(()=>Rs),t=e();await t.initializeUndeliveredMessages()}catch(e){void 0,e instanceof Error&&(e.message.includes("429")||e.message.includes("404"))}},1e3),n=setTimeout(async()=>{try{const{initializeSchedulePreload:e}=en.getState();await e()}catch(e){void 0}},1500);return()=>{clearTimeout(i),clearTimeout(n)}},[e,t]),U(()=>{const e=I();e.reinitialize(),(null==i?void 0:i.theme)&&e.setTheme(i.theme,!1);const t=e.addListener(()=>{});let n=null;const a=setTimeout(()=>{try{n=xa.getInstance()}catch(e){void 0}},500);return()=>{if(t(),clearTimeout(a),n)try{n.destroy()}catch(e){void 0}Promise.resolve().then(()=>Rs).then(({destroyChatService:t})=>{try{t()}catch(e){void 0}}).catch(()=>{void 0}),Promise.resolve().then(()=>ia).then(({getPreloadManager:t})=>{try{t().cleanup()}catch(e){void 0}}).catch(()=>{void 0})}},[null==i?void 0:i.theme]);const n=en(e=>e.widgetMode),a=en(e=>e.modernUI.chatWindowOpen),s=en(e=>e.sendMessage),r=en(e=>e.setModernChatWindowOpen);/* @__PURE__ */
return Ie("div",n?{className:"isw-app",children:["classic"===n&&/* @__PURE__ */Ie(o,{children:[
/* @__PURE__ */Ie(Ea,{}),
/* @__PURE__ */Ie(Ia,{}),
/* @__PURE__ */Ie(re,{fallback:/* @__PURE__ */Ie("div",{className:"isw-widget-loading"}),children:/* @__PURE__ */Ie(Ra,{})})]}),"modern"===n&&/* @__PURE__ */Ie(o,{children:[
/* @__PURE__ */Ie(Ia,{}),
/* @__PURE__ */Ie(re,{fallback:/* @__PURE__ */Ie("div",{className:"isw-widget-loading"}),children:[
/* @__PURE__ */Ie(Da,{onSendMessage:async e=>{await s(e),a||r(!0)}}),a&&/* @__PURE__ */Ie(Ua,{isOpen:a,onMinimize:()=>{r(!1)},onClose:()=>{r(!1),(0,en.getState().closeWidget)()}})]})]}),"classic"!==n&&"modern"!==n&&/* @__PURE__ */Ie("div",{className:"isw-error",role:"alert",children:[
/* @__PURE__ */Ie("p",{children:["Invalid widget mode: ",String(n)]}),
/* @__PURE__ */Ie("p",{children:"Please contact support."})]})]}:{className:"isw-widget-loading","aria-label":"Loading widget..."})}},Symbol.toStringTag,{value:"Module"}));class Oa extends r{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){(e=>{let t="An unknown error occurred",i={};e instanceof Error?(t=e.message,i={name:e.name,stack:e.stack}):"string"==typeof e?t=e:e&&"object"==typeof e&&(t=JSON.stringify(e),i=e),window.iSalesWidget&&"track"in window.iSalesWidget&&window.iSalesWidget.track("widget_error",{message:t,context:"Preact Error Boundary",details:i,timestamp:/* @__PURE__ */(new Date).toISOString(),url:window.location.href,userAgent:navigator.userAgent})})(e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-items-center isw-justify-center isw-min-h-[400px] isw-p-6 isw-text-center",children:[
/* @__PURE__ */Ie("div",{className:"isw-w-20 isw-h-20 isw-mb-6 isw-rounded-full isw-bg-error/10 isw-flex isw-items-center isw-justify-center",children:/* @__PURE__ */Ie("svg",{className:"isw-w-10 isw-h-10 isw-text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:/* @__PURE__ */Ie("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),
/* @__PURE__ */Ie("h3",{className:"isw-text-xl isw-font-semibold isw-text-text-primary isw-mb-3",children:Ci.t("error.generic")}),
/* @__PURE__ */Ie("p",{className:"isw-text-sm isw-text-text-secondary isw-mb-6 isw-max-w-sm isw-leading-relaxed",children:"Something unexpected happened. Don't worry, you can refresh to try again."}),
/* @__PURE__ */Ie("button",{onClick:()=>window.location.reload(),className:"isw-px-6 isw-py-3 isw-bg-gradient-to-br isw-from-primary isw-to-primary-hover isw-text-white isw-rounded-xl isw-text-sm isw-font-medium isw-shadow-md hover:isw-shadow-lg hover:isw-scale-105 isw-transition-all isw-duration-fast",children:Ci.t("action.refresh")})]}):this.props.children}}const za=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ErrorBoundary:Oa},Symbol.toStringTag,{value:"Module"}));class La{constructor(){this.analytics=Wi()}static getInstance(){return La.instance||(La.instance=new La),La.instance}async processMessage(e){const{messageText:t}=e;return!!t&&this.handleBuiltInIntents(e)}handleBuiltInIntents(e){const{messageText:t}=e;if(!t)return!1;const i=t.toLowerCase();return i.includes("contact")||i.includes("support")||i.includes("help")?(this.navigateToPage("/contact",{source:"widget_intent",metadata:e.metadata}),!0):i.includes("product")||i.includes("demo")||i.includes("features")?(this.navigateToPage("/products",{source:"widget_intent",metadata:e.metadata}),!0):!!(i.includes("price")||i.includes("cost")||i.includes("plan"))&&(this.navigateToPage("/pricing",{source:"widget_intent",metadata:e.metadata}),!0)}async navigateToPage(e,t){const i=oi.validateURL(e);if(!i.isValid)return void 0,void 0;const n=i.sanitizedInput,a=this.addTrackingParameters(n,t);if(!0===(null==t?void 0:t.useDirectNavigation))return window.location.href=a,void 0;const s=new CustomEvent("isales:widget:navigate",{detail:{url:a,options:t||{},timestamp:/* @__PURE__ */(new Date).toISOString()}}),o=this.hasNavigationListeners();window.dispatchEvent(s),o||(window.location.href=a)}hasNavigationListeners(){const e=new CustomEvent("isales:widget:navigate:test",{cancelable:!0});return!window.dispatchEvent(e)}async scrollToElement(e,t){var i;try{const n=document.querySelector(e);if(!n)return void 0,void 0;const a={behavior:"smooth",block:"start",...t};n.scrollIntoView(a),null==(i=this.analytics)||i.track("widget_scroll_success",{selector:e,options:a})}catch(n){void 0}}async sendCustomEvent(e,t,i){const n={type:e,context:{messageText:t.messageText,userIntent:t.userIntent,conversationId:t.conversationId},options:i||{},timestamp:/* @__PURE__ */(new Date).toISOString()},a=new CustomEvent("isales:custom:event",{detail:n});window.dispatchEvent(a)}addTrackingParameters(e,t){try{const i=new URL(e,window.location.origin);return!1!==(null==t?void 0:t.addTracking)&&(i.searchParams.set("utm_source","isales_widget"),i.searchParams.set("utm_medium","chat"),(null==t?void 0:t.source)&&i.searchParams.set("utm_campaign",String(t.source))),i.toString()}catch(i){return void 0,e}}}const Va=La.getInstance(),ja=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,HostNavigationService:La,hostNavigationService:Va},Symbol.toStringTag,{value:"Module"})),Ba=({className:e,size:t=24,fallback:i})=>{const n=en(e=>e.config),a=null==n?void 0:n.logo_url,[s,r]=R(!1);return U(()=>{r(!1)},[a]),a&&!s?/* @__PURE__ */Ie("div",{className:Re("isw-company-logo-container",e),style:{width:t,height:t,minWidth:t,minHeight:t,maxWidth:t,maxHeight:t,borderRadius:"50%",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:/* @__PURE__ */Ie("img",{src:a,alt:"Company Logo",className:"isw-w-full isw-h-full isw-object-cover",onError:()=>r(!0),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}})}):i?/* @__PURE__ */Ie(o,{children:i}):/* @__PURE__ */Ie(va,{className:e,size:t})},Wa=({className:e="",activeView:t,onNavigate:i})=>{var n,a;const s=en(e=>e.setView),o=en(Zi),r=[{id:"chat",label:Ci.t("navigation.messages"),icon:oa,onClick:()=>{s("chat"),null==i||i("chat")},show:!0},{id:"call",label:Ci.t("navigation.call"),icon:da,onClick:()=>{s("call"),null==i||i("call")},show:Boolean(null==(n=null==o?void 0:o.elevenlabs_agent_id)?void 0:n.trim())},{id:"schedule",label:Ci.t("navigation.schedule"),icon:ua,onClick:()=>{s("schedule"),null==i||i("schedule")},show:Boolean(null==(a=null==o?void 0:o.calendar_embedding_code)?void 0:a.trim())}].filter(e=>e.show);return 0===r.length?null:/* @__PURE__ */Ie("div",{className:"isw-nav-bar ".concat(e),children:/* @__PURE__ */Ie("div",{className:"isw-nav-container",children:r.map(e=>{const i=e.icon,n=t===e.id;/* @__PURE__ */
return Ie("button",{className:"isw-nav-btn ".concat(n?"isw-nav-btn-active":""),onClick:e.onClick,"aria-label":e.label,children:[
/* @__PURE__ */Ie(i,{size:23,className:"isw-nav-icon"}),
/* @__PURE__ */Ie("span",{className:"isw-nav-text",children:e.label})]},e.id)})})})},Ha=({title:e,subtitle:t,IconComponent:i,onClick:n})=>/* @__PURE__ */Ie("button",{className:"isw-action-tile",onClick:n,children:[
/* @__PURE__ */Ie("div",{className:"isw-tile-content",children:[
/* @__PURE__ */Ie("div",{className:"isw-tile-title",children:e}),
/* @__PURE__ */Ie("div",{className:"isw-tile-subtitle",children:t})]}),
/* @__PURE__ */Ie("div",{className:"isw-tile-icon",children:/* @__PURE__ */Ie(i,{className:"isw-nav-icon",size:18})})]}),Fa=({message:e})=>{const t="bot"===e.sender,i="user"===e.sender,n=e=>{if(/<[^>]*>/g.test(e))/* @__PURE__ */
return Ie("div",{className:"isw-message-content isw-formatted-text",dangerouslySetInnerHTML:{V:oi.sanitizeHTML(e)}});if(/(\*\*.*?\*\*|\*.*?\*|`.*?`|\n\s*[-*+]\s|^\s*\d+\.\s)/m.test(e)){const t=(e=>{let t=e;return t=t.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),t=t.replace(/\*(.*?)\*/g,"<em>$1</em>"),t=t.replace(/`(.*?)`/g,"<code>$1</code>"),t=t.replace(/^\s*[-*+]\s+(.*$)/gm,"<li>$1</li>"),t=t.replace(/^\s*\d+\.\s+(.*$)/gm,"<li>$1</li>"),t=t.replace(new RegExp("(<li>.*<\\/li>)","gs"),t=>/^\s*\d+\.\s+/.test(e)?"<ol>".concat(t,"</ol>"):"<ul>".concat(t,"</ul>")),t=t.replace(/\n/g,"<br>"),t})(e);/* @__PURE__ */
return Ie("div",{className:"isw-message-content isw-formatted-text",dangerouslySetInnerHTML:{V:oi.sanitizeHTML(t)}})}/* @__PURE__ */
return Ie("div",{className:"isw-message-content isw-plain-text",children:e.split("\n").map((t,i)=>/* @__PURE__ */Ie("span",{children:[t,i<e.split("\n").length-1&&/* @__PURE__ */Ie("br",{})]},i))})};/* @__PURE__ */
return Ie("div",{className:Re("isw-message-item",t&&"isw-message-item-bot",i&&"isw-message-item-user"),children:[
/* @__PURE__ */Ie("div",{className:Re("isw-message-bubble",t&&"isw-message-bubble-bot",i&&"isw-message-bubble-user"),children:(()=>{switch(e.type){case"text":return n(e.text);case"file":/* @__PURE__ */
return Ie("div",{className:"isw-flex isw-flex-col isw-gap-2",children:[
/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-gap-2",children:/* @__PURE__ */Ie("span",{className:"isw-text-sm",children:["ðŸ“Ž ",e.fileName]})}),e.attachedMessage&&n(e.attachedMessage)]});case"image":/* @__PURE__ */
return Ie("div",{className:"isw-flex isw-flex-col isw-gap-2",children:[
/* @__PURE__ */Ie("img",{src:e.imageLink,alt:Ci.t("message.image.alt"),className:"isw-max-w-full isw-h-auto isw-rounded"}),e.attachedMessage&&n(e.attachedMessage)]});default:/* @__PURE__ */
return Ie("span",{children:Ci.t("message.unsupported")})}})()}),
/* @__PURE__ */Ie("div",{className:Re("isw-message-timestamp",t&&"isw-message-timestamp-bot",i&&"isw-message-timestamp-user"),children:[
/* @__PURE__ */Ie("span",{className:"isw-timestamp-text",children:Ci.formatRelativeTime(e.timestamp)}),(()=>{if(!i||!e.status)return null;switch(e.status){case"sent":/* @__PURE__ */
return Ie(ca,{size:14,className:Re("isw-message-status-icon","isw-text-gray-400")});case"delivered":/* @__PURE__ */
return Ie(la,{size:14,className:Re("isw-message-status-icon","isw-text-gray-400")});case"read":/* @__PURE__ */
return Ie(la,{size:14,className:Re("isw-message-status-icon","isw-text-green-500")});case"sending":/* @__PURE__ */
return Ie("div",{className:"isw-animate-spin isw-w-3 isw-h-3 isw-border isw-border-gray-400 isw-border-t-transparent isw-rounded-full"});case"failed":/* @__PURE__ */
return Ie("div",{className:"isw-text-red-500 isw-text-xs",children:"!"});default:return null}})()]})]})},qa=()=>/* @__PURE__ */Ie("div",{className:"isw-message-item isw-message-item-bot",children:/* @__PURE__ */Ie("div",{className:"isw-typing-indicator",children:[
/* @__PURE__ */Ie("span",{className:"isw-text-sm",children:Ci.t("chat.typingSimple")}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"0ms"}}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"200ms"}}),
/* @__PURE__ */Ie("div",{className:"isw-typing-dot",style:{animationDelay:"400ms"}})]})}),Ka=({messages:e})=>{const t=en(Qi);/* @__PURE__ */
return Ie("div",{className:"isw-message-list",children:[e.map(e=>/* @__PURE__ */Ie(Fa,{message:e},e.id)),t&&/* @__PURE__ */Ie(qa,{})]})},Za=()=>{const[e,t]=R(""),[i,n]=R(!1),a=en(e=>e.sendMessage),s=O(null),{queueFocus:o}=(()=>{const e=O([]),t=O(!1),i=O(null),n=V(async()=>{if(!t.current&&0!==e.current.length){e.current.length>10&&(void 0,e.current=e.current.slice(-10)),t.current=!0;try{const t=e.current.shift();if(!t)return;const{element:i,cursorPosition:n,onSuccess:a,onError:s}=t;if(!i||!i.isConnected||null===i.offsetParent)return null==s?void 0:s(new Error("Element is not focusable")),void 0;await new Promise(e=>{requestAnimationFrame(()=>{try{i.focus(),void 0!==n&&"setSelectionRange"in i&&i.setSelectionRange(n,n),document.activeElement===i?null==a||a():null==s||s(new Error("Focus operation failed"))}catch(t){null==s?void 0:s(t instanceof Error?t:new Error("Focus operation failed"))}finally{e()}})})}catch(a){void 0}finally{t.current=!1,e.current.length>0&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{i.current=null,e.current.length>0&&n()},16))}}},[]),a=V((t,i={})=>{e.current.push({element:t,cursorPosition:i.cursorPosition,onSuccess:i.onSuccess,onError:i.onError}),n()},[n]),s=V(()=>{e.current=[],t.current=!1,i.current&&(clearTimeout(i.current),i.current=null)},[]);return U(()=>()=>{s()},[s]),{queueFocus:a,clearQueue:s}})(),r=O(0),c=V((e,t={})=>{const i=Date.now();i-r.current<100||(r.current=i,o(e,t))},[o]);P(()=>{if(s.current){const e=s.current;e.style.height="auto";const t=e.scrollHeight,i=20.25,n=4,a=1,o=Math.ceil(i*n),r=Math.ceil(i*a),c=Math.min(Math.max(t,r),o);e.style.height=c+"px",e.style.overflowY=t>o?"auto":"hidden";const l=c+48,d=e.closest(".isw-chat-input-container");d instanceof HTMLElement&&(d.style.height=l+"px")}},[e]);const l=async()=>{if(!e.trim()||i)return;const o=e.trim(),r=s.current;t(""),r&&c(r,{cursorPosition:0,onSuccess:()=>{},onError:()=>{void 0}});try{n(!0),await a(o)}catch(l){void 0}finally{n(!1),r&&c(r,{cursorPosition:0,onError:()=>{void 0}})}};/* @__PURE__ */
return Ie("div",{className:"isw-chat-input-container",children:/* @__PURE__ */Ie("div",{className:"isw-chat-input-wrapper",children:/* @__PURE__ */Ie("div",{className:"isw-chat-input-area",children:/* @__PURE__ */Ie("div",{className:"isw-chat-input-field",children:[
/* @__PURE__ */Ie("textarea",{ref:s,value:e,onChange:e=>t(e.currentTarget.value),onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){e.preventDefault(),e.stopPropagation();const t=e.currentTarget;l().then(()=>{c(t,{cursorPosition:0,onError:()=>{void 0}})}).catch(()=>{void 0,c(t,{cursorPosition:0,onError:()=>{void 0}})})}},placeholder:Ci.t("chat.placeholder"),disabled:i,className:"isw-chat-textarea",rows:1}),
/* @__PURE__ */Ie("button",{onClick:l,disabled:!e.trim()||i,className:"isw-chat-send-btn","aria-label":Ci.t("message.aria.send"),children:/* @__PURE__ */Ie(wa,{size:16})})]})})})})},Ga=()=>{const[e,t]=R("idle"),[i,n]=R(0),[a,s]=R(!1),o=O(null),r=O(null);U(()=>(r.current=setTimeout(()=>{s(!0)},0),()=>{s(!1),o.current&&(clearTimeout(o.current),o.current=null),r.current&&(clearTimeout(r.current),r.current=null)}),[]);const c=V(()=>{t(e=>r.current||"idle"!==e?"loading":e)},[]),l=V(()=>{t(e=>r.current||"loading"===e?(n(0),"loaded"):e)},[]),d=V(()=>{t(e=>r.current||"loading"===e?(n(e=>e+1),"error"):e)},[]),u=V(()=>{t(e=>"error"!==e?e:"retrying"),o.current&&clearTimeout(o.current);const e=Math.min(1e3*Math.pow(2,i),5e3);o.current=setTimeout(()=>{r.current&&t("loading")},e)},[i]),h=V(()=>{n(0),t("idle"),o.current&&(clearTimeout(o.current),o.current=null)},[]),m="error"===e,g=i<3;return{state:e,retryCount:i,isMounted:a,startLoading:c,setLoaded:l,setError:d,startRetry:u,resetRetries:h,isLoading:"loading"===e,hasError:m,isRetrying:"retrying"===e,canRetry:g,shouldShowRetryButton:m&&g}},Ja=e=>e?Ci.formatRelativeTime(e):Ci.t("status.online"),Qa=()=>{const[e,t]=R(0);U(()=>{const e=setInterval(()=>{t(e=>(e+1)%4)},500);return()=>clearInterval(e)},[]);const i=".".repeat(e);/* @__PURE__ */
return Ie("span",{className:"isw-typing-indicator-text",children:[Ci.t("chat.typingSimple"),i&&/* @__PURE__ */Ie("span",{className:"isw-typing-dots",children:i})]})},Xa={disconnected:["connecting","error"],connecting:["connected","disconnected","error"],connected:["disconnected","error"],error:["disconnected","connecting"]};class Ya{constructor(){this.websocket=null,this.status="disconnected",this.lastError=null,this.callbacks={},this.sessionOptions={},this.audioContext=null,this.mediaStream=null,this.mediaStreamSource=null,this.audioQueue=[],this.isPlayingAudio=!1,this.wakeLock=null,this.visibilityChangeHandler=null,this.operationInProgress=!1,this.retryCount=0}static getInstance(){return Ya.instance||(Ya.instance=new Ya),Ya.instance}setSessionOptions(e){this.sessionOptions={...e}}getSessionOptions(){return{...this.sessionOptions}}setCallbacks(e){this.callbacks={...e}}getCallbacks(){return{...this.callbacks}}hasCallbacks(){return Object.keys(this.callbacks).length>0}getStatus(){return this.status}getLastError(){return this.lastError}clearError(){this.lastError=null}isOperationInProgress(){return this.operationInProgress}isValidStatusTransition(e,t){return Xa[e].includes(t)}updateStatus(e){if(this.status!==e){if(!this.isValidStatusTransition(this.status,e))return void 0,void 0;if(this.status=e,this.callbacks.onStatusChange)try{this.callbacks.onStatusChange(e)}catch(t){void 0}}}handleError(e){if(this.lastError=e,this.updateStatus("error"),this.callbacks.onError)try{this.callbacks.onError(e)}catch(t){void 0}}async startConversation(){if(this.operationInProgress)return void 0,void 0;if("connected"===this.status||"connecting"===this.status)return void 0,void 0;this.operationInProgress=!0,this.updateStatus("connecting"),this.clearError();try{const e=this.getWebSocketUrl(),t=new WebSocket(e);t.onopen=async()=>{var e,t;void 0,this.sendMessage({type:"conversation_initiation_client_data"});try{await this.startAudioCapture()}catch(i){return void 0,this.handleError(i instanceof Error?i:new Error("Failed to start audio")),void 0}await this.requestWakeLock(),this.setupVisibilityHandler(),this.updateStatus("connected"),this.operationInProgress=!1,this.retryCount=0,null==(t=(e=this.callbacks).onConnect)||t.call(e)},t.onmessage=e=>{try{const t=JSON.parse(e.data);void 0,this.handleWebSocketMessage(t)}catch(t){void 0}},t.onclose=()=>{var e,t;void 0,this.cleanup(),this.updateStatus("disconnected"),this.operationInProgress=!1,null==(t=(e=this.callbacks).onDisconnect)||t.call(e)},t.onerror=()=>{void 0,this.handleError(new Error("WebSocket connection failed")),this.operationInProgress=!1},this.websocket=t}catch(e){void 0,this.handleError(e instanceof Error?e:new Error("Failed to start conversation")),this.operationInProgress=!1}}async endConversation(){if(this.operationInProgress)return void 0,void 0;this.operationInProgress=!0;try{this.websocket&&(this.websocket.close(),this.websocket=null),this.cleanup(),this.updateStatus("disconnected")}catch(e){void 0,this.handleError(e instanceof Error?e:new Error("Failed to end conversation"))}finally{this.operationInProgress=!1}}getWebSocketUrl(){const e=gi.get();if(this.sessionOptions.signedUrl)return this.sessionOptions.signedUrl;const t=this.sessionOptions.agentId||e.elevenlabs_agent_id;if(!t)throw new Error("ElevenLabs agent ID not configured");return"wss://api.elevenlabs.io/v1/convai/conversation?agent_id=".concat(t)}sendMessage(e){if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)return void 0,void 0;try{this.websocket.send(JSON.stringify(e))}catch(t){void 0}}handleWebSocketMessage(e){var t,i,n,a,s,o;if("ping"===e.type&&e.ping_event){const{event_id:t,ping_ms:i}=e.ping_event;return setTimeout(()=>{this.sendMessage({type:"pong",event_id:t})},i||0),void 0}if("audio"===e.type&&e.audio_event)return this.handleAudioEvent(e.audio_event.audio_base_64),void 0;"user_transcript"===e.type&&e.user_transcription_event,0,"agent_response"===e.type&&e.agent_response_event&&(void 0,null==(i=(t=this.callbacks).onModeChange)||i.call(t,{mode:"speaking"})),"agent_response_correction"===e.type&&e.agent_response_correction_event,"interruption"===e.type&&(null==(a=(n=this.callbacks).onModeChange)||a.call(n,{mode:"listening"})),null==(o=(s=this.callbacks).onMessage)||o.call(s,e)}async startAudioCapture(){try{const e=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:16e3,echoCancellation:!0,noiseSuppression:!0}});this.mediaStream=e,this.audioContext=new AudioContext({sampleRate:16e3}),this.mediaStreamSource=this.audioContext.createMediaStreamSource(e);const t=this.audioContext.createScriptProcessor(4096,1,1);t.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0),i=this.encodeAudioToBase64(t);this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({user_audio_chunk:i}))},this.mediaStreamSource.connect(t),t.connect(this.audioContext.destination)}catch(e){throw void 0,new Error("Microphone access denied or unavailable")}}encodeAudioToBase64(e){const t=new Int16Array(e.length);for(let a=0;a<e.length;a++){const i=Math.max(-1,Math.min(1,e[a]));t[a]=i<0?32768*i:32767*i}const i=new Uint8Array(t.buffer);let n="";for(let a=0;a<i.length;a++)n+=String.fromCharCode(i[a]);return btoa(n)}handleAudioEvent(e){try{const t=atob(e),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);const n=new Int16Array(i.buffer);this.audioContext||(this.audioContext=new AudioContext);const a=new Float32Array(n.length);for(let e=0;e<n.length;e++)a[e]=n[e]/(n[e]<0?32768:32767);const s=this.audioContext.sampleRate||24e3,o=this.audioContext.createBuffer(1,a.length,s);o.getChannelData(0).set(a),this.audioQueue.push(o),this.playNextAudio()}catch(t){void 0}}playNextAudio(){if(this.isPlayingAudio||0===this.audioQueue.length||!this.audioContext)return;this.isPlayingAudio=!0;const e=this.audioQueue.shift(),t=this.audioContext.createBufferSource();t.buffer=e,t.connect(this.audioContext.destination),t.onended=()=>{this.isPlayingAudio=!1,this.playNextAudio()},t.start(0)}cleanup(){this.mediaStream&&(this.mediaStream.getTracks().forEach(e=>e.stop()),this.mediaStream=null),this.audioContext&&(this.audioContext.close().catch(console.error),this.audioContext=null),this.audioQueue=[],this.isPlayingAudio=!1,this.mediaStreamSource=null,this.releaseWakeLock(),this.removeVisibilityHandler()}async requestWakeLock(){if("wakeLock"in navigator)try{this.wakeLock=await navigator.wakeLock.request("screen")}catch(e){void 0}}releaseWakeLock(){this.wakeLock&&(this.wakeLock.release().catch(console.error),this.wakeLock=null)}setupVisibilityHandler(){this.visibilityChangeHandler=async()=>{var e;if("visible"===document.visibilityState&&(this.wakeLock||"connected"!==this.status||await this.requestWakeLock(),"suspended"===(null==(e=this.audioContext)?void 0:e.state)))try{await this.audioContext.resume()}catch(t){void 0}},document.addEventListener("visibilitychange",this.visibilityChangeHandler)}removeVisibilityHandler(){this.visibilityChangeHandler&&(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeHandler=null)}async setVolume(e){void 0}setMicMuted(e){this.mediaStream&&this.mediaStream.getAudioTracks().forEach(t=>{t.enabled=!e})}getMediaStream(){return this.mediaStream}sendUserMessage(e){void 0}sendContextualUpdate(e){this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify({type:"contextual_update",text:e}))}isAvailable(){const e=gi.get(),t=Boolean(e.elevenlabs_agent_id),i=Boolean(this.sessionOptions.agentId||this.sessionOptions.signedUrl),n=Ya.isSupported();return(t||i)&&n}static isSupported(){const e=!(!navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia),t=!!window.WebSocket,i=!(!window.AudioContext&&!window.webkitAudioContext);return e&&t&&i}getDebugInfo(){var e;return{status:this.status,hasWebSocket:null!==this.websocket,callbacks:Object.keys(this.callbacks),lastError:(null==(e=this.lastError)?void 0:e.message)||null,isAvailable:this.isAvailable(),sessionOptions:this.sessionOptions,operationInProgress:this.operationInProgress,retryCount:this.retryCount}}destroy(){this.websocket&&(this.websocket.close(),this.websocket=null),this.cleanup(),this.callbacks={},this.sessionOptions={},this.lastError=null,this.operationInProgress=!1,this.retryCount=0,this.updateStatus("disconnected")}}const $a=Ya.getInstance(),es={status:"disconnected",agentMode:"listening",operation:"idle",error:null,isSupported:!0,isConfigured:!0,retryCount:0},ts=({onContactSupport:e})=>/* @__PURE__ */Ie("div",{className:"isw-schedule-empty-state",children:/* @__PURE__ */Ie("div",{className:"isw-empty-state-content",children:[
/* @__PURE__ */Ie("div",{className:"isw-empty-state-icon",children:/* @__PURE__ */Ie("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"isw-w-16 isw-h-16",children:[
/* @__PURE__ */Ie("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),
/* @__PURE__ */Ie("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),
/* @__PURE__ */Ie("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),
/* @__PURE__ */Ie("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),
/* @__PURE__ */Ie("path",{d:"M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"})]})}),
/* @__PURE__ */Ie("h2",{className:"isw-empty-state-title",children:"Schedule a Meeting"}),
/* @__PURE__ */Ie("p",{className:"isw-empty-state-description",children:"Calendar scheduling is not configured yet. Please contact our team to set up your appointment booking system."}),
/* @__PURE__ */Ie("button",{className:"isw-empty-state-button",onClick:e,type:"button",children:[
/* @__PURE__ */Ie("svg",{viewBox:"0 0 20 20",fill:"currentColor",className:"isw-w-5 isw-h-5",children:/* @__PURE__ */Ie("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Contact Support"]})]})}),is=({calLink:e,style:t})=>/* @__PURE__ */Ie("iframe",{src:"https://cal.com/".concat(e,"?embed=true"),style:{...t,width:"100%",height:"100%",minHeight:"100%",border:"none"},frameBorder:"0",allowFullScreen:!0,title:"Cal.com Booking"});is.displayName="CalcomIframeFallback";const ns=({scheduleData:e,onError:t})=>{const[i,n]=R(!0),[a,s]=R(null),[o,r]=R(null),[c,l]=R(0),d=e.embedUrl||"",u=V(e=>{if(!e)return!1;try{return new URL(e).hostname.includes("calendly.com")}catch(t){return!1}},[]),h=V(async()=>{var e,i;try{if(r(null),null==(e=window.ReactCalendly)?void 0:e.InlineWidget)return s(()=>window.ReactCalendly.InlineWidget),n(!1),void 0;const t=window.iSalesWidget;if(!t||"object"!=typeof t||!("loadReactCalendly"in t))throw new Error("Widget loader not available");if(await t.loadReactCalendly(),!(null==(i=window.ReactCalendly)?void 0:i.InlineWidget))throw new Error("ReactCalendly InlineWidget not available after loading");s(()=>window.ReactCalendly.InlineWidget),n(!1)}catch(a){const e=a instanceof Error?a.message:"Unknown error";if(void 0,c<2){const e=1e3*Math.pow(2,c);return setTimeout(()=>{l(e=>e+1)},e),void 0}r("Failed to load calendar component: ".concat(e)),n(!1),null==t||t(a instanceof Error?a:new Error(e))}},[c,t]);return U(()=>{if(!u(d)){const e=new Error("Invalid or missing Calendly URL");return r("Invalid calendar URL provided"),n(!1),null==t||t(e),void 0}n(!0),r(null),s(null),l(0),h()},[d,u,h,t]),U(()=>{c>0&&c<=2&&h()},[c,h]),/* @__PURE__ */Ie("div",i?{className:"isw-calendly-container",children:/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:c>0?"Loading calendar... (attempt ".concat(c+1,"/3)"):"Loading calendar..."})]})}:o||!a?{className:"isw-calendly-container",children:/* @__PURE__ */Ie("div",{className:"isw-embed-error",children:[
/* @__PURE__ */Ie("div",{className:"isw-error-icon",children:/* @__PURE__ */Ie("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"isw-w-8 isw-h-8",children:[
/* @__PURE__ */Ie("circle",{cx:"12",cy:"12",r:"10"}),
/* @__PURE__ */Ie("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),
/* @__PURE__ */Ie("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),
/* @__PURE__ */Ie("p",{className:"isw-error-text",children:o||"Calendar component unavailable"}),
/* @__PURE__ */Ie("p",{className:"isw-error-subtext",children:"Please check your internet connection and try again."}),
/* @__PURE__ */Ie("button",{onClick:()=>{l(0),r(null),n(!0),h()},className:"isw-error-retry-button",type:"button",children:"Try Again"})]})}:{className:"isw-calendly-container",children:/* @__PURE__ */Ie("div",{className:"isw-calendly-widget",children:/* @__PURE__ */Ie(a,{url:d,styles:{height:"100%",minHeight:"630px",width:"100%"},pageSettings:{backgroundColor:"ffffff",hideEventTypeDetails:!1,hideLandingPageDetails:!1,primaryColor:"4f46e5",textColor:"374151"},prefill:{email:"",firstName:"",lastName:"",name:""},utm:{utmSource:"isales-widget",utmMedium:"embedded-calendar",utmCampaign:"schedule-booking"}})})})},as=({scheduleData:e,onError:t})=>{const[i,n]=R(!0),[a,s]=R(null);if(U(()=>{const t=async()=>{try{if(!window.Cal||!window.Cal.getCalApi)throw new Error("Cal API not available");{const t=e.config||{},{namespace:i="default",layout:a="month_view"}=t;(await window.Cal.getCalApi({namespace:i}))("ui",{hideEventTypeDetails:t.hideEventTypeDetails||!1,layout:a});const o=e=>{const i=O(null);return U(()=>{i.current&&window.Cal&&window.Cal("init",{origin:"https://cal.com",...e})},[e]),/* @__PURE__ */Ie("div",{ref:i,"data-cal-link":t.calLink})};s(()=>o),n(!1)}}catch(t){void 0,s(()=>is),n(!1)}};(async()=>{try{if("undefined"!=typeof window,window.Cal)return await t(),void 0;const e=document.createElement("script");e.src="https://app.cal.com/embed/embed.js",e.async=!0,e.onload=async()=>{await new Promise(e=>setTimeout(e,100)),await t()},e.onerror=()=>{void 0,s(()=>is),n(!1)},document.head.appendChild(e)}catch(e){void 0,s(()=>is),n(!1)}})()},[e,t]),i)/* @__PURE__ */
return Ie("div",{className:"isw-calcom-container",children:/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Loading Cal.com..."})]})});if(a){const t=e.config||{};/* @__PURE__ */
return Ie("div",{className:"isw-calcom-container",children:/* @__PURE__ */Ie(a,{namespace:t.namespace||"default",calLink:t.calLink,style:{width:"100%",height:"100%",overflow:"auto",minHeight:"100%"},config:{layout:t.layout||"month_view",...t}})})}/* @__PURE__ */
return Ie("div",{className:"isw-calcom-container",children:/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Cal.com unavailable"})})})},ss=({scheduleData:e,onError:t})=>{const[i,n]=R(!0),a=Boolean(e.embeddingCode);if(U(()=>{if(a){const e=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(e)}},[a]),e.embeddingCode){let t=e.embeddingCode.replace(/height="600"/g,'height="100%"').replace(/height:\s*600px/g,"height: 100%").replace(/height='600'/g,"height='100%'");return void 0,t.includes("calendar.google.com")||(t=oi.sanitizeHTML(t)),t=t.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""),/* @__PURE__ */Ie("div",{className:"isw-google-calendar-container",children:[i&&/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Loading Google Calendar..."})]}),
/* @__PURE__ */Ie("div",{className:"isw-google-calendar-embed",style:{width:"100%",height:"100%",minHeight:"100%",opacity:i?0:1,transition:"opacity 0.3s ease"},dangerouslySetInnerHTML:{V:t}})]})}/* @__PURE__ */
return Ie("div",{className:"isw-google-calendar-container",children:[i&&/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Loading Google Calendar..."})]}),
/* @__PURE__ */Ie("iframe",{src:e.embedUrl,className:"isw-google-calendar-iframe",style:{border:0,width:"100%",height:"100%",minHeight:"100%",opacity:i?0:1,transition:"opacity 0.3s ease"},frameBorder:0,title:"Google Calendar Booking",onLoad:()=>{n(!1)},onError:()=>{null==t?void 0:t(new Error("Failed to load Google Calendar"))}})]})},os=({scheduleData:e,onError:t})=>{const[i,n]=R(!0),a=Boolean(e.embeddingCode);if(U(()=>{if(a){const e=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(e)}},[a]),e.embeddingCode){let t=e.embeddingCode.replace(/height="[^"]*"/g,'height="100%"').replace(/height:\s*[^;]+/g,"height: 100%").replace(/height='[^']*'/g,"height='100%'").replace(/width="[^"]*"/g,'width="100%"').replace(/width:\s*[^;]+/g,"width: 100%").replace(/width='[^']*'/g,"width='100%'");return t=t.replace(/<script[^>]*>[\s\S]*?<\/script>/gi,"").replace(/\s*on\w+\s*=\s*["'][^"']*["']/gi,"").replace(/javascript:/gi,""),t=oi.sanitizeHTML(t),/* @__PURE__ */Ie("div",{className:"isw-generic-embed-container",children:[i&&/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Loading schedule..."})]}),
/* @__PURE__ */Ie("div",{className:"isw-generic-embed-content",style:{width:"100%",height:"100%",minHeight:"100%",overflow:"auto",opacity:i?0:1,transition:"opacity 0.3s ease"},dangerouslySetInnerHTML:{V:t}})]})}/* @__PURE__ */
return Ie("div",{className:"isw-generic-embed-container",children:[i&&/* @__PURE__ */Ie("div",{className:"isw-embed-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:"Loading schedule..."})]}),
/* @__PURE__ */Ie("iframe",{src:e.embedUrl,className:"isw-generic-embed-iframe",style:{border:0,width:"100%",height:"100%",minHeight:"100%",opacity:i?0:1,transition:"opacity 0.3s ease"},frameBorder:0,title:"Schedule Booking",onLoad:()=>{n(!1)},onError:()=>{null==t?void 0:t(new Error("Failed to load scheduling service"))},sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"})]})},rs=({scheduleData:e,onError:t})=>{switch(e.service){case"calendly":/* @__PURE__ */
return Ie(ns,{scheduleData:e,onError:t});case"calcom":/* @__PURE__ */
return Ie(as,{scheduleData:e,onError:t});case"google":/* @__PURE__ */
return Ie(ss,{scheduleData:e,onError:t});default:/* @__PURE__ */
return Ie(os,{scheduleData:e,onError:t})}},cs={"bottom-right":"isw-pos-bottom-right","bottom-left":"isw-pos-bottom-left"},ls=e=>({isOpen:e.isOpen,currentView:e.currentView,config:e.config,isFullScreen:e.isFullScreen,closeWidget:e.closeWidget}),ds=ne(()=>{const e=en(e=>e.setView),t=en(Zi),i=[{id:"chat",title:Ci.t("main.action.chat.title"),subtitle:Ci.t("main.action.chat.subtitle"),onClick:()=>e("chat"),show:!0},{id:"call",title:Ci.t("main.action.call.title"),subtitle:Ci.t("main.action.call.subtitle"),onClick:()=>e("call"),show:Boolean((null==t?void 0:t.elevenlabs_agent_id)&&"string"==typeof t.elevenlabs_agent_id&&t.elevenlabs_agent_id.trim().length>0)},{id:"schedule",title:Ci.t("main.action.schedule.title"),subtitle:Ci.t("main.action.schedule.subtitle"),onClick:()=>e("schedule"),show:Boolean((null==t?void 0:t.calendar_embedding_code)&&"string"==typeof t.calendar_embedding_code&&t.calendar_embedding_code.trim().length>0)}].filter(e=>e.show);/* @__PURE__ */
return Ie("div",{className:"isw-chat-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-main-content-area isw-messages-scrollable",children:[
/* @__PURE__ */Ie("div",{className:"isw-header-layout",children:[
/* @__PURE__ */Ie("div",{className:"isw-header-top",children:[
/* @__PURE__ */Ie("div",{className:"isw-flex-col-center",children:/* @__PURE__ */Ie("div",{className:"isw-company-avatar",children:/* @__PURE__ */Ie(Ba,{className:"isw-company-icon",size:28})})}),
/* @__PURE__ */Ie("div",{className:"isw-team-avatars",children:[
/* @__PURE__ */Ie("div",{className:"isw-team-avatar",children:/* @__PURE__ */Ie("img",{src:"data:image/webp;base64,UklGRqQNAABXRUJQVlA4IJgNAACQNQCdASp4AHgAPpE+mUiloyIhKROeELASCWUAyFsj2fN5UbxydbFnRD9Cz+slfYNqU96edr+88A+Ac9bo8cUenC+p+gf1jf9byi/XvsG9LL0XP25a/E6wzHJ1lqXfkguJ3cEAK8viq+p34uACU4edhSZZkt/H7/2P7/2Nd/lTeS2LEpDVxb6/abcuN5NmYqz6XvK6bi8cZUV4cnx5zbaMWA0HA0SnSD7ZV8G+H9QwoSmwlODviJAmjfWdp8tWgKJs5zwtnhGEDr9CIqPUkmC5oPMjxyBPAzbyOne7B1UTRxW4MAaI7tz/wPh6hTyPmCmZ9N3AmJGUfzAykrCV0NxvKs/e9hYicM9Cfbs06x0fpFxulfYUpdxv3Npg1NeP1UQtQ40NCCfXkGlycW4iyU8XwF5cwmP1kqOI2NS9x9WAJ+jAoyJ3gPk1yuDEGhEl/LCZBVT8KX9OHJDOeuJGa0gyBsSKjXqoUttVeVr8u5u2zVXvJAqdycaVFeIrvAVTSNmF295FYAaqVUKJHwKuLbLnG3E2DNghyqeggkB7pLa2INxLt9KUIywJ35R6Pe1PmQ71+lUkgADKNRGieBPUzh0aCdJFcObAsSd3YzYCqr/64iNg/fVJ0lYAOOQQHojPMPWoNLr3PBHCgHrIdyWLuz2AVmBPdLSccPLtlLUKS40I0HlyWjJoWwuGmOcT4aeQbrkEQTzkQg0HqlFe0imaio3jdKvc843DIHiyrZ1EntEWcqHBecvgi7EdKp3mIMOnlTQ8dY83ZGz6MTghZMOpEf3RIkFtCjAyMCXPa1ZD3eoNZUtF1aEujidlaIh0yuvLHo9ixc4Mf4R81a9HxdCmq4XliYgBz0D2IqinyuIA8YUaj+j22EOPTMEsQW+jxe9Btvw84/ohFKhDveU2qiFtU+2jZ5U7R0iXh8iPDbnM5IabFcpqLnhuWq4ODohdgrvb2Z3A+d7qfL1OyFVasi47F1dTGN7ZoM5i23U+u+xvyaM1ssAA4IWaThYhLlabmGt8z6Mmyf/IotgwEoj/X8QNvh80gUeS0QTWW2dq3qHTtF84eZOrH++qJuIoKqQOz66ECOvIfaIxanQRZ2Y5XPaNzH25xU+WqBCeL25Pc5/KkcwAcelCCUmVDf5i7pfQJxYlyiguukC8AOX1JzHaX0Kilu+9Uvxf/MN04h8Qf29QK1CBVWBvjqUBFYXnWSSA0R0Zv9FxTZnGpmj9PFIviRJAPqpLRO5n6Bs71XVoszbuV7fvmDIcDN+kKC8HTW+/WZXdOxlST+BxofgREV9+AxLDz/hxJ1NVmQkX6PQw75MlEdQzw5qg8Of0UzOe4uOBHuDLCrACicHeiksSZRaUEVbrA+VOVYHYFjvvafbkuOkUxI7WYivnHsa/l1xVMTUo4WG+wXl9BF0s6J4GzLNFulLgsFBen35rHTvEEOtpSEYOciJ4OBfiFT/GllYoycZmPuyyyAkxaoD0PCvZ3s0gQp9ksbkCRecozOcxhfSmRTEevksidW8ZBQYItt/ujyKJAzUJtEgU+WlOvr5TGVscSj82YuykyUicg+6qKvxCf3TeDcB1XYBoGSUmmdB/zU1aUExCAAvZSBE27os4Wv530bVq4Pvq2t98Z5VV1kYhyX9BafC8IcaDjjCm5kz3GEdCEpKUPhz5oqd3sqqtq3OAE/zd1iHPTDYQTtsISp2SR5PxcD7rRwSgHm0PMrbXnMAm5pve2PwwRodBK1eA10cu2iqRGehCPsBamcvzMoTqXsb5XsFGSQMViGythsLtmGtv+/5sgP6blr9I0oKGLId+Nvc9ZWndUeqHrq9axYbPDeqqwiURipsXFsyYnWiTF/P1J3/MU2wH3drGRR9LsO3gOv9AyzrsoDLrfLHjahZKhS9oD1ZlC0OobeMpMNiEIR+ojafcE4+tHsoAsWOZ9e7+B66OOW0YUpbt5wgivGV4KwRD/p/lEzoSKeuRc4ZJlUS/l8JeMTqiLDdg3DCc+6MoqJ4xWXdTqt3jZxgUJqTW9mXyyBAo0l8DXRik2WY/0MW9qkcfEZA5yDtz1N7HK1MRiIXcAUWPjnQTlUKZGGXyvV8DyFWVik7wPEiLtddlPeq2uX8B2l3/w8Atoop85uTKoWB5szxpJPAxSzqJT193Eou7qi5f7NtOVmlXJb5olhpbQJYBh0C3Z7HJYKQ5D2abMmULLM5pWrN/a4YbKRUj+HJ6+pa5JlIGEXWWDUtmU4yeIKPboabOZfVoxtWNmeBWWQR8wmKwAdurps7PkLUVeXshS/bSVTGweyte03/BnzAo5jt0FHoX5fb9yDHQ18OKSgHwnYHh+2VLOk5Lra7mizDymp1Cdv9PbSfZwExlOeN5OH05gwazGy82aCzlsMfndQ0dbdFdDna0NhWt/ZLOW0MJNy2gpPo2k46rMI6KKi96TSj0rk/1Of5K9dVjFvHUBZUWf+hb/woATo5UmRdNLzBqtJ9dBq/+geg+z8zSRmjTLGPqv6sNk/rI79HuV8ajUvQs3Pd83iY43HxsspVj12xdudr1tY6OqVbi1ZV+SHE9RnfA5BLwwpLP++hA4HR83f5L1TQWbH98CwX3PFBntoBLlmzRCwep/3l83kO93oTUBRMtMHUpmKtIdJh9ZW3lSO5GzGUPCN2W6ESZnifzk6W+mHW6SdnfyimiMDGM6BGPi6+rygYu0yh9HTn92FakoYQQBDybVUjKUuvZfAg2yFvzILmkRTQd7zwMcROr40MR/UvyqNYKZBG9mfWQ/VkbOX/CmkgHxIcsnl/iicU21MbObLTNjGxfakrKo/OYZL3PABqZbG9rZfoQHPSRGuNy/hVPPlaeO46N+qIWpXS/Gi15TVBnjnMdJHxFUGHkhpT+YOGkj+oN9SEhQjW4HZ5mBvpXH34JBnsNidOW5e8UTJi4Qk2raXhnJwvuWlNYPb57F47IdGe12gOmeowRtxCdEcRC86gViMSvoUeGOd9I+N1WqhI1PKFPBpoVSZAS6ZA8KH4iJ2OO0O2QNxwRo2PaqxmwS5yXLmfT2tzUF1fCAyZmrWIUsD1B4AFTrkui24N6xOLs5yiuij4tyuDfd3YS0G5h9lFLJtXLHCdMBguIMEsjAx44sGv8wtkqnZV8R6bgP+W56ZX0Xwq2qaUxA1rNOzQISofzrKF0HE4CAaG8mWH2Igu9iaZWPu/8Fst/+SwvtgZVepJyGTMuNr5H9Qn5M0UU7dSH+fqsopwL+ujyzw5BgTv/JfUl1is2KrjWAbNyT7e1WE31i+GzcC/mcDeD8bncbqrVh2zpeFXJmt2BVe+orbQ740q7hydIKmugwGyoyWxaA+qTDQl0UloQ3WQNQUX4oFTwhtI+2jwf4ow9KPSo7OHLm4lA3U/ks0GxjeKAKrG3E1OPuixvIpBJ6YWf7eOgU8Kv5YyT5Q3uFsV+YNwnBA5g/FeuvtLFIeV15Dupxx6/dVIjf0gY9IdV8SccNR7fmohbuQXSo0AFAGGeEdL0Juo0El+5JY3s3VUhC9Ce8VoFpg8eMdE0j7ttr5RUUrpylKsSghADiXZeytwLgthKzBeQLqxUXVtuIkLZT+hrdTA70qLFRr3WTAacGNCoXW/Gi9SfR58vi7JYiQQrJoyitilBM0E9pyFg4PUWavOtZ2QDw5Hy61NXqgXDNWncTeRlb86KH40rOdOMYMP9KHBFO3cW/Kh2lNkiA7r0URuR7MPg4IEQ8F4z6hJWgxrv1btpspD8zzKPilntfb5ubIHS9p6tNNB+TSkHGhv26w30sHenaj7lAJYaQb8CIDOhq8cpdwIy5WjH9YuQf61809Gvn+Jnf5vjr77hMriv6Ud64qSt8t784uv6C9lfW1h0l559D5nblVs2x/n88E97mjV/moG5mV3wJVZ9aiFAS694+OfHlAGcQax4c1EiKWnhnF1SCxSRghwQVYEOT+lVajdSXCv2T1zDl9LerBjJofNsQE+PaO0fOsP8kD5IE0oiYObiqxHZ/5tLAgGo3/N5/AVCf191PUNDJc2plNUExEbeSMgO8CfR1eqgJu9s33m24ks4BXrV/jjEk6H/uPOZMn9AYC8cAg2GslLxtsgKJ1JUIPPPc5nnw6gD37FVZ5WE34EspZoylZihUgmW95cVnfbv+BTTKxw5t248IrFqExgXyhSXMJMAhL5oCuwA5PCTL8pcOTdLKS1TrHyIbQEw4aoBiZ32Vj7yuUk/9uRNk4/sOxR7ksC8cxE6ZUkreqV4Lesw+xJVSF6HSHDJ4iZfKh/3SUnc2RvQc+Z/SELhDZ38bHTsji3BB4oDozlqOXQTYiTyvrjakZlwFcKTXepLl/VMruX9xTgynRfORPm2Kd6L7UFBPGZKXjzkia1zbYYV0HmFlKDBOL+tao48KYmC5yHRRe2HDku5O5CeJw99EBA3VILcB56hYbEKF+j1qrXIaedcyMtDaF5lQiOkYsmeZUcpe1huwy9gNY26apB366mkA/ldy6BbaiLzdU6tN/j5KWJFx7AwCU8Q5Z2097VmM646Hu4kUHRyt+wnCHlrwcCwjXdAWIMLl/74F6BtmrraW6fDL/SsfZgCHg+Ydau9K4DGGSyfQFECquBX2nHvrKwE8REtMGemrsYYKPqkke12dNyIBTM5Kx3gPQ74AAA=",alt:"Team member 1",className:"isw-w-full isw-h-full isw-object-cover isw-rounded-full"})}),
/* @__PURE__ */Ie("div",{className:"isw-team-avatar",children:/* @__PURE__ */Ie("img",{src:"data:image/webp;base64,UklGRjIHAABXRUJQVlA4ICYHAADwKACdASp4AHgAPo06mUelI6KhLxVdKKARiWUAyJCvCmzup+DqF84QnY9hBtEpHkTir5vBHR8ydOVZ6IbzKEXSrzoWXG44brudfJ1YKNzCoXfi77ezx4FwPAZMq61kEVs1hl7FbHth7EJmJdx/kLLJxRKNivTFkf3zg6FdCJS9m1Dm9mw6n6sLcqi+TwpYy9FwHcwd2iBLWrbHRwa0kX3pn7WWYgOWb+uKJwy0DL+r3BOQArTREkg4/1IkNToNoDm68y0CwawNDrpf1wmR0ug0Cw2WykMKWi440oUMu/WQrJ7WiMtLmk+Z6TxKzHey+zTo3o5rwcc664UujNUu6iSc1zwyPur1Lf+O+cGIYCk9I8ffH1Rhvs60bApZBOoVWGVZCY35Wmugt1p8fTHX9Og7XUVjV6yYUfJS6qgZYM0gIf8nrQbKobOygqdSt33Cz0AA/rhPEo/9ZZGauHpu2CW2w1mH4qgRb0Guyujfqp7jfvkbQfmTXvSRubIKfNgLX8Z40qpBxTzZvN2Xr9wr9h3Z3SJxlKSAWgk1qpOZh0iBt0w9iRQ3qPi+1yi+aY8c6TERkNhAZll9r7jxzVxwlxkKAbX3oOIAIB7HxyGgyHAMVHxtPkdh6227wLKmX5VChGSl84qlQ2i7QF5/W9IWnUYdD9gGGcOtmgPfsHWUHX2ZF269VpCnEcNg4j5lka7YyZeL7PdgSVYhI396IwNh2kIW4ZPE76UqmCDWD4iDC3Bs1267pe03qoM+tuOYg+Y20lAPe/2d5OfhVVphRHMpcFyJEV7yEr6NycFMtatZSP/tq1/f2nBcWaeVihTzIK2ZfZbpalBU3o0LrAkZoa1bJa0hL/WuiILL4u68EEki99p/zMxbQMyQTn0vzdRBo7Lk3MnCEyCIFn0nEsM4u1UXJHGZwXjXIQTJ6Xgs6sGaaswvhAK+oJVPOoQbprRqh/2qyerXaTjSszMKMtDyeg6xG0xJ+C8dl6oK0+9dJhN14MwWc4WaZavI37c9YlCWXgRtMlGCI6RePMyD6j51ErGcax8KCOKDAxE07Iq7qlDvnpedH4B+RdZKcV28XRE/IdVgu0YiHY3SSgueQuT748ZeVrm+dX0TlMm4vOEv4vCmOP6Gwz+e7XJwZpVyg5uIFKaOY4ZQ6LJoKtr1x89cYdYDNc7Vkb4L/Mho7S23sLH3cBKnHVLsPvBznAMY98GM9gLleu4IpcCz3aW2S/1Ae1c+hPHtJ8ann79fQjdKeYMM+fISx1I1bwJGSux6fsFKkHV3L0OVDQDzcuR4cNkv78tLWQ6jN4LOWwLFRezqwDEpoXUe8CJL4jUiudWn5YEuPGyaCBtpjngGn0Z5nsjbQ3sl4AbG+DxsllP1LJFniFkMdNCtqyzoQpYefm44gQAWK+ESSQLnkwLq/2I30MYLLa6SnTHFC27ckaCgeb+zgpkWQMKIo5wEKVWcHUHhdqyRTsbPTcZYB6gXmJkExsnr600Dli00BDqmX21p4shfpD2UIsfNFshzIrQ0MCGqKjSqLgO9UmkCxVQVXdxRXjMb4N4VifdfJ+WWy6et+ZM6mf3OFVul9mTwIs3ymWTz1QfVvE9R3KLIQ0Msi5hCAeaKo5+mrqtmqe/QqtHDtS9NUgVb1UAIp9rih+/6/8KwA50i3Yn/mzf7mcwt7+IxwxpzSY4BdKQBqmCjiwbuFooafbOUHc3lLttdbffxn8N4yrqNdh8rVygITb9XtvRz6qxfdOPaTdDaSn69qiguvNdBYVL3qVYTEegKo34PiJI1cHmcf3AzJlo+/Zmk47XDRlVMNLgOjobxaafJzBPBV8jCZ2V1SZlh9gqTEjqMpo51RyKu761GsIoG6Mruqw76JGhslPGWTnbxDZJy7ab5Vf5dOHrbhYaKjhLBcPH6SH6XGMMTT+RsjKXu/IZ+8RWR/qLJwKvxYZVjvCnCC5n+WRtrvBOBYEG1DZpW2Geqr/nBT2jlBGBp/IThpzHffdflqrMRPfb2xgGYpjLt9vwT4L1VcmGCbes+hyICIBvB0VmsY8ufh3I0K3bfYwwEhHKfXxNwQkDCzu/VBMghUP2Krh+PTzlK781NA6mNh6qsb7uKDaFaHxICnofFLAwuQd3FZMIz8LiNXVyJuN3PYz5eAhXb+W3WtfwcX8HBOzicNqZoZxorOq9D8Sn6iYypf32rd2T0/fDyjmwIKUijq+FSyQ2NjYec4U2iDSSI/uKhwC2bENSyOrO/pWjmtHY9s7MUK+j1bLKSAY7QTRw8QxdoKGo+N0jpbJ6S5THhszI190Ryc/esI2NnC16FJQa6sCDcZ1LD++n073x6L0XMn05t+01IeSdjhWE2/ONmspLwCprIjNNUKROJPuNiI3TugM1w8Kz5wURLSDynj0QVG44eBs8x8cLiCgwClkCeiPI2w/kIxHv4nbScrrUw7pgAAAA=",alt:"Team member 2",className:"isw-w-full isw-h-full isw-object-cover isw-rounded-full"})}),
/* @__PURE__ */Ie("div",{className:"isw-team-avatar",children:/* @__PURE__ */Ie("img",{src:"data:image/webp;base64,UklGRogJAABXRUJQVlA4IHwJAADwLgCdASp4AHgAPpE8mEiloyIhKpVeILASCWUAzfSiLEhXuFWVY/BvAXzhCj2o/brPL/XeF8zrh9qK/onTJf7XlXfJeiB+taOsjwrZb3cQOJr0WLvXN+B261AbMWufwSQmilXZd5K32a7QSK0I+Fe71B1B5pL7hkcB7gXhNajjJhUgjBp1psdIqTWDnrY9Oul24MIDJ30nR9gN4h2eCqBPaSqoXHDpiRsSybSHsU3gxuiACfXyZRdcyEguCVEGfwaFNQEa0HtX96Wvw6nLpJ5OianllaChrKeGcjYyBn9dD8u7HDEeufj1XLBgVem5HQfTRxhRFC+8wn8OEzwrsoDKHrF8bRbR5DDBFVvW/of2wgfQ3jPPblxqATyIjcQNeLjXFzWQjq6mNMrmg1LRnD99/UXCtc5E72t12VgmYlMOwShHb/Vf9vOMIGSf33mldj7OrHsbyIxGOHWBvYIgmGIzz4tFb/LrPDnHQmd29FzdXTS6E/tC62boMvAeExLSBwAA90MaasHqVK2pG0xexy9af7/8EsNIKUCn6+uzO8UnnHNJHu9MuQoHypagHChYQWkNs6amb881agAXigh9EdQ47jFStUz0OsCo4PiPRUjcCMYi2edLsI4abMj8+qQSSfDMSk7hcN8Kj5zIHr4i42o5+jKmMlOHxRCZCghWkUEhY222E515BkdLRkDYv5S2mB76m6STKcWiht5LN2PM/XuIcby6ZxAlm2b9IoZVNkQI1rCFVZKNbFSn3vgY4Zl0Jy5hHrwjeH9v2zg9MMt5dAwU7qUKNdQgbs2gZm8KyvKFGiegMfjKopBW2y0YKTmQyg7IbbE5zEW/s3Ii//txuWPdSHELcqWXjG6/WUxxNRswqIwmsapVkZovuQAAVmzav2Hg26jrvhPZyYVxxdtxTcGOzzbZ9Zxbl1WG3ryXIncJl8jQh8nkaizA63TC66kOeqTl8QYEt/m1yK7ZJ3dp9yep2MOks7exZpKvM5604DfeeDIvxWqwWJNXC+DVZDHGpaX78dfZUpUqEdWR14KUlkKpAbnFC42HOZcLsPvsTGab4DoTclWyjUmWiepnuM1iLdCw2YD2k6MhJ260STROQs0bBb1Hg6cPe2kW9utydJrzlnjpD2VOCNSp3lmxrBXQsgwmj6z4JbCh5d8nmvtsyyb3OkYLejQ6dl3Z1+6o3ryJW8mAqOOmbAyZb7GpwlUJq/cXpMEwwqbAQ5V85oJjTMfZjzNWZDXO/s0CBjg7sSfEreoHMsUdvtFjqzhdXPuTYhr3odC7YeiuxyENLfP0Z9huA8uwMGPs35lovpddoX8xRwyV2Ay3L5rmaVXWmcNddQh/D7mjPyo5FdxuubrEeKeqGB5UtDrEevJ+Of7Df9I9yPYyUoYnaQ4f0Zre4KXgSmHTyucFD8qb9DjyYm89zYq8xgyDxst/D0EL+u0FuZJbv1PJiBdhvWBc59SS+JQrXmbq30ZhguZ2V1tTvWyOlD7oneifAe3z1unsumE3zEoAIWZo71W2mOPOmxQEvDhsknZXZHVgKg1JpiFVGEv1KrKuW42dOtfk1ahD0YGm/KdyH6g9JwgIjpX94zIFs00cMeldFJVdlxFFj1LSF30BtctwbMg0MJVvJvmY+AoYXT2kVmRjNxasC8l3zd6M6A5ajtsu/DLsGWzz5BGtD0VJ1i0lgSVKMJwocTGIJMhkA7yEYaeWCmWgzSpdSZDSXezLWKT+iTURBAS+gLYl9mSnq2HAb1KLfxrdkDSsy28IYs6w8DsetV9oIOvZTVQe1OaTq7IM33zmalfYqklL28tOBjhbux0j4UL1A+Vc1rov7COFrHaD+CMjFcI9qO/Zgf5XaZWNROjRLoX65kL84RpZNOuRo5a1nF5ckq28SqSmO6LIUDQ8PW49pfS2iI5+hz5xiP5rTOgYB0mtNT7SfOI8kxhL7UFXfagT1tpiveDwXYB1Gw2LB+M3PZlmeSXU86MBCO/4VHP54iWFkqFUMwqbLo5T/LI3uU75v9Ke1NRgycPKg0zAbgKadNUhM5chHEF+Bx7BlA6VW6+JwfxH8H/nhvalu9MSlVBC7Pm9D5gMTc0WUxIKcMlGOisXaKtw1HJ0KZdh9cctftz1+6U+h+L1mfdT6szzEepAgZhSFIQ0fO5bqlyxjlqZx0uSOqZbIZklAUpqw3OpupO/ZpKoGRS932DmSAyphUn2Muq9TC+OINvBhvEDy+LQrZwQpcIdYaMuKDV0TzkQK3O0Q6aRTEURTek5npEUDQkNRwuQ58nELdZzNs+FU9ER1zItL5Lgmd6SLCg1i+Q2qYxgx9O0b3dcANIXuTd5ELe7x4xb3kFp+jIdOMgtH7POcjD/LoVXeHbWGocJUqoxp69OBnrkeuJp7yOjcalzgdWhvPAD4YLkIwp3Ss5N2mCPggA80lJtf+6lbT01RJE3qcscZ8BtYlGbjd5+GdunryNHfXJoDTjh9vjZzgjqirDzyXDpUKjTkDeDFw0e17YHqzef6gtt8bINtgfVWLo8PjLj1Zo7eCHnjIcPssjFurmdkvdpFECKKC/pJDbvXf7/V2o+ya6Vlb2jsuYHAZ8aEJ6cJu+Dutn1aO37lv9iV7HUEqj+evF+ZwKNV5vzltnjxcqny9XkNr6u9Yv3QC8tgnb9kdEkthnl4R2VnDC6CoUVtUJ8Ue66e3vqkvwVnptKetmDdAuLHo5rAZhoXiUYrxfBmu7qITfjNMPWPdc0qaIey5U7f6gNSQLG5SU7S2Obx8HCaZvhvSLvxIwJsTEsja/3mJ5Ki/j4Nl055Aj0rGM9iiVXmifVz0w1HdfjknFBINFv3T0Kn4YvyaxKMoxQdNBG4ZtF2+UYVDLyWRcBtKViUVnjz8o6PpIxcDnXNO1u8zpDHIMhkiI/ZBNgqNye9seXUeaCeaemSmCFUqsnce8ltzOTQRPnyWy7uZungeZawlRo15L+Y7v12fTYLh73N4Qv4+7hkYwro9HqLEdFbaCcrgp35xlYmUZs1yK+2RHjW2AHzsbcsSh4h9VMabA8yx8qc/IRnpN1QpNcusglRi7vGoAI/hbBpxgZPEtJf2pzFvrdA+KZ9fQIqxYaUUSTx8l7XWaA6fdIaBNpzc3c9KFqZ+7v+spQ+dX4DsDBVnfGT2FmwIWUAfTeJvGfIA03bgDziEQXW2NZTUMU/uh7k229WebGmoVsHH9AEDBirAn6/HupAEecruNAfQhsr6kTjOx5TGSo2AAA",alt:"Team member 3",className:"isw-w-full isw-h-full isw-object-cover isw-rounded-full"})})]})]}),
/* @__PURE__ */Ie("div",{className:"isw-header-greeting",children:[
/* @__PURE__ */Ie("span",{className:"isw-greeting-muted",children:Ci.t("main.greeting.primary")}),
/* @__PURE__ */Ie("span",{className:"isw-greeting-normal",children:"ðŸ‘‹"}),
/* @__PURE__ */Ie("span",{className:"isw-greeting-bold",children:Ci.t("main.greeting.question")})]})]}),
/* @__PURE__ */Ie("div",{className:"isw-action-tiles-container",children:i.map(e=>/* @__PURE__ */Ie(Ha,{title:e.title,subtitle:e.subtitle,IconComponent:ma,onClick:e.onClick},e.id))})]}),
/* @__PURE__ */Ie(Wa,{})]})}),us=ne(()=>{const e=en(Gi),t=en(Qi),i=en(Xi),n=en(e=>e.goBack),a=en(e=>e.updateLastSeen),s=en(e=>e.loadRecentMessages),r=en(e=>e.markMessagesAsRead),c=en(e=>e.forceSaveConversation),l=Ga(),[d,u]=R(!1),h=O(null),m=O(null),g=(e="smooth")=>{h.current&&h.current.scrollIntoView({behavior:e})};U(()=>{(async()=>{if(l.isMounted){l.startLoading(),u(!1);try{await s(),l.setLoaded(),u(!0)}catch(e){void 0,l.setError(),u(!1)}}})()},[l.isMounted,s,l.startLoading,l.setLoaded,l.setError]),U(()=>{"loading"===l.state&&l.retryCount>0&&(async()=>{try{await s(),l.setLoaded(),u(!0)}catch(e){void 0,l.setError(),u(!1)}})()},[l.state,l.retryCount,s,l.setLoaded,l.setError]);const w=L(()=>e.filter(e=>"bot"===e.sender&&"read"!==e.status).length,[e]);return U(()=>{l.isMounted&&d&&e.length>0&&w>0&&r()},[r,l.isMounted,d,e.length,w]),U(()=>{if(l.isMounted&&e.length>0){const e=setTimeout(()=>{g("smooth")},100);return()=>clearTimeout(e)}},[e,l.isMounted,d]),U(()=>{if(d&&e.length>0){const e=setTimeout(()=>{g("smooth")},200);return()=>clearTimeout(e)}},[d,e.length]),U(()=>{if(t&&e.length>0){const e=setTimeout(()=>{g("smooth")},150);return()=>clearTimeout(e)}},[t,e.length]),U(()=>{l.isMounted&&a()},[a,l.isMounted]),U(()=>{if(l.isMounted&&e.length>0){g("auto");const e=setTimeout(()=>{g("smooth")},300);return()=>clearTimeout(e)}},[l.isMounted,e.length]),U(()=>()=>{e.length>0&&c().catch(()=>{void 0})},[c,e.length]),/* @__PURE__ */Ie("div",{className:"isw-chat-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-chat-header-compact",children:/* @__PURE__ */Ie("div",{className:"isw-chat-header-content",children:[
/* @__PURE__ */Ie("button",{onClick:n,className:"isw-chat-back-btn","aria-label":Ci.t("action.goBack"),children:/* @__PURE__ */Ie(ga,{size:18})}),
/* @__PURE__ */Ie("div",{className:"isw-chat-header-info",children:[
/* @__PURE__ */Ie("div",{className:"isw-chat-avatar-container",children:[
/* @__PURE__ */Ie("div",{className:"isw-company-avatar isw-chat-avatar",children:/* @__PURE__ */Ie(Ba,{className:"isw-company-icon",size:42})}),
/* @__PURE__ */Ie("div",{className:"isw-online-indicator"})]}),
/* @__PURE__ */Ie("div",{className:"isw-chat-title-container",children:[
/* @__PURE__ */Ie("h3",{className:"isw-chat-title",children:Ci.t("support.title")}),
/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-items-start",children:/* @__PURE__ */Ie("p",{className:"isw-chat-status",children:t?/* @__PURE__ */Ie(Qa,{}):Ja(i)})})]})]})]})}),
/* @__PURE__ */Ie("div",{className:"isw-chat-messages-container",children:/* @__PURE__ */Ie("div",{ref:m,className:"isw-chat-messages-area isw-messages-scrollable",children:[l.isLoading?/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-justify-center isw-p-4",children:/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-items-center isw-space-y-2",children:[
/* @__PURE__ */Ie("div",{className:"isw-animate-spin isw-h-5 isw-w-5 isw-border-2 isw-border-primary isw-border-t-transparent isw-rounded-full"}),
/* @__PURE__ */Ie("div",{className:"isw-text-sm isw-text-gray-500",children:Ci.t("chat.loading")})]})}):l.hasError?/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-items-center isw-justify-center isw-p-4 isw-text-center",children:[
/* @__PURE__ */Ie("div",{className:"isw-text-sm isw-text-gray-500 isw-mb-2",children:l.canRetry?Ci.t("error.connection"):Ci.t("error.loadMessagesFailed")}),l.shouldShowRetryButton&&/* @__PURE__ */Ie("button",{onClick:async()=>{l.canRetry&&l.resetRetries()},disabled:l.isRetrying,className:"isw-text-xs isw-text-primary isw-underline isw-disabled:opacity-50",children:l.isRetrying?Ci.t("action.retrying"):Ci.t("action.retry")}),l.isRetrying&&/* @__PURE__ */Ie("div",{className:"isw-text-xs isw-text-gray-400 isw-mt-1",children:Ci.t("error.autoRetryProgress",{retryCount:l.retryCount})})]}):/* @__PURE__ */Ie(o,{children:[0===e.length&&!l.isLoading&&d&&/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-justify-center isw-p-4",children:/* @__PURE__ */Ie("div",{className:"isw-text-sm isw-text-gray-500 isw-text-center",children:[Ci.t("chat.welcome.cta"),
/* @__PURE__ */Ie("div",{className:"isw-text-xs isw-text-gray-400 isw-mt-1",children:Ci.t("chat.welcome.instruction")})]})}),
/* @__PURE__ */Ie(Ka,{messages:e})]}),
/* @__PURE__ */Ie("div",{ref:h})]})}),
/* @__PURE__ */Ie(Za,{})]})}),hs=ne(()=>{const[e,t]=D(De,es),i=O(!1),n=O(!0),a=O(null),s=O(null),o=V(()=>{a.current&&(clearTimeout(a.current),a.current=null),s.current&&(clearTimeout(s.current),s.current=null)},[]),r=V(e=>{o(),a.current=setTimeout(()=>{n.current&&(void 0,t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))},e)},[o]),c=V(()=>{$a.setSessionOptions({})},[]),l=V(()=>{if(i.current)return;const e={onStatusChange:e=>{n.current&&(t({type:"SET_STATUS",payload:e}),o())},onModeChange:e=>{n.current&&t({type:"SET_AGENT_MODE",payload:e.mode})},onError:e=>{if(!n.current)return;void 0,o();let i=e.message;e.message.toLowerCase().includes("microphone permission")?i=Ci.t("errors.microphonePermission"):e.message.toLowerCase().includes("agent id")||e.message.toLowerCase().includes("not configured")?i=Ci.t("errors.notConfigured"):(e.message.toLowerCase().includes("auth")||e.message.toLowerCase().includes("failed"))&&(i=Ci.t("errors.connectionFailed")),t({type:"SET_ERROR",payload:i})},onConnect:()=>{n.current&&t({type:"RESET_RETRY"})},onDisconnect:()=>{n.current&&o()}};$a.setCallbacks(e),i.current=!0},[o]);U(()=>{c(),l();const e=Ya.isSupported(),i=$a.isAvailable();t({type:"SET_AVAILABILITY",payload:{isSupported:e,isConfigured:i}});const a=$a.getStatus();return t({type:"SET_STATUS",payload:a}),()=>{n.current=!1,o(),"connected"===$a.getStatus()&&$a.endConversation().catch(console.error)}},[c,l,o]);const d=V(async()=>{if("idle"!==e.operation||$a.isOperationInProgress())return void 0,void 0;t({type:"SET_OPERATION",payload:"starting"}),t({type:"CLEAR_ERROR"}),r(3e4);try{await $a.startConversation()}catch(i){void 0,n.current&&(t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))}},[e.operation,r]),u=V(async()=>{if("idle"!==e.operation||$a.isOperationInProgress())return void 0,void 0;t({type:"SET_OPERATION",payload:"ending"}),r(15e3);try{await $a.endConversation()}catch(i){void 0,n.current&&(t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))}},[e.operation,r]),h=V(async()=>{if(e.retryCount>=3)return t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}),void 0;t({type:"INCREMENT_RETRY"});const i=Math.min(1e3*Math.pow(2,e.retryCount),1e4);s.current=setTimeout(()=>{n.current&&d()},i)},[e.retryCount,d]),m=V(()=>{if("idle"===e.operation)return e.isSupported?e.isConfigured?("connected"===e.status?u():"disconnected"!==e.status&&"error"!==e.status||("error"===e.status&&e.error?h():d()),void 0):(t({type:"SET_ERROR",payload:Ci.t("errors.notConfigured")}),void 0):(t({type:"SET_ERROR",payload:Ci.t("errors.unsupported")}),void 0)},[e.operation,e.isSupported,e.isConfigured,e.status,e.error,d,u,h]),g=V(()=>{"idle"===e.operation&&"disconnected"===e.status&&e.isSupported&&e.isConfigured&&d()},[e.operation,e.status,e.isSupported,e.isConfigured,d]),w=()=>{if("starting"===e.operation)return Ci.t("call.connecting");if("ending"===e.operation)return"Ending call...";switch(e.status){case"connecting":return Ci.t("call.connecting");case"connected":return Ci.t("call.end");case"error":return e.retryCount>=3?"Call failed":"Retry";default:return Ci.t("call.start")}},p=()=>!e.isSupported||!e.isConfigured||"idle"!==e.operation||$a.isOperationInProgress()||"error"===e.status&&e.retryCount>=3;/* @__PURE__ */
return Ie("div",{className:"isw-call-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-call-header",children:/* @__PURE__ */Ie("div",{className:"isw-call-header-content",children:/* @__PURE__ */Ie("div",{className:"isw-call-header-inner",children:/* @__PURE__ */Ie("h2",{className:"isw-call-title",children:Ci.t("call.title")})})})}),
/* @__PURE__ */Ie("div",{className:"isw-call-content",children:[
/* @__PURE__ */Ie("div",{className:"isw-call-microphone-area",children:/* @__PURE__ */Ie("div",{className:(()=>{const t="isw-microphone-circle";if(!e.isSupported||!e.isConfigured)return"".concat(t," isw-microphone-circle--disabled");if("starting"===e.operation)return"".concat(t," isw-microphone-circle--connecting");if("ending"===e.operation)return"".concat(t," isw-microphone-circle--ending");switch(e.status){case"connecting":return"".concat(t," isw-microphone-circle--connecting");case"connected":return"speaking"===e.agentMode?"".concat(t," isw-microphone-circle--speaking"):"".concat(t," isw-microphone-circle--connected");case"error":return"".concat(t," isw-microphone-circle--error");default:return"".concat(t," isw-microphone-circle--idle")}})(),onClick:g,role:"button",tabIndex:0,"aria-label":"disconnected"===e.status?Ci.t("call.start"):Ci.t("call.connected"),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),g())},children:[
/* @__PURE__ */Ie(ba,{size:48,className:"isw-call-microphone-icon"}),("idle"!==e.operation||"connecting"===e.status)&&/* @__PURE__ */Ie("div",{className:"isw-call-microphone-loading",children:/* @__PURE__ */Ie("div",{className:"isw-call-microphone-loading-ring"})})]})}),e.error&&/* @__PURE__ */Ie("div",{className:"isw-call-error-message",role:"alert",children:[
/* @__PURE__ */Ie("p",{className:"isw-call-error-text",children:e.error}),"error"===e.status&&e.retryCount<3&&/* @__PURE__ */Ie("button",{className:"isw-call-retry-button",onClick:h,disabled:"idle"!==e.operation,children:"Retry"})]}),!e.isSupported&&/* @__PURE__ */Ie("div",{className:"isw-call-warning-message",role:"alert",children:/* @__PURE__ */Ie("p",{className:"isw-call-warning-text",children:Ci.t("errors.unsupported")})}),!e.isConfigured&&/* @__PURE__ */Ie("div",{className:"isw-call-warning-message",role:"alert",children:/* @__PURE__ */Ie("p",{className:"isw-call-warning-text",children:Ci.t("errors.notConfigured")})}),
/* @__PURE__ */Ie("div",{className:"isw-call-action-area",children:[
/* @__PURE__ */Ie("button",{onClick:m,disabled:p(),className:(()=>{const t="isw-call-action-button";return p()?"".concat(t," isw-call-action-button--disabled"):"starting"===e.operation?"".concat(t," isw-call-action-button--connecting"):"ending"===e.operation?"".concat(t," isw-call-action-button--ending"):"connected"===e.status?"".concat(t," isw-call-action-button--end"):"error"===e.status?"".concat(t," isw-call-action-button--retry"):"".concat(t," isw-call-action-button--start")})(),"aria-label":w(),children:[
/* @__PURE__ */Ie("span",{children:w()}),
/* @__PURE__ */Ie(Ca,{size:18,className:"isw-call-phone-icon"})]}),
/* @__PURE__ */Ie("p",{className:"isw-call-status-text",role:"status","aria-live":"polite",children:(()=>{if("starting"===e.operation)return Ci.t("call.connecting");if("ending"===e.operation)return"Ending call...";switch(e.status){case"connecting":return Ci.t("call.connecting");case"connected":return Ci.t("call.connected");case"error":return e.error||Ci.t("errors.connectionFailed");default:return Ci.t("call.instructions")}})()}),e.retryCount>0&&/* @__PURE__ */Ie("p",{className:"isw-call-retry-count",children:["Retry attempt ",e.retryCount," of 3"]})]})]}),
/* @__PURE__ */Ie(Wa,{activeView:"call"})]})}),ms=ne(()=>{const{config:e,setView:t}=en(),i=en(e=>e.schedulePreloadState),[n,a]=R(null),[s,o]=R(!0),[r,c]=R(null),[l,d]=R(!1),u=null==e?void 0:e.calendar_embedding_code,h=V(()=>{t("chat")},[t]),m=V(e=>{c({message:e.message,type:"unknown"})},[]);return U(()=>{let e=!1;return(async()=>{if("ready"===i)try{const{getPreloadManager:t}=await Promise.resolve().then(()=>ia),i=t().getScheduleData();i&&!e&&(a(i),d(!0),o(!1))}catch(t){e}})(),()=>{e=!0}},[i]),U(()=>((async()=>{if(!l||!n){if(!u)return o(!1),void 0;o(!0),c(null);try{const{parseCalendarEmbeddingCodeOrUrl:e}=await Promise.resolve().then(()=>$n),t=e(u);a(t),await Xn(t.service),d(!0)}catch(e){const t=e;c({message:t.message,type:t.message.includes("script")||t.message.includes("load")?"script":t.message.includes("Invalid")||t.message.includes("URL")?"config":"unknown"})}finally{o(!1)}}})(),()=>{try{Yn()}catch(e){void 0}}),[u,l,n]),/* @__PURE__ */Ie("div",s?{className:"isw-schedule-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-schedule-header",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-content",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-inner",children:/* @__PURE__ */Ie("h2",{className:"isw-schedule-title",children:Ci.t("schedule.title")})})})}),
/* @__PURE__ */Ie("div",{className:"isw-schedule-content-area",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-loading",children:[
/* @__PURE__ */Ie("div",{className:"isw-loading-spinner"}),
/* @__PURE__ */Ie("p",{className:"isw-loading-text",children:Ci.t("schedule.loading")})]})}),
/* @__PURE__ */Ie(Wa,{activeView:"schedule"})]}:r?{className:"isw-schedule-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-schedule-header",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-content",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-inner",children:/* @__PURE__ */Ie("h2",{className:"isw-schedule-title",children:Ci.t("schedule.title")})})})}),
/* @__PURE__ */Ie("div",{className:"isw-schedule-content-area",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-error-state",children:/* @__PURE__ */Ie("div",{className:"isw-error-state-content",children:[
/* @__PURE__ */Ie("div",{className:"isw-error-state-icon",children:/* @__PURE__ */Ie("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",className:"isw-w-16 isw-h-16",children:[
/* @__PURE__ */Ie("circle",{cx:"12",cy:"12",r:"10"}),
/* @__PURE__ */Ie("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),
/* @__PURE__ */Ie("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})}),
/* @__PURE__ */Ie("h2",{className:"isw-error-state-title",children:Ci.t("schedule.error.title")}),
/* @__PURE__ */Ie("p",{className:"isw-error-state-description",children:r.message}),
/* @__PURE__ */Ie("div",{className:"isw-error-state-actions",children:[
/* @__PURE__ */Ie("button",{onClick:h,className:"isw-error-state-button",type:"button",children:Ci.t("schedule.action.contactSupport")}),
/* @__PURE__ */Ie("button",{onClick:()=>window.location.reload(),className:"isw-error-state-button isw-error-button-secondary",type:"button",children:Ci.t("schedule.action.tryAgain")})]})]})})}),
/* @__PURE__ */Ie(Wa,{activeView:"schedule"})]}:u&&n?{className:"isw-schedule-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-schedule-header",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-content",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-inner",children:/* @__PURE__ */Ie("h2",{className:"isw-schedule-title",children:Ci.t("schedule.title")})})})}),
/* @__PURE__ */Ie("div",{className:"isw-schedule-content-area",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-embed-area",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-embed-container",children:l&&/* @__PURE__ */Ie(rs,{scheduleData:n,onError:m})})})}),
/* @__PURE__ */Ie(Wa,{activeView:"schedule"})]}:{className:"isw-schedule-window",children:[
/* @__PURE__ */Ie("div",{className:"isw-schedule-header",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-content",children:/* @__PURE__ */Ie("div",{className:"isw-schedule-header-inner",children:/* @__PURE__ */Ie("h2",{className:"isw-schedule-title",children:Ci.t("schedule.title")})})})}),
/* @__PURE__ */Ie("div",{className:"isw-schedule-content-area",children:/* @__PURE__ */Ie(ts,{onContactSupport:h})}),
/* @__PURE__ */Ie(Wa,{activeView:"schedule"})]})}),gs=()=>{const{isOpen:e,currentView:t,config:i,isFullScreen:n,closeWidget:a}=en(ls),s=L(()=>(null==i?void 0:i.position)||"bottom-right",[null==i?void 0:i.position]),o=V(()=>{a()},[a]),r=L(()=>Re("isw-widget-container",!n&&cs[s],n&&"isw-widget-container-fullscreen","isw-widget-zoom-in"),[n,s]),c=L(()=>Re("isw-widget-frame",n&&"isw-widget-frame-fullscreen"),[n]),l=V((n,a)=>{const s=t===n,o=s||"chat"===n&&"main"===t||"schedule"===n&&e&&(null==i?void 0:i.calendar_embedding_code);/* @__PURE__ */
return Ie("div",{className:Re("isw-page","isw-page-".concat(n),s?"isw-page-active":"isw-page-inactive",!s&&o&&"isw-page-hidden"),children:o&&a})},[t,e,null==i?void 0:i.calendar_embedding_code]);return e?/* @__PURE__ */Ie("div",{className:r,children:[n&&/* @__PURE__ */Ie("button",{onClick:o,className:"isw-mobile-close-button","aria-label":Ci.t("action.close"),type:"button",children:/* @__PURE__ */Ie(ra,{size:20})}),
/* @__PURE__ */Ie("div",{className:c,children:/* @__PURE__ */Ie("div",{className:"isw-pages-container",children:[l("main",/* @__PURE__ */Ie(ds,{})),l("chat",/* @__PURE__ */Ie(us,{})),l("call",/* @__PURE__ */Ie(hs,{})),l("schedule",/* @__PURE__ */Ie(ms,{}))]})}),
/* @__PURE__ */Ie("a",{href:"https://isales.ai?utm_source=widget",target:"_blank",rel:"noopener noreferrer",className:"isw-powered-by","aria-label":"".concat(Ci.t("footer.poweredBy")," - Opens in new tab"),children:Ci.t("footer.poweredBy")})]}):null},ws=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,WidgetContainer:()=>{const e=O(null);return U(()=>{const t=e.current;if(!t)return;const i=e=>{e.stopPropagation()},n=["click","keydown","focus","blur"];return n.forEach(e=>{t.addEventListener(e,i)}),()=>{n.forEach(e=>{t.removeEventListener(e,i)})}},[]),/* @__PURE__ */Ie(Oa,{fallback:/* @__PURE__ */Ie("div",{className:"isw-error-container",children:/* @__PURE__ */Ie("div",{className:"isw-error-content",children:[
/* @__PURE__ */Ie("p",{className:"isw-error-message",children:"Widget temporarily unavailable"}),
/* @__PURE__ */Ie("button",{onClick:()=>window.location.reload(),className:"isw-error-button",type:"button",children:"Reload"})]})}),children:/* @__PURE__ */Ie("div",{ref:e,className:"isw-widget-isolation","data-widget-version":"1.0.0",role:"dialog","aria-modal":"true","aria-label":"Customer Support Widget",children:/* @__PURE__ */Ie(gs,{})})})}},Symbol.toStringTag,{value:"Module"})),ps={status:"disconnected",agentMode:"listening",operation:"idle",error:null,isSupported:!0,isConfigured:!0,retryCount:0},fs=({stream:e,height:t=60,color:i})=>{const n=O(null),a=O(),s=O(),o=O(),r=O([]),c=O(0);return U(()=>{if(!e||!n.current)return;const t=n.current,l=t.getContext("2d");if(!l)return;const d=window.devicePixelRatio||1,u=t.getBoundingClientRect();t.width=u.width*d,t.height=u.height*d,l.scale(d,d);const h=new(window.AudioContext||window.webkitAudioContext),m=h.createAnalyser(),g=h.createMediaStreamSource(e);m.fftSize=2048,m.smoothingTimeConstant=.85,g.connect(m),o.current=h,s.current=m;const w=m.frequencyBinCount,p=new Uint8Array(w);r.current=[];const f=()=>{if(!l||!m)return;a.current=requestAnimationFrame(f),c.current++;const e=Math.floor(u.width/1.5);if(c.current%5==0){const t=(()=>{m.getByteFrequencyData(p);let e=0;const t=Math.floor(.3*w);for(let i=0;i<t;i++)e+=p[i];return e/t/255})();r.current.push(t),r.current.length>e&&r.current.shift()}l.clearRect(0,0,u.width,u.height);const t=i||("dark"===document.documentElement.getAttribute("data-theme")?"#ffffff":"#000000"),n=u.height/2,s=2*u.height,o=r.current.length;for(let i=0;i<o;i++){const e=r.current[i]*s,a=u.width-1.5*(o-i),c=n-e/2;l.fillStyle=t,l.globalAlpha=.9,l.fillRect(a,c,1,e)}};return f(),()=>{a.current&&cancelAnimationFrame(a.current),o.current&&o.current.close(),r.current=[],c.current=0}},[e,t,i]),/* @__PURE__ */Ie("canvas",{ref:n,className:"isw-audio-visualizer",style:{width:"100%",height:"".concat(t,"px")},"aria-label":"Audio waveform visualizer"})},vs=({value:e,onChange:t,onSend:i,onFocus:n,onBlur:a,onKeyDown:s,placeholder:o="Ask me anything...",isFocused:r,isDisabled:c=!1,enableCall:l=!1})=>{const d=O(null),{state:u,startCall:h,endCall:m,retryCall:g}=function(){const[e,t]=D(Ue,ps),i=O(!1),n=O(!0),a=O(null),s=O(null),o=V(()=>{a.current&&(clearTimeout(a.current),a.current=null),s.current&&(clearTimeout(s.current),s.current=null)},[]),r=V(e=>{o(),a.current=setTimeout(()=>{n.current&&(void 0,t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))},e)},[o]),c=V(()=>{$a.setSessionOptions({})},[]),l=V(()=>{if(i.current)return;const e={onStatusChange:e=>{n.current&&(t({type:"SET_STATUS",payload:e}),o())},onModeChange:e=>{n.current&&t({type:"SET_AGENT_MODE",payload:e.mode})},onError:e=>{if(!n.current)return;void 0,o();let i=e.message;e.message.toLowerCase().includes("microphone permission")?i=Ci.t("errors.microphonePermission"):e.message.toLowerCase().includes("agent id")||e.message.toLowerCase().includes("not configured")?i=Ci.t("errors.notConfigured"):(e.message.toLowerCase().includes("auth")||e.message.toLowerCase().includes("failed"))&&(i=Ci.t("errors.connectionFailed")),t({type:"SET_ERROR",payload:i})},onConnect:()=>{n.current&&t({type:"RESET_RETRY"})},onDisconnect:()=>{n.current&&o()}};$a.setCallbacks(e),i.current=!0},[o]);U(()=>{c(),l();const e=Ya.isSupported(),i=$a.isAvailable();t({type:"SET_AVAILABILITY",payload:{isSupported:e,isConfigured:i}});const a=$a.getStatus();return t({type:"SET_STATUS",payload:a}),()=>{n.current=!1,o(),"connected"===$a.getStatus()&&$a.endConversation().catch(console.error)}},[c,l,o]);const d=V(async()=>{if("idle"!==e.operation||$a.isOperationInProgress())return void 0,void 0;t({type:"SET_OPERATION",payload:"starting"}),t({type:"CLEAR_ERROR"}),r(3e4);try{await $a.startConversation()}catch(i){void 0,n.current&&(t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))}},[e.operation,r]),u=V(async()=>{if("idle"!==e.operation||$a.isOperationInProgress())return void 0,void 0;t({type:"SET_OPERATION",payload:"ending"}),r(15e3);try{await $a.endConversation()}catch(i){void 0,n.current&&(t({type:"SET_OPERATION",payload:"idle"}),t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}))}},[e.operation,r]),h=V(async()=>{if(e.retryCount>=3)return t({type:"SET_ERROR",payload:Ci.t("errors.connectionFailed")}),void 0;t({type:"INCREMENT_RETRY"});const i=Math.min(1e3*Math.pow(2,e.retryCount),1e4);s.current=setTimeout(()=>{n.current&&d()},i)},[e.retryCount,d]);return{state:e,startCall:d,endCall:u,retryCall:h}}(),[w,p]=R(null);U(()=>{if("connected"===u.status){const e=$a.getMediaStream();p(e)}else p(null)},[u.status]);const f=V(()=>{const e=d.current;if(!e)return;e.style.height="auto";const t=Math.min(e.scrollHeight,120);e.style.height="".concat(t,"px")},[]);U(()=>{f()},[e,f]);const v=V(()=>{if("idle"===u.operation)return u.isSupported&&u.isConfigured?("connected"===u.status?m():"disconnected"!==u.status&&"error"!==u.status||("error"===u.status&&u.error?g():h()),void 0):(void 0,void 0)},[u,h,m,g]),y=()=>"connected"===u.status?Ci.t("call.end"):"connecting"===u.status||"starting"===u.operation?Ci.t("call.connecting"):"error"===u.status?"Retry call":Ci.t("modern.tooltip.call"),b=e.trim().length>0&&!c;/* @__PURE__ */
return Ie("div",{className:"isw-modern-input-bar ".concat(r?"isw-focused":""),children:[
/* @__PURE__ */Ie("div",{className:"isw-modern-bot-icon",children:/* @__PURE__ */Ie(Ba,{size:24,fallback:/* @__PURE__ */Ie(ya,{size:24})})}),"connected"===u.status?
/* @__PURE__ */Ie("div",{className:"isw-modern-visualizer-container",children:/* @__PURE__ */Ie(fs,{stream:w,height:40})}):
/* @__PURE__ */Ie("textarea",{ref:d,className:"isw-modern-input-field",value:e,onInput:e=>{const i=e.target;t(i.value)},onFocus:n,onBlur:a,onKeyDown:e=>s(e),placeholder:o,disabled:c,rows:1,"aria-label":Ci.t("modern.input.aria_label")}),
/* @__PURE__ */Ie("div",{className:"isw-modern-actions",children:[
/* @__PURE__ */Ie("button",{className:"isw-modern-action-btn isw-modern-send-btn ".concat(b?"":"isw-disabled"),onClick:i,disabled:!b,"aria-label":Ci.t("modern.tooltip.send"),title:Ci.t("modern.tooltip.send"),type:"button",children:/* @__PURE__ */Ie("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:/* @__PURE__ */Ie("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.83957 3.86061C3.67792 3.79266 3.49958 3.77484 3.32768 3.80947C3.15578 3.8441 2.99826 3.92958 2.87553 4.05482C2.7528 4.18007 2.67053 4.3393 2.63939 4.51186C2.60826 4.68443 2.62969 4.86237 2.7009 5.02261L6.3094 13.1251H15.1667C15.3988 13.1251 15.6214 13.2173 15.7855 13.3814C15.9495 13.5455 16.0417 13.768 16.0417 14.0001C16.0417 14.2322 15.9495 14.4547 15.7855 14.6188C15.6214 14.7829 15.3988 14.8751 15.1667 14.8751H6.3094L2.7009 22.9776C2.62969 23.1378 2.60826 23.3158 2.63939 23.4884C2.67053 23.6609 2.7528 23.8201 2.87553 23.9454C2.99826 24.0706 3.15578 24.1561 3.32768 24.1907C3.49958 24.2254 3.67792 24.2076 3.83957 24.1396L26.0062 14.8063C26.1648 14.7394 26.3001 14.6272 26.3952 14.4838C26.4903 14.3404 26.5411 14.1722 26.5411 14.0001C26.5411 13.828 26.4903 13.6598 26.3952 13.5164C26.3001 13.373 26.1648 13.2608 26.0062 13.1939L3.83957 3.86061Z",fill:"currentColor"})})}),l&&/* @__PURE__ */Ie("button",{className:(()=>{const e="isw-modern-action-btn isw-modern-call-btn";return u.isSupported&&u.isConfigured?"starting"===u.operation||"connecting"===u.status?"".concat(e," isw-call-connecting"):"ending"===u.operation?"".concat(e," isw-call-ending"):"connected"===u.status?"".concat(e," isw-call-connected"):"error"===u.status?"".concat(e," isw-call-error"):"".concat(e," isw-call-idle"):"".concat(e," isw-call-disabled")})(),onClick:v,disabled:"idle"!==u.operation||!u.isSupported||!u.isConfigured,"aria-label":y(),title:y(),type:"button",children:["connected"===u.status?/* @__PURE__ */Ie("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[
/* @__PURE__ */Ie("path",{d:"M20.4444 3L16 7.44469M16 3L20.4444 7.44469",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),
/* @__PURE__ */Ie("path",{d:"M18.3279 22.5001C17.4129 22.5001 16.1276 22.1691 14.2029 21.0938C11.8624 19.7813 10.0521 18.5696 7.72432 16.2479C5.47995 14.0049 4.38776 12.5527 2.85917 9.77115C1.13229 6.63052 1.42667 4.98427 1.75573 4.28068C2.1476 3.43974 2.72604 2.93677 3.4737 2.43755C3.89836 2.15932 4.34776 1.92081 4.8162 1.72505C4.86307 1.7049 4.90667 1.68568 4.94557 1.66833C5.1776 1.5638 5.52917 1.40583 5.97448 1.57458C6.27167 1.68615 6.53698 1.91443 6.95229 2.32458C7.80401 3.16458 8.96792 5.03537 9.39729 5.95412C9.68557 6.57333 9.87635 6.98208 9.87682 7.44052C9.87682 7.97724 9.60682 8.39115 9.27917 8.83787C9.21776 8.92177 9.15682 9.00193 9.09776 9.07974C8.74104 9.54849 8.66276 9.68396 8.71432 9.92583C8.81885 10.4119 9.59839 11.859 10.8795 13.1372C12.1606 14.4155 13.5659 15.1458 14.0539 15.2499C14.306 15.3038 14.4443 15.2222 14.9281 14.8529C14.9974 14.7999 15.0687 14.7451 15.1432 14.6902C15.6429 14.3185 16.0376 14.0555 16.5617 14.0555H16.5645C17.0206 14.0555 17.411 14.2533 18.0579 14.5796C18.9017 15.0052 20.8287 16.1541 21.6739 17.0068C22.0849 17.4211 22.3142 17.6855 22.4262 17.9822C22.5949 18.429 22.436 18.7791 22.3324 19.0135C22.3151 19.0524 22.2959 19.0951 22.2757 19.1424C22.0784 19.61 21.8385 20.0585 21.559 20.4821C21.0607 21.2274 20.5559 21.8044 19.7131 22.1968C19.2803 22.4015 18.8067 22.5052 18.3279 22.5001Z",fill:"currentColor"})]}):/* @__PURE__ */Ie("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:/* @__PURE__ */Ie("path",{d:"M18.3279 22.5001C17.4129 22.5001 16.1276 22.1691 14.2029 21.0938C11.8624 19.7813 10.0521 18.5696 7.72432 16.2479C5.47995 14.0049 4.38776 12.5527 2.85917 9.77115C1.13229 6.63052 1.42667 4.98427 1.75573 4.28068C2.1476 3.43974 2.72604 2.93677 3.4737 2.43755C3.89836 2.15932 4.34776 1.92081 4.8162 1.72505C4.86307 1.7049 4.90667 1.68568 4.94557 1.66833C5.1776 1.5638 5.52917 1.40583 5.97448 1.57458C6.27167 1.68615 6.53698 1.91443 6.95229 2.32458C7.80401 3.16458 8.96792 5.03537 9.39729 5.95412C9.68557 6.57333 9.87635 6.98208 9.87682 7.44052C9.87682 7.97724 9.60682 8.39115 9.27917 8.83787C9.21776 8.92177 9.15682 9.00193 9.09776 9.07974C8.74104 9.54849 8.66276 9.68396 8.71432 9.92583C8.81885 10.4119 9.59839 11.859 10.8795 13.1372C12.1606 14.4155 13.5659 15.1458 14.0539 15.2499C14.306 15.3038 14.4443 15.2222 14.9281 14.8529C14.9974 14.7999 15.0687 14.7451 15.1432 14.6902C15.6429 14.3185 16.0376 14.0555 16.5617 14.0555H16.5645C17.0206 14.0555 17.411 14.2533 18.0579 14.5796C18.9017 15.0052 20.8287 16.1541 21.6739 17.0068C22.0849 17.4211 22.3142 17.6855 22.4262 17.9822C22.5949 18.429 22.436 18.7791 22.3324 19.0135C22.3151 19.0524 22.2959 19.0951 22.2757 19.1424C22.0784 19.61 21.8385 20.0585 21.559 20.4821C21.0607 21.2274 20.5559 21.8044 19.7131 22.1968C19.2803 22.4015 18.8067 22.5052 18.3279 22.5001Z",fill:"currentColor"})}),("starting"===u.operation||"connecting"===u.status)&&/* @__PURE__ */Ie("div",{className:"isw-call-loading-ring"})]})]})]})},ys=({questions:e,onQuestionClick:t})=>0===e.length?null:/* @__PURE__ */Ie("div",{className:"isw-suggested-questions isw-visible",children:/* @__PURE__ */Ie("div",{className:"isw-suggested-questions-list",children:e.map((e,i)=>/* @__PURE__ */Ie("button",{className:"isw-suggested-question",onClick:()=>t(e),type:"button",children:e},i))})}),bs=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,InputBar:vs,ModernChatInput:({onSendMessage:e})=>{const t=en(e=>e.modernUI.suggestedQuestions),i=en(e=>e.setModernInputFocused),n=en(e=>e.isTypingBot),a=en(e=>e.modernUI.chatWindowOpen),s=en(e=>e.messages.length),[o,r]=R(""),[c,l]=R(!1),d=O(null),u=O(null),h=V(()=>{u.current&&(clearTimeout(u.current),u.current=null),l(!0),i(!0);const e=en.getState();e.messages.length>0&&(e.openWidget(),en.setState(e=>({modernUI:{...e.modernUI,chatWindowOpen:!0}})))},[i]),m=V(()=>{u.current=setTimeout(()=>{o.trim()||(l(!1),i(!1))},200)},[o,i]),g=V(()=>{o.trim()&&!n&&(e(o.trim()),r(""))},[o,n,e]),w=V(t=>{e(t),en.getState().openWidget(),en.setState(e=>({modernUI:{...e.modernUI,chatWindowOpen:!0}}))},[e]),p=V(e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(e.preventDefault(),e.target.blur()):(e.preventDefault(),g())},[g]);U(()=>()=>{u.current&&clearTimeout(u.current)},[]);const f=Ci.t("modern.input.placeholder"),v=c&&t.length>0&&0===s;/* @__PURE__ */
return Ie("div",{ref:d,className:"isw-modern-input-container ".concat(c||a?"isw-expanded":""),children:[v&&/* @__PURE__ */Ie(ys,{questions:t,onQuestionClick:w}),
/* @__PURE__ */Ie(vs,{value:o,onChange:r,onSend:g,onFocus:h,onBlur:m,onKeyDown:p,placeholder:f,isFocused:c,isDisabled:n,enableCall:!0}),
/* @__PURE__ */Ie("a",{href:"https://isales.ai?utm_source=widget",target:"_blank",rel:"noopener noreferrer",className:"isw-powered-by","aria-label":"".concat(Ci.t("footer.poweredBy")," - Opens in new tab"),children:Ci.t("footer.poweredBy")})]})},SuggestedQuestions:ys},Symbol.toStringTag,{value:"Module"})),Cs=({title:e,subtitle:t,onClose:i})=>{const n=en(e=>e.config),a=[{icon:fa,label:"WhatsApp",link:null==n?void 0:n.whatsapp},{icon:pa,label:"Instagram",link:null==n?void 0:n.instagram},{icon:wa,label:"Telegram",link:null==n?void 0:n.telegram},{icon:Sa,label:"WeChat",link:null==n?void 0:n.wechat},{icon:Ma,label:"LINE",link:null==n?void 0:n.line},{icon:ka,label:"Facebook",link:null==n?void 0:n.facebook},{icon:Ta,label:"Discord",link:null==n?void 0:n.discord},{icon:Na,label:"Email",link:(null==n?void 0:n.email)?n.email.startsWith("mailto:")?n.email:"mailto:".concat(n.email):void 0},{icon:Aa,label:"Phone",link:(null==n?void 0:n.phone)?n.phone.startsWith("tel:")?n.phone:"tel:".concat(n.phone):void 0}].filter(e=>e.link);/* @__PURE__ */
return Ie("div",{className:"isw-modern-chat-header",children:[
/* @__PURE__ */Ie("div",{className:"isw-modern-chat-header-info",children:[
/* @__PURE__ */Ie("div",{className:"isw-modern-header-logo",children:/* @__PURE__ */Ie(Ba,{size:32,fallback:/* @__PURE__ */Ie(ya,{size:32})})}),
/* @__PURE__ */Ie("div",{className:"isw-modern-header-text",children:[
/* @__PURE__ */Ie("div",{className:"isw-modern-chat-title",children:e}),t&&/* @__PURE__ */Ie("div",{className:"isw-modern-chat-subtitle",children:t})]})]}),a.length>0&&/* @__PURE__ */Ie("div",{className:"isw-modern-social-icons",children:a.map(e=>/* @__PURE__ */Ie("button",{className:"isw-modern-social-icon",onClick:()=>{return t=e.link,void window.open(t,"_blank","noopener,noreferrer");var t},"aria-label":e.label,title:e.label,type:"button",children:/* @__PURE__ */Ie(e.icon,{size:20})},e.label))}),
/* @__PURE__ */Ie("div",{className:"isw-modern-header-actions",children:/* @__PURE__ */Ie("button",{className:"isw-modern-header-btn",onClick:i,"aria-label":Ci.t("modern.tooltip.close"),title:Ci.t("modern.tooltip.close"),type:"button",children:/* @__PURE__ */Ie("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[
/* @__PURE__ */Ie("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),
/* @__PURE__ */Ie("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]})},Ss=e=>e?Ci.formatRelativeTime(e):Ci.t("status.online"),Ms=()=>{const[e,t]=R(0);U(()=>{const e=setInterval(()=>{t(e=>(e+1)%4)},500);return()=>clearInterval(e)},[]);const i=".".repeat(e);/* @__PURE__ */
return Ie("span",{className:"isw-typing-indicator-text",children:[Ci.t("chat.typingSimple"),i&&/* @__PURE__ */Ie("span",{className:"isw-typing-dots",children:i})]})},ks=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ChatHeader:Cs,ModernChatWindow:({isOpen:e,onMinimize:t,onClose:i,title:n})=>{const[a,s]=R(!1),[r,c]=R(e),l=O(null),d=en(Gi),u=en(Qi),h=en(Xi),m=en(e=>e.loadRecentMessages),g=en(e=>e.markMessagesAsRead),w=en(e=>e.forceSaveConversation),p=Ga(),[f,v]=R(!1),y=O(null),b=O(null);U(()=>{if(e)c(!0),s(!1);else if(r){s(!0);const e=setTimeout(()=>{c(!1),s(!1)},300);return()=>clearTimeout(e)}},[e,r]),U(()=>{const i=i=>{if(!e||a)return;const n=i.target;l.current&&l.current.contains(n)||n.closest(".isw-modern-input-container")||t()};return e&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[e,a,t]),U(()=>{const i=i=>{"Escape"===i.key&&e&&!a&&t()};return e&&document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[e,a,t]),U(()=>{e&&(async()=>{if(p.isMounted&&e&&!(f&&d.length>0)){p.startLoading(),v(!1);try{await m(),p.setLoaded(),v(!0)}catch(t){void 0,p.setError(),v(!1)}}})()},[e,m]),U(()=>{"loading"===p.state&&p.retryCount>0&&(async()=>{try{await m(),p.setLoaded(),v(!0)}catch(e){void 0,p.setError(),v(!1)}})()},[p.state,p.retryCount,m]);const C=(e="smooth")=>{"auto"===e&&b.current?b.current.scrollTop=b.current.scrollHeight:y.current&&y.current.scrollIntoView({behavior:"smooth"})};U(()=>{if(p.isMounted&&d.length>0&&e){const e=setTimeout(()=>{C("smooth")},100);return()=>clearTimeout(e)}},[d,p.isMounted,f,e]),U(()=>{if(f&&d.length>0&&e){const e=setTimeout(()=>{C("smooth")},200);return()=>clearTimeout(e)}},[f,d.length,e]),U(()=>{if(u&&d.length>0&&e){const e=setTimeout(()=>{C("smooth")},150);return()=>clearTimeout(e)}},[u,d.length,e]),U(()=>{if(p.isMounted&&d.length>0&&e){C("auto");const e=setTimeout(()=>{C("smooth")},300);return()=>clearTimeout(e)}},[p.isMounted,d.length,e]);const S=L(()=>d.filter(e=>"bot"===e.sender&&"read"!==e.status).length,[d]);if(U(()=>{p.isMounted&&f&&d.length>0&&S>0&&e&&g()},[g,p.isMounted,f,d.length,S,e]),U(()=>()=>{d.length>0&&w().catch(console.error)},[w,d.length]),!r)return null;const M=n||Ci.t("modern.chat.support_title");/* @__PURE__ */
return Ie("div",{ref:l,className:"isw-modern-chat-window ".concat(a?"isw-closing":""),children:[
/* @__PURE__ */Ie(Cs,{title:M,subtitle:u?/* @__PURE__ */Ie(Ms,{}):Ss(h),onClose:i}),
/* @__PURE__ */Ie("div",{className:"isw-modern-chat-content",ref:b,children:p.isLoading?/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-justify-center isw-h-full",children:/* @__PURE__ */Ie("div",{className:"isw-animate-spin isw-h-5 isw-w-5 isw-border-2 isw-border-primary isw-border-t-transparent isw-rounded-full"})}):p.hasError?/* @__PURE__ */Ie("div",{className:"isw-flex isw-flex-col isw-items-center isw-justify-center isw-h-full isw-p-4 isw-text-center",children:[
/* @__PURE__ */Ie("div",{className:"isw-text-sm isw-text-gray-500 isw-mb-2",children:p.canRetry?Ci.t("error.connection"):Ci.t("error.loadMessagesFailed")}),p.shouldShowRetryButton&&/* @__PURE__ */Ie("button",{onClick:async()=>{p.canRetry&&p.resetRetries()},disabled:p.isRetrying,className:"isw-text-xs isw-text-primary isw-underline isw-disabled:opacity-50",children:p.isRetrying?Ci.t("action.retrying"):Ci.t("action.retry")})]}):/* @__PURE__ */Ie(o,{children:[0===d.length&&!p.isLoading&&f&&/* @__PURE__ */Ie("div",{className:"isw-flex isw-items-center isw-justify-center isw-h-full isw-p-4",children:/* @__PURE__ */Ie("div",{className:"isw-text-sm isw-text-gray-500 isw-text-center",children:Ci.t("chat.welcome.cta")})}),
/* @__PURE__ */Ie(Ka,{messages:d}),
/* @__PURE__ */Ie("div",{ref:y})]})})]})}},Symbol.toStringTag,{value:"Module"}));class Ts{constructor(){this.state="IDLE",this.activeTimeouts=/* @__PURE__ */new Set,this.widgetStore=null,this.storeLoadPromise=null,this.isDestroyed=!1}async showTypingWithDelay(e){if(this.isDestroyed)return;this.clearAllTimeouts(),this.state="WAITING";const t=window.setTimeout(async()=>{"WAITING"!==this.state||this.isDestroyed||(this.state="ACTIVE",await this.setTypingIndicator(!0))},e);this.addTimeout(t)}async hideTyping(){this.isDestroyed||(this.clearAllTimeouts(),this.state="IDLE",await this.setTypingIndicator(!1))}async startQueueProcessing(){this.isDestroyed||(this.clearAllTimeouts(),this.state="PROCESSING_QUEUE",await this.setTypingIndicator(!0))}isActive(){return"ACTIVE"===this.state||"PROCESSING_QUEUE"===this.state}isWaiting(){return"WAITING"===this.state}getCurrentState(){return this.state}destroy(){this.isDestroyed=!0,this.clearAllTimeouts(),this.state="IDLE",this.widgetStore=null,this.storeLoadPromise=null}addTimeout(e){this.activeTimeouts.add(e)}clearAllTimeouts(){this.activeTimeouts.forEach(e=>{window.clearTimeout(e)}),this.activeTimeouts.clear()}async getWidgetStore(){return this.widgetStore?this.widgetStore:(this.storeLoadPromise||(this.storeLoadPromise=this.loadWidgetStore()),this.storeLoadPromise)}async loadWidgetStore(){try{const{useWidgetStore:e}=await Promise.resolve().then(()=>tn);return this.widgetStore=e.getState(),this.widgetStore}catch(e){throw void 0,e}}async setTypingIndicator(e){if(!this.isDestroyed)try{const t=await this.getWidgetStore();if(t.setTypingBot(e),e||t.clearTypingDelay(),e){const e=window.setTimeout(()=>{this.isActive()&&!this.isDestroyed&&(void 0,this.hideTyping().catch(()=>{void 0}))},3e4);this.addTimeout(e)}}catch(t){void 0,await this.retrySetTypingIndicator(e)}}async retrySetTypingIndicator(e){if(!this.isDestroyed)try{await new Promise(e=>setTimeout(e,100)),this.widgetStore=null,this.storeLoadPromise=null;const t=await this.getWidgetStore();t.setTypingBot(e),e||t.clearTypingDelay()}catch(t){void 0}}emergencyCleanup(){void 0,this.clearAllTimeouts(),this.state="IDLE",this.setTypingIndicator(!1).catch(()=>{void 0})}}class Ns{async handleUrlAction(e,t){if(!(null==t?void 0:t.url))return void 0,void 0;const i=String(t.url),n=this.normalizeUrl(i);"open_external_web_page"===e?await this.openInNewTab(n):await this.navigateInCurrentTab(n)}normalizeUrl(e){const t=e.trim();if(t.startsWith("/"))return"".concat(window.location.protocol,"//").concat(window.location.host).concat(t);if(t.startsWith("./")||t.startsWith("../"))return new URL(t,window.location.href).href;if(t.includes("://"))return t;if(t.startsWith("localhost:3000/"))return"http://".concat(t);const i=t.match(/^([^/]+:\d+)(.*)$/);if(i){const e=i[1],t=i[2]||"/";return"http://".concat(e).concat(t)}return t.includes(".")&&!t.startsWith("/")?"https://".concat(t):"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(t)}async openInNewTab(e){void 0;const t=window.open(e,"_blank","noopener,noreferrer");let i=!1;try{i=!t||t.closed}catch(n){i=!t}if(i){void 0;try{await this.createUserInitiatedNavigation(e)}catch(a){void 0,await this.showNavigationConfirmation(e)}}}async navigateInCurrentTab(e){const t=this.ensureProperUrl(e);await this.tryNavigationStrategies(t)}async attemptSpaNavigation(e){try{if(this.isExternalUrl(e))return!1;void 0,window.history.pushState(null,"",e);try{const e=new PopStateEvent("popstate",{state:null});window.dispatchEvent(e)}catch(t){void 0}try{const e=new Event("locationchange");window.dispatchEvent(e)}catch(t){void 0}return!0}catch(i){return void 0,!1}}ensureProperUrl(e){return e.includes("://")?e:"".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(e.replace(/^\/+/,""))}async tryNavigationStrategies(e){let t=null;if(this.isExternalUrl(e)||!(await this.attemptSpaNavigation(e))){try{const t=new Promise((t,i)=>{const n=window.location.href;window.location.href=e,setTimeout(()=>{window.location.href===n?i(new Error("Navigation did not start - URL unchanged")):t()},1e3)});return await t,void 0}catch(i){t=i instanceof Error?i:new Error(String(i))}try{const t=new Promise((t,i)=>{const n=window.location.href;window.location.assign(e),setTimeout(()=>{window.location.href===n?i(new Error("Navigation did not start - URL unchanged")):t()},1e3)});return await t,void 0}catch(i){t=i instanceof Error?i:new Error(String(i))}try{const t=new Promise((t,i)=>{const n=window.location.href;window.location.replace(e),setTimeout(()=>{window.location.href===n?i(new Error("Navigation did not start - URL unchanged")):t()},1e3)});return await t,void 0}catch(i){t=i instanceof Error?i:new Error(String(i))}void 0;try{await this.openInNewTabFallback(e)}catch(n){throw void 0,new Error("All navigation strategies failed. Last error: ".concat((null==t?void 0:t.message)||"Unknown error"))}}}async openInNewTabFallback(e){void 0,window.open(e,"_blank","noopener,noreferrer")||await this.createUserClickableLink(e)}async createUserClickableLink(e){if(window.confirm("Navigation was blocked by the browser.\n\nWould you like to open the following URL?\n".concat(e,"\n\nClick OK to copy the URL to clipboard.")))try{await navigator.clipboard.writeText(e),alert("URL copied to clipboard! You can paste it in your browser address bar.")}catch(t){void 0,alert("Please manually copy this URL: ".concat(e))}}async createUserInitiatedNavigation(e){return new Promise((t,i)=>{try{const i=document.createElement("a");i.href=e,i.target="_blank",i.rel="noopener noreferrer",i.style.position="absolute",i.style.left="-9999px",i.style.top="-9999px",i.style.width="1px",i.style.height="1px",i.style.opacity="0",document.body.appendChild(i);const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});i.dispatchEvent(n),setTimeout(()=>{document.body.removeChild(i),t()},100)}catch(n){i(n)}})}async showNavigationConfirmation(e){try{window.confirm("The website wants to open a new tab to:\n".concat(e,"\n\nDo you want to continue?"))&&(window.open(e,"_blank","noopener,noreferrer")||(window.location.href=e))}catch(t){void 0,window.location.href=e}}isExternalUrl(e){try{return new URL(e,window.location.href).hostname!==window.location.hostname}catch(t){return!1}}isValidUrl(e){try{return new URL(e,window.location.href),!0}catch(t){return!1}}getDomainFromUrl(e){try{return new URL(e,window.location.href).hostname}catch(t){return null}}sanitizeUrl(e){const t=["javascript:","data:","vbscript:"],i=e.trim().toLowerCase();for(const n of t)if(i.startsWith(n))return void 0,"#";return e.trim()}}let As=null;class Es{constructor(e,t){this.activeRequests=/* @__PURE__ */new Map,this.actionCallDepth=0,this.maxActionDepth=3,this.REQUEST_TIMEOUT=6e4,this.FETCH_TIMEOUT=3e4,this.SCREENSHOT_ACTION_MAP={get_current_screenshot_view_port:"viewport",get_full_page_screenshot:"fullPage",get_header_screenshot:"header",get_footer_screenshot:"footer"},this.webhookUrl=e,this.headers=t,this.cleanupIntervalId=setInterval(()=>{this.cleanupStaleRequests()},3e4)}cleanupStaleRequests(){const e=Date.now(),t=[];this.activeRequests.forEach((i,n)=>{e-i.timestamp>this.REQUEST_TIMEOUT&&t.push(n)}),t.forEach(e=>this.activeRequests.delete(e))}validateActionData(e,t){if(!e||"object"!=typeof e)return!1;const i=e;return t.every(e=>{const t=i[e];return null!=t&&""!==t})}async processActionCall(e,t){if(!(this.actionCallDepth>=this.maxActionDepth)){this.actionCallDepth++;try{const{action_type:i,action_data:n}=e;0,await this.handleAction(i,n||{},t)}catch(i){}finally{this.actionCallDepth--}}}async handleAction(e,t,i){const n=this.SCREENSHOT_ACTION_MAP[e];if(n)return await this.handleScreenshotAction(n,void 0,i),void 0;switch(e){case"ScreenAction":await this.handleScreenAction(t,i);break;case"StructureAction":await this.handleStructureAction(t,i);break;case"UrlAction":await this.handleUrlAction(t)}}async handleScreenAction(e,t){if(!this.validateActionData(e,["action"]))return;const i=this.SCREENSHOT_ACTION_MAP[e.action];i&&await this.handleScreenshotAction(i,void 0,t)}async handleStructureAction(e,t){this.validateActionData(e,["action"])&&"get_current_page_content"===e.action&&await this.handlePageContentAction(t)}async handleUrlAction(e){if(!(null==e?void 0:e.action))return;const t=String(e.action);if("open_web_page"===t||"open_external_web_page"===t){const i=(As||(As=new Ns),As);await i.handleUrlAction(t,e)}}async handlePageContentAction(e){const t="page_content_extraction";if(this.activeRequests.has(t))return;const i=this.performPageContentExtraction(e);this.activeRequests.set(t,{promise:i,timestamp:Date.now()});try{await i}finally{this.activeRequests.delete(t)}}async performPageContentExtraction(e){try{const t=this.extractPageInformation();await this.submitDataToAPI({message:t},e,"page_content")}catch(t){throw t}}async handleScreenshotAction(e,t,i){const n="screenshot_".concat(e);if(this.activeRequests.has(n))return;const a=this.performScreenshotCapture(e,t,i);this.activeRequests.set(n,{promise:a,timestamp:Date.now()});try{await a}finally{this.activeRequests.delete(n)}}async performScreenshotCapture(e,t,i){try{const{ScreenshotService:n}=await Promise.resolve().then(()=>sa),a=new n;let s;const o={format:"png",quality:.8};switch(e){case"viewport":s=await a.captureViewport(o);break;case"fullPage":s=await a.captureElement("body",o);break;case"header":s=await a.captureElement('header, .header, nav, .navbar, [role="banner"]',o);break;case"footer":s=await a.captureElement('footer, .footer, [role="contentinfo"]',o)}s&&await this.submitScreenshotToAPI(s.dataUrl,t,i)}catch(n){throw n}}async submitScreenshot(e,t,i){const n="external_screenshot_".concat(Date.now()),a=this.submitScreenshotToAPI(e,t,i);this.activeRequests.set(n,{promise:a,timestamp:Date.now()});try{await a}finally{this.activeRequests.delete(n)}}async submitScreenshotToAPI(e,t,i){try{const n=In(),a=n.extractBase64Data(e),s=n.extractMimeTypeFromDataUrl(e),o=n.getExtensionFromMimeType(s),r={data:a,mimeType:s,filename:n.generateScreenshotFilename(o)};await this.submitDataToAPI({message:t||void 0,images:[r]},i,"screenshot")}catch(n){throw n}}async submitDataToAPI(e,t,i="generic"){const n=new AbortController,a=setTimeout(()=>n.abort(),this.FETCH_TIMEOUT);try{const i={userId:Di(),conversationId:Vi(),timestamp:/* @__PURE__ */(new Date).toISOString(),deviceData:Oi(),userBehaviour:await zi(),...e},s=await fetch(this.webhookUrl,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":this.headers["X-API-Key"]},body:JSON.stringify(i),signal:n.signal});if(clearTimeout(a),!s.ok){const e=await s.json().catch(()=>({})),t=new Error(e.error||"HTTP ".concat(s.status));throw t.response={status:s.status,data:e},t}const o=await s.json();await this.processAPIResponse(o,t)}catch(s){if(clearTimeout(a),"AbortError"===s.name)throw new Error("".concat(i," request timed out after ").concat(this.FETCH_TIMEOUT,"ms"));throw s}}async processAPIResponse(e,t){const i=kn(),n=await i.processEnhancedResponse(e,Vi());if(n.messages.length>0&&t&&await t(n.messages),n.actionCall&&this.actionCallDepth<this.maxActionDepth)try{await this.processActionCall(n.actionCall,t)}catch(a){}}extractPageInformation(){try{const e=window.location.href,t=document.title||"No title available",i=this.getMetaDescription(),n=this.extractCleanTextContent();return"Additional information for current user website page:\nWeb address: ".concat(e,"\nPage title: ").concat(t,"\nPage description: ").concat(i,"\nContent:\n").concat(n)}catch(e){return"Additional information for current user website page:\nWeb address: ".concat(window.location.href,"\nPage title: ").concat(document.title||"No title available","\nPage description: Not available\nContent:\nUnable to extract page content due to an error.")}}getMetaDescription(){try{const e=document.querySelector('meta[name="description"]');if(null==e?void 0:e.content)return e.content.trim();const t=document.querySelector('meta[property="og:description"]');return(null==t?void 0:t.content)?t.content.trim():"No description available"}catch(e){return"Not available"}}extractCleanTextContent(){try{const e=document.body.cloneNode(!0),t=["script","style","noscript","iframe","#isales-widget-root","[data-isales-widget]","[data-react-root]","[data-reactroot]","[data-vue-app]","[ng-version]","[data-gatsby]","[data-next-id]","nav","header","footer",'[role="navigation"]','[role="banner"]','[role="contentinfo"]'];e.querySelectorAll(t.join(", ")).forEach(e=>e.remove());let i=e.textContent||e.innerText||"";if(i=kn().normalizeTextContent(i),i.length>3e3){const e=i.substring(0,3e3),t=Math.max(e.lastIndexOf("."),e.lastIndexOf("!"),e.lastIndexOf("?"));i=t>2800?e.substring(0,t+1)+"...":e+"..."}return i||"No readable content found on this page."}catch(e){return"Unable to extract page content due to an error."}}cleanup(){this.cleanupIntervalId&&(clearInterval(this.cleanupIntervalId),this.cleanupIntervalId=void 0),this.activeRequests.clear(),this.actionCallDepth=0}updateConfig(e,t){e&&(this.webhookUrl=e),t&&(this.headers=t)}getCurrentActionDepth(){return this.actionCallDepth}getActiveRequestCount(){return this.activeRequests.size}}let _s=null;class Is{constructor(){var e;const t=gi.get(),i={...oi.getSecureHeaders(),"X-API-Key":t.apiKey},n=(null==(e=t.api)?void 0:e.baseUrl)||"https://api.isales.ai",a="".concat(n,"/widget");this.typingManager=new Ts,this.messageService=Dn(),this.messageQueueService=zn(a,i),this.actionService=((e,t)=>{if(!_s){if(!e||!t)throw new Error("ActionService requires webhookUrl and headers for initialization");_s=new Es(e,t)}return _s})(a,i)}async sendMessage(e,t){return await this.messageService.sendMessage(e,t)}async sendMessageWithQueue(e){try{const i=this.sendMessage(e),{useWidgetStore:n}=await Promise.resolve().then(()=>tn),a=n.getState().setTypingBotWithDelay,s=n.getState().clearTypingDelay;a();const o=await i;if(o.messages.length>1?(await this.messageQueueService.processMessageQueue(o.messages,e=>this.addMessageToWidgetWithConfirmation(e,!1)),s()):1===o.messages.length?(await new Promise(e=>setTimeout(e,1e3)),s(),this.addMessageToWidget(o.messages[0]),await this.messageQueueService.confirmMessageDelivery(o.messages[0].id)):s(),o.actionCall)try{await this.processActionCall(o.actionCall)}catch(t){void 0}}catch(t){try{const{useWidgetStore:e}=await Promise.resolve().then(()=>tn);(0,e.getState().clearTypingDelay)()}catch(i){void 0}throw void 0,t}}async processActionCall(e){await this.actionService.processActionCall(e,this.handleBotMessagesReceived.bind(this))}async submitScreenshot(e,t){await this.actionService.submitScreenshot(e,t,this.handleBotMessagesReceived.bind(this))}async initializeUndeliveredMessages(){const e=Vi();await this.messageQueueService.initializeUndeliveredMessages(e)}createUserMessage(e){return this.messageService.createUserMessage(e)}createErrorMessage(e){return this.messageService.createErrorMessage(e)}updateConfig(){var e;this.messageService.updateConfig();const t=gi.get(),i={...oi.getSecureHeaders(),"X-API-Key":t.apiKey},n=(null==(e=t.api)?void 0:e.baseUrl)||"https://api.isales.ai",a="".concat(n,"/widget");this.messageQueueService.updateConfig(a,i),this.actionService.updateConfig(a,i)}cancelPendingRequests(){this.messageService.cancelPendingRequests(),Promise.resolve().then(()=>tn).then(({useWidgetStore:e})=>{(0,e.getState().clearTypingDelay)()}).catch(()=>{void 0})}destroy(){this.cancelPendingRequests(),this.typingManager.destroy(),Promise.resolve().then(()=>tn).then(({useWidgetStore:e})=>{(0,e.getState().clearTypingDelay)()}).catch(()=>{void 0})}async handleBotMessagesReceived(e){for(const t of e)await this.addMessageToWidgetWithConfirmation(t)}async addMessageToWidgetWithConfirmation(e,t=!0){try{if(this.addMessageToWidget(e),"bot"===e.sender&&t){await new Promise(e=>setTimeout(e,300));try{await this.messageQueueService.confirmMessageDelivery(e.id)}catch(i){void 0}}}catch(n){throw void 0,n}}addMessageToWidget(e){Promise.resolve().then(()=>tn).then(async({useWidgetStore:t})=>{const i=t.getState().addMessage;if(!Vi()){void 0;const e=ai();(e=>{try{e&&"string"==typeof e&&""!==e.trim()?localStorage.setItem("isw_conversation_id",e.trim()):void 0}catch(t){void 0}})(e),t.getState().setConversationId(e)}if(await i(e),"bot"===e.sender)try{await t.getState().forceSaveConversation()}catch(n){void 0}}).catch(()=>{void 0})}}let xs=null;const Rs=/* @__PURE__ */Object.freeze(/* @__PURE__ */Object.defineProperty({__proto__:null,ChatService:Is,destroyChatService:()=>{xs&&(xs.destroy(),xs=null)},getChatService:()=>(xs||(xs=new Is),xs)},Symbol.toStringTag,{value:"Module"}));e.ISalesWidget=an,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}()},"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).iSalesWidget={});